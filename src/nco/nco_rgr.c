



<!DOCTYPE html>
<html lang="en" class=" is-copy-enabled emoji-size-boost">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=1020">
    
    
    <title>nco/nco_rgr.c at master · nco/nco</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="nco/nco" name="twitter:title" /><meta content="nco - netCDF Operators" name="twitter:description" /><meta content="https://avatars0.githubusercontent.com/u/13952264?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars0.githubusercontent.com/u/13952264?v=3&amp;s=400" property="og:image" /><meta content="nco/nco" property="og:title" /><meta content="https://github.com/nco/nco" property="og:url" /><meta content="nco - netCDF Operators" property="og:description" />
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="web-socket" href="wss://live.github.com/_sockets/MTM3NTMyNzM6MDNmNWMyYzY0YjkxYzQ4YzhkODQwZmU2MGU0MzNlZjA6ZjliMTZkNGQ1Y2MxMzgxZDJiMmEwZmNlMjdlOGI4ZjIxYjBjN2Y5ZDMwNjE4NTRjYzcyMTc0NzM1M2QwN2M2NA==--7949f9d4b5434f121621655c377c4362dd73655a">
    <meta name="pjax-timeout" content="1000">
    <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="A9EAE36D:7016:5A23C7:565F5128" name="octolytics-dimension-request_id" /><meta content="13753273" name="octolytics-actor-id" /><meta content="wenshanw" name="octolytics-actor-login" /><meta content="057bb25aeb0db651aaec0ef5221c6de46cb26c439931be9a14fc5528ed12c044" name="octolytics-actor-hash" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />
<meta content="Rails, view, blob#show" data-pjax-transient="true" name="analytics-event" />


  <meta class="js-ga-set" name="dimension1" content="Logged In">
    <meta class="js-ga-set" name="dimension4" content="New repo nav">




    <meta name="is-dotcom" content="true">
        <meta name="hostname" content="github.com">
    <meta name="user-login" content="wenshanw">

      <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#4078c0">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <meta content="1908b186a8678eda82b6bb721b77d58fcf9d13ee" name="form-nonce" />

    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-5e2d1232bc97970f293f259bcb6ab137945cb5635b398c2a81027bf21f0255c8.css" integrity="sha256-Xi0SMryXlw8pPyWby2qxN5RctWNbOYwqgQJ78h8CVcg=" media="all" rel="stylesheet" />
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github2-a2501013b84e6062c9171a31d4fdb2225390126ddc5d8453188bc41b2a82ce18.css" integrity="sha256-olAQE7hOYGLJFxox1P2yIlOQEm3cXYRTGIvEGyqCzhg=" media="all" rel="stylesheet" />
    
    
    


    <meta http-equiv="x-pjax-version" content="7fb9f915c638c2f64933b18f141915f0">

      
  <meta name="description" content="nco - netCDF Operators">
  <meta name="go-import" content="github.com/nco/nco git https://github.com/nco/nco.git">

  <meta content="13952264" name="octolytics-dimension-user_id" /><meta content="nco" name="octolytics-dimension-user_login" /><meta content="31292536" name="octolytics-dimension-repository_id" /><meta content="nco/nco" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="31292536" name="octolytics-dimension-repository_network_root_id" /><meta content="nco/nco" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/nco/nco/commits/master.atom" rel="alternate" title="Recent Commits to nco:master" type="application/atom+xml">

  </head>


  <body class="logged_in   env-production macintosh vis-public page-blob">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>

    
    
    



      <div class="header header-logged-in true" role="banner">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <span class="mega-octicon octicon-mark-github"></span>
</a>


      <div class="site-search repo-scope js-site-search" role="search">
          <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/nco/nco/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <label class="js-chromeless-input-container form-control">
    <div class="scope-badge">This repository</div>
    <input type="text"
      class="js-site-search-focus js-site-search-field is-clearable chromeless-input"
      data-hotkey="s"
      name="q"
      placeholder="Search"
      aria-label="Search this repository"
      data-global-scope-placeholder="Search GitHub"
      data-repo-scope-placeholder="Search"
      tabindex="1"
      autocapitalize="off">
  </label>
</form>
      </div>

      <ul class="header-nav left" role="navigation">
        <li class="header-nav-item">
          <a href="/pulls" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:pulls context:user" data-hotkey="g p" data-selected-links="/pulls /pulls/assigned /pulls/mentioned /pulls">
            Pull requests
</a>        </li>
        <li class="header-nav-item">
          <a href="/issues" class="js-selected-navigation-item header-nav-link" data-ga-click="Header, click, Nav menu - item:issues context:user" data-hotkey="g i" data-selected-links="/issues /issues/assigned /issues/mentioned /issues">
            Issues
</a>        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com/" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
      </ul>

    
<ul class="header-nav user-nav right" id="user-links">
  <li class="header-nav-item">
      <span class="js-socket-channel js-updatable-content"
        data-channel="notification-changed:wenshanw"
        data-url="/notifications/header">
      <a href="/notifications" aria-label="You have no unread notifications" class="header-nav-link notification-indicator tooltipped tooltipped-s" data-ga-click="Header, go to notifications, icon:read" data-hotkey="g n">
          <span class="mail-status all-read"></span>
          <span class="octicon octicon-bell"></span>
</a>  </span>

  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link tooltipped tooltipped-s js-menu-target" href="/new"
       aria-label="Create new…"
       data-ga-click="Header, create new, icon:add">
      <span class="octicon octicon-plus left"></span>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <ul class="dropdown-menu dropdown-menu-sw">
        
<a class="dropdown-item" href="/new" data-ga-click="Header, create new repository">
  New repository
</a>


  <a class="dropdown-item" href="/organizations/new" data-ga-click="Header, create new organization">
    New organization
  </a>



  <div class="dropdown-divider"></div>
  <div class="dropdown-header">
    <span title="nco/nco">This repository</span>
  </div>
    <a class="dropdown-item" href="/nco/nco/issues/new" data-ga-click="Header, create new issue">
      New issue
    </a>

      </ul>
    </div>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link name tooltipped tooltipped-sw js-menu-target" href="/wenshanw"
       aria-label="View profile and more"
       data-ga-click="Header, show menu, icon:avatar">
      <img alt="@wenshanw" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/13753273?v=3&amp;s=40" width="20" />
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      <div class="dropdown-menu  dropdown-menu-sw">
        <div class=" dropdown-header header-nav-current-user css-truncate">
            Signed in as <strong class="css-truncate-target">wenshanw</strong>

        </div>


        <div class="dropdown-divider"></div>

          <a class="dropdown-item" href="/wenshanw" data-ga-click="Header, go to profile, text:your profile">
            Your profile
          </a>
        <a class="dropdown-item" href="/stars" data-ga-click="Header, go to starred repos, text:your stars">
          Your stars
        </a>
        <a class="dropdown-item" href="/explore" data-ga-click="Header, go to explore, text:explore">
          Explore
        </a>
          <a class="dropdown-item" href="/integrations" data-ga-click="Header, go to integrations, text:integrations">
            Integrations
          </a>
        <a class="dropdown-item" href="https://help.github.com" data-ga-click="Header, go to help, text:help">
          Help
        </a>

          <div class="dropdown-divider"></div>

          <a class="dropdown-item" href="/settings/profile" data-ga-click="Header, go to settings, icon:settings">
            Settings
          </a>

          <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/logout" class="logout-form" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="5DO0M3YYzSPyHpqmnujx26yQT5KHUqzWPdA1Zy/sgj9+6d31YlMF1KOm96NgkEj9BK4sQv+RgkKFUjSRL7M5yA==" /></div>
            <button class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
              Sign out
            </button>
</form>
      </div>
    </div>
  </li>
</ul>


    
  </div>
</div>

      

      


    <div id="start-of-content" class="accessibility-aid"></div>

    <div id="js-flash-container">
</div>


    <div role="main" class="main-content">
        <div itemscope itemtype="http://schema.org/WebPage">
    <div id="js-repo-pjax-container" class="context-loader-container js-repo-nav-next" data-pjax-container>
      
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
  <div class="container repohead-details-container">

    

<ul class="pagehead-actions">

  <li>
        <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="5oVnuYowaShlboI6kMpainVaaiUjUNgAQUDDVFglyNZ5dUVayWbQEpefMdohtpUBro77IeIJokaq1ZtUxcxJyA==" /></div>      <input id="repository_id" name="repository_id" type="hidden" value="31292536" />

        <div class="select-menu js-menu-container js-select-menu">
          <a href="/nco/nco/subscription"
            class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true"
            data-ga-click="Repository, click Watch settings, action:blob#show">
            <span class="js-select-button">
              <span class="octicon octicon-eye"></span>
              Watch
            </span>
          </a>
          <a class="social-count js-social-count" href="/nco/nco/watchers">
            4
          </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
            <div class="select-menu-header">
              <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
              <span class="select-menu-title">Notifications</span>
            </div>

              <div class="select-menu-list js-navigation-container" role="menu">

                <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                  <span class="select-menu-item-icon octicon octicon-check"></span>
                  <div class="select-menu-item-text">
                    <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                    <span class="select-menu-item-heading">Not watching</span>
                    <span class="description">Be notified when participating or @mentioned.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <span class="octicon octicon-eye"></span>
                      Watch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <span class="select-menu-item-icon octicon octicon octicon-check"></span>
                  <div class="select-menu-item-text">
                    <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                    <span class="select-menu-item-heading">Watching</span>
                    <span class="description">Be notified of all conversations.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <span class="octicon octicon-eye"></span>
                      Unwatch
                    </span>
                  </div>
                </div>

                <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                  <span class="select-menu-item-icon octicon octicon-check"></span>
                  <div class="select-menu-item-text">
                    <input id="do_ignore" name="do" type="radio" value="ignore" />
                    <span class="select-menu-item-heading">Ignoring</span>
                    <span class="description">Never be notified.</span>
                    <span class="js-select-button-text hidden-select-button-text">
                      <span class="octicon octicon-mute"></span>
                      Stop ignoring
                    </span>
                  </div>
                </div>

              </div>

            </div>
          </div>
        </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">

    <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/unstar" class="js-toggler-form starred js-unstar-button" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="jNt3P9CUS6T6zceVCRE6vDHcgvUmhHm4n5DR6fN0uqmxJTKPymtfF0Pl9SWVac1ftXBl1BMHv5t162yLXhLW0Q==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar nco/nco"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <span class="octicon octicon-star"></span>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/nco/nco/stargazers">
          12
        </a>
</form>
    <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/star" class="js-toggler-form unstarred js-star-button" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="RgF0CwZ/nEw9jUB1u+63oKWuVqvvtE5+fdLU83//AuGHTagKWG7tCrlweC6DvQkIu4YNoFV8hYzjUgQXcHvmOA==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star nco/nco"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <span class="octicon octicon-star"></span>
        Star
      </button>
        <a class="social-count js-social-count" href="/nco/nco/stargazers">
          12
        </a>
</form>  </div>

  </li>

  <li>
          <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/fork" class="btn-with-count" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="odMFz64sxRHuwQHtBPrkqCs3iMSxZvmFYKf4hZ2XObwUEAAbrXnmZnCll53HNIG4ZdtexgiJ9ADPmix4bHNiQQ==" /></div>
            <button
                type="submit"
                class="btn btn-sm btn-with-count"
                data-ga-click="Repository, show fork modal, action:blob#show; text:Fork"
                title="Fork your own copy of nco/nco to your account"
                aria-label="Fork your own copy of nco/nco to your account">
              <span class="octicon octicon-repo-forked"></span>
              Fork
            </button>
</form>
    <a href="/nco/nco/network" class="social-count">
      8
    </a>
  </li>
</ul>

    <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public ">
  <span class="octicon octicon-repo"></span>
  <span class="author"><a href="/nco" class="url fn" itemprop="url" rel="author"><span itemprop="title">nco</span></a></span><!--
--><span class="path-divider">/</span><!--
--><strong><a href="/nco/nco" data-pjax="#js-repo-pjax-container">nco</a></strong>

  <span class="page-context-loader">
    <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
  </span>

</h1>

  </div>
  <div class="container">
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/nco/nco/issues/counts">

  <a href="/nco/nco" aria-label="Code" aria-selected="true" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /nco/nco">
    <span class="octicon octicon-code"></span>
    Code
</a>
    <a href="/nco/nco/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /nco/nco/issues">
      <span class="octicon octicon-issue-opened"></span>
      Issues
      <span class="counter">1</span>

</a>
  <a href="/nco/nco/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /nco/nco/pulls">
    <span class="octicon octicon-git-pull-request"></span>
    Pull requests
    <span class="counter">0</span>

</a>
    <a href="/nco/nco/wiki" class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /nco/nco/wiki">
      <span class="octicon octicon-book"></span>
      Wiki
</a>
  <a href="/nco/nco/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /nco/nco/pulse">
    <span class="octicon octicon-pulse"></span>
    Pulse
</a>
  <a href="/nco/nco/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /nco/nco/graphs">
    <span class="octicon octicon-graph"></span>
    Graphs
</a>

</nav>

  </div>
</div>

<div class="container repo-container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    

<a href="/nco/nco/blob/d021a33c9e27c6fe73dbf92eec66e3db53f215a8/src/nco/nco_rgr.c" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:8b7fb12e2c0196ff49c460661520516d -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu js-menu-container js-select-menu left">
  <button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    title="master"
    type="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <i>Branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/nco/nco/blob/csz/src/nco/nco_rgr.c"
               data-name="csz"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="csz">
                csz
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/nco/nco/blob/hmb/src/nco/nco_rgr.c"
               data-name="hmb"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="hmb">
                hmb
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/nco/nco/blob/master/src/nco/nco_rgr.c"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="master">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/nco/nco/blob/pvn/src/nco/nco_rgr.c"
               data-name="pvn"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="pvn">
                pvn
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/nco/nco/blob/rgr/src/nco/nco_rgr.c"
               data-name="rgr"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="rgr">
                rgr
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/nco-4.4.9-alpha/src/nco/nco_rgr.c"
                 data-name="nco-4.4.9-alpha"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="nco-4.4.9-alpha">nco-4.4.9-alpha</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/nco-4.4.8/src/nco/nco_rgr.c"
                 data-name="nco-4.4.8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="nco-4.4.8">nco-4.4.8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.4-alpha03/src/nco/nco_rgr.c"
                 data-name="4.5.4-alpha03"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.4-alpha03">4.5.4-alpha03</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.4-alpha02/src/nco/nco_rgr.c"
                 data-name="4.5.4-alpha02"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.4-alpha02">4.5.4-alpha02</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.4-alpha01/src/nco/nco_rgr.c"
                 data-name="4.5.4-alpha01"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.4-alpha01">4.5.4-alpha01</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3/src/nco/nco_rgr.c"
                 data-name="4.5.3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3">4.5.3</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-beta01/src/nco/nco_rgr.c"
                 data-name="4.5.3-beta01"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-beta01">4.5.3-beta01</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha08/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha08"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha08">4.5.3-alpha08</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha07/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha07"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha07">4.5.3-alpha07</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha06/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha06"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha06">4.5.3-alpha06</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha05/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha05"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha05">4.5.3-alpha05</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha04/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha04"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha04">4.5.3-alpha04</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha03/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha03"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha03">4.5.3-alpha03</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha02/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha02"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha02">4.5.3-alpha02</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.3-alpha01/src/nco/nco_rgr.c"
                 data-name="4.5.3-alpha01"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.3-alpha01">4.5.3-alpha01</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2/src/nco/nco_rgr.c"
                 data-name="4.5.2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2">4.5.2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-beta2/src/nco/nco_rgr.c"
                 data-name="4.5.2-beta2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-beta2">4.5.2-beta2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-beta1/src/nco/nco_rgr.c"
                 data-name="4.5.2-beta1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-beta1">4.5.2-beta1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha9/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha9"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha9">4.5.2-alpha9</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha8/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha8">4.5.2-alpha8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha7/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha7">4.5.2-alpha7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha6/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha6">4.5.2-alpha6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha5/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha5">4.5.2-alpha5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha4/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha4"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha4">4.5.2-alpha4</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha3/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha3">4.5.2-alpha3</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha2/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha2">4.5.2-alpha2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.2-alpha1/src/nco/nco_rgr.c"
                 data-name="4.5.2-alpha1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.2-alpha1">4.5.2-alpha1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1/src/nco/nco_rgr.c"
                 data-name="4.5.1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1">4.5.1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-beta2/src/nco/nco_rgr.c"
                 data-name="4.5.1-beta2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-beta2">4.5.1-beta2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-beta1/src/nco/nco_rgr.c"
                 data-name="4.5.1-beta1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-beta1">4.5.1-beta1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha8/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha8">4.5.1-alpha8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha7/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha7">4.5.1-alpha7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha6/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha6">4.5.1-alpha6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha5/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha5">4.5.1-alpha5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha4/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha4"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha4">4.5.1-alpha4</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha3/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha3">4.5.1-alpha3</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha2/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha2">4.5.1-alpha2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.1-alpha1/src/nco/nco_rgr.c"
                 data-name="4.5.1-alpha1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.1-alpha1">4.5.1-alpha1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0/src/nco/nco_rgr.c"
                 data-name="4.5.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0">4.5.0</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta9/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta9"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta9">4.5.0-beta9</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta8/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta8">4.5.0-beta8</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta7/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta7"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta7">4.5.0-beta7</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta6/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta6"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta6">4.5.0-beta6</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta5/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta5">4.5.0-beta5</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta4/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta4"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta4">4.5.0-beta4</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta3/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta3">4.5.0-beta3</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta2/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta2">4.5.0-beta2</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-beta1/src/nco/nco_rgr.c"
                 data-name="4.5.0-beta1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-beta1">4.5.0-beta1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.5.0-alpha1/src/nco/nco_rgr.c"
                 data-name="4.5.0-alpha1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.5.0-alpha1">4.5.0-alpha1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.4.9/src/nco/nco_rgr.c"
                 data-name="4.4.9"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.4.9">4.4.9</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/nco/nco/tree/4.4.8/src/nco/nco_rgr.c"
                 data-name="4.4.8"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="4.4.8">4.4.8</a>
            </div>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="btn-group right">
      <a href="/nco/nco/find/master"
            class="js-show-file-finder btn btn-sm"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/nco/nco" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">nco</span></a></span></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/nco/nco/tree/master/src" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">src</span></a></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/nco/nco/tree/master/src/nco" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">nco</span></a></span><span class="separator">/</span><strong class="final-path">nco_rgr.c</strong>
    </div>
  </div>


  <div class="commit-tease">
      <span class="right">
        <a class="commit-tease-sha" href="/nco/nco/commit/d021a33c9e27c6fe73dbf92eec66e3db53f215a8" data-pjax>
          d021a33
        </a>
        <time datetime="2015-12-02T06:52:27Z" is="relative-time">Dec 1, 2015</time>
      </span>
      <div>
        <img alt="@czender" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/5597049?v=3&amp;s=40" width="20" />
        <a href="/czender" class="user-mention" rel="contributor">czender</a>
          <a href="/nco/nco/commit/d021a33c9e27c6fe73dbf92eec66e3db53f215a8" class="message" data-pjax="true" title="Add tmask as usual suspect for mask in nco_grd_nfr(). Allow input masks of any type in nco_grd_nfr() (CICE has tmask as NC_FLOAT) and always convert output to NC_INT">Add tmask as usual suspect for mask in nco_grd_nfr(). Allow input mas…</a>
      </div>

    <div class="commit-tease-contributors">
      <a class="muted-link contributors-toggle" href="#blob_contributors_box" rel="facebox">
        <strong>2</strong>
         contributors
      </a>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="czender" href="/nco/nco/commits/master/src/nco/nco_rgr.c?author=czender"><img alt="@czender" class="avatar" height="20" src="https://avatars2.githubusercontent.com/u/5597049?v=3&amp;s=40" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="wenshanw" href="/nco/nco/commits/master/src/nco/nco_rgr.c?author=wenshanw"><img alt="@wenshanw" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/13753273?v=3&amp;s=40" width="20" /> </a>


    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@czender" height="24" src="https://avatars0.githubusercontent.com/u/5597049?v=3&amp;s=48" width="24" />
            <a href="/czender">czender</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@wenshanw" height="24" src="https://avatars3.githubusercontent.com/u/13753273?v=3&amp;s=48" width="24" />
            <a href="/wenshanw">wenshanw</a>
          </li>
      </ul>
    </div>
  </div>

<div class="file">
  <div class="file-header">
  <div class="file-actions">

    <div class="btn-group">
      <a href="/nco/nco/raw/master/src/nco/nco_rgr.c" class="btn btn-sm " id="raw-url">Raw</a>
        <a href="/nco/nco/blame/master/src/nco/nco_rgr.c" class="btn btn-sm js-update-url-with-hash">Blame</a>
      <a href="/nco/nco/commits/master/src/nco/nco_rgr.c" class="btn btn-sm " rel="nofollow">History</a>
    </div>

        <a class="octicon-btn tooltipped tooltipped-nw"
           href="https://mac.github.com"
           aria-label="Open this file in GitHub Desktop"
           data-ga-click="Repository, open with desktop, type:mac">
            <span class="octicon octicon-device-desktop"></span>
        </a>

        <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/edit/master/src/nco/nco_rgr.c" class="inline-form js-update-url-with-hash" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="Os567g2IH0VMab6BbTGsObdq3j5fQMUTqtnGOrR9zjI3oj2Bc7A2mPrIQVv+AqRSuw5UaZ/mxEGPsU0iohnZCQ==" /></div>
          <button class="octicon-btn tooltipped tooltipped-nw" type="submit"
            aria-label="Edit the file in your fork of this project" data-hotkey="e" data-disable-with>
            <span class="octicon octicon-pencil"></span>
          </button>
</form>        <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/nco/nco/delete/master/src/nco/nco_rgr.c" class="inline-form" data-form-nonce="1908b186a8678eda82b6bb721b77d58fcf9d13ee" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="E8ik5pW92ksUl15rWBf17Y3zUeQYA4OBVqF5KGW8zF7a68Yz7Hr2ufOigo/a0ANIgQG3W0Vy07vIuVwULF2WQw==" /></div>
          <button class="octicon-btn octicon-btn-danger tooltipped tooltipped-nw" type="submit"
            aria-label="Delete the file in your fork of this project" data-disable-with>
            <span class="octicon octicon-trashcan"></span>
          </button>
</form>  </div>

  <div class="file-info">
      5547 lines (5079 sloc)
      <span class="file-info-divider"></span>
    280 KB
  </div>
</div>

  

  <div class="blob-wrapper data type-c">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c">/* $Header$ */</span></td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c">/* Purpose: NCO regridding utilities */</span></td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-c">/* Copyright (C) 2015--2015 Charlie Zender</span></td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c">   This file is part of NCO, the netCDF Operators. NCO is free software.</span></td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-c">   You may redistribute and/or modify NCO under the terms of the </span></td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c">   GNU General Public License (GPL) Version 3 with exceptions described in the LICENSE file */</span></td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>nco_rgr.h<span class="pl-pds">&quot;</span></span> <span class="pl-c">/* Regridding */</span></td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-c">/* O [enm] Return code */</span></td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line">nco_rgr_ctl <span class="pl-c">/* [fnc] Control regridding logic */</span></td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line">(rgr_sct * <span class="pl-k">const</span> rgr, <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line"> trv_tbl_sct * <span class="pl-k">const</span> trv_tbl) <span class="pl-c">/* I/O [sct] Traversal Table */</span></td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Control regridding logic */</span></td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rcd=NCO_NOERR;</td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_rgr_ctl()<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd=False; <span class="pl-c">/* [flg] Create SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line">  nco_bool flg_nfr=False; <span class="pl-c">/* [flg] Infer SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line">  nco_bool flg_map=False; <span class="pl-c">/* [flg] Regrid with external weights */</span></td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line">  nco_bool flg_smf=False; <span class="pl-c">/* [flg] ESMF regridding */</span></td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line">  nco_bool flg_tps=False; <span class="pl-c">/* [flg] Tempest regridding */</span></td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Main control branching occurs here</span></td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Branching complexity and utility will increase as regridding features are added */</span></td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;flg_grd) flg_grd=True;</td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;flg_nfr) flg_nfr=True;</td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;flg_map) flg_map=True;</td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;flg_grd_src &amp;&amp; rgr-&gt;flg_grd_dst) flg_smf=True;</td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;drc_tps &amp;&amp; !flg_map) flg_tps=True;</td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(!(flg_smf &amp;&amp; flg_map));</td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(!(flg_smf &amp;&amp; flg_tps));</td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(!(flg_map &amp;&amp; flg_tps));</td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Create SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd) rcd=<span class="pl-c1">nco_grd_mk</span>(rgr);</td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Infer SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_nfr) rcd=<span class="pl-c1">nco_grd_nfr</span>(rgr);</td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Regrid using external mapping weights */</span></td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_map) rcd=<span class="pl-c1">nco_rgr_map</span>(rgr,trv_tbl);</td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Regrid using ESMF library */</span></td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_smf){</td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">ifdef</span> ENABLE_ESMF</td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span> calling nco_rgr_esmf() to generate and apply regridding map<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_rgr_esmf</span>(rgr);</td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Close output and free dynamic memory */</span></td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_out_cls</span>(rgr-&gt;fl_out,rgr-&gt;fl_out_tmp,rgr-&gt;out_id);</td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">else</span> <span class="pl-c">/* !ENABLE_ESMF */</span></td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports attempt to use ESMF regridding without built-in support. Re-configure with --enable_esmf.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">endif</span> <span class="pl-c">/* !ENABLE_ESMF */</span></td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* !flg_smf */</span></td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Regrid using Tempest regridding */</span></td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_tps) rcd=<span class="pl-c1">nco_rgr_tps</span>(rgr);</td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rcd;</td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_ctl() */</span></td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">rgr_sct * <span class="pl-c">/* O [sct] Pointer to free&#39;d regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line">nco_rgr_free <span class="pl-c">/* [fnc] Deallocate regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line">(rgr_sct *rgr) <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Free all dynamic memory in regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* free() standalone command-line arguments */</span></td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;cmd_ln) rgr-&gt;cmd_ln=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;cmd_ln);</td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;grd_ttl) rgr-&gt;grd_ttl=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;grd_ttl);</td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_grd_src) rgr-&gt;fl_grd_src=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_grd_src);</td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_grd_dst) rgr-&gt;fl_grd_dst=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_grd_dst);</td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_in) rgr-&gt;fl_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_in);</td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_out) rgr-&gt;fl_out=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_out);</td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_out_tmp) rgr-&gt;fl_out_tmp=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_out_tmp);</td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_map) rgr-&gt;fl_map=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_map);</td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;var_nm) rgr-&gt;var_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;var_nm);</td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;xtn_var) rgr-&gt;xtn_var=(<span class="pl-k">char</span> **)<span class="pl-c1">nco_sng_lst_free</span>(rgr-&gt;xtn_var,rgr-&gt;xtn_nbr);</td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* free() strings associated with grid properties */</span></td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;fl_grd) rgr-&gt;fl_grd=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;fl_grd);</td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Tempest */</span></td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;drc_tps) rgr-&gt;drc_tps=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;drc_tps);</td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* free() memory used to construct KVMs */</span></td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;rgr_nbr &gt; <span class="pl-c1">0</span>) rgr-&gt;rgr_arg=<span class="pl-c1">nco_sng_lst_free</span>(rgr-&gt;rgr_arg,rgr-&gt;rgr_nbr);</td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* free() memory copied from KVMs */</span></td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;area_nm) rgr-&gt;area_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;area_nm);</td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;bnd_nm) rgr-&gt;bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;bnd_nm);</td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;bnd_tm_nm) rgr-&gt;bnd_tm_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;bnd_tm_nm);</td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;col_nm_in) rgr-&gt;col_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;col_nm_in);</td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;col_nm_out) rgr-&gt;col_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;col_nm_out);</td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;frc_nm) rgr-&gt;frc_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;frc_nm);</td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_bnd_nm) rgr-&gt;lat_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lat_bnd_nm);</td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_nm_in) rgr-&gt;lat_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lat_nm_in);</td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_nm_out) rgr-&gt;lat_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lat_nm_out);</td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_vrt_nm) rgr-&gt;lat_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lat_vrt_nm);</td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_wgt_nm) rgr-&gt;lat_wgt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lat_wgt_nm);</td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lon_bnd_nm) rgr-&gt;lon_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lon_bnd_nm);</td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lon_nm_in) rgr-&gt;lon_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lon_nm_in);</td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lon_nm_out) rgr-&gt;lon_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lon_nm_out);</td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lon_vrt_nm) rgr-&gt;lon_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;lon_vrt_nm);</td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;vrt_nm) rgr-&gt;vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;vrt_nm);</td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Lastly, free() regrid structure itself */</span></td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr) rgr=(rgr_sct *)<span class="pl-c1">nco_free</span>(rgr);</td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rgr;</td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_free() */</span></td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line">rgr_sct * <span class="pl-c">/* O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line">nco_rgr_ini <span class="pl-c">/* [fnc] Initialize regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-k">const</span> cmd_ln, <span class="pl-c">/* I [sng] Command-line */</span></td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">int</span> in_id, <span class="pl-c">/* I [id] Input netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> **rgr_arg, <span class="pl-c">/* [sng] Regridding arguments */</span></td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">int</span> rgr_arg_nbr, <span class="pl-c">/* [nbr] Number of regridding arguments */</span></td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_in, <span class="pl-c">/* I [sng] File containing fields to be regridded */</span></td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_out, <span class="pl-c">/* I [sng] File containing regridded fields */</span></td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_grd_src, <span class="pl-c">/* I [sng] File containing input grid */</span></td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_grd_dst, <span class="pl-c">/* I [sng] File containing destination grid */</span></td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_map, <span class="pl-c">/* I [sng] File containing mapping weights from source to destination grid */</span></td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> * <span class="pl-k">const</span> rgr_var, <span class="pl-c">/* I [sng] Variable for special regridding treatment */</span></td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">double</span> wgt_vld_thr, <span class="pl-c">/* I [frc] Weight threshold for valid destination value */</span></td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">char</span> **xtn_var, <span class="pl-c">/* [sng] I Extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">int</span> xtn_nbr) <span class="pl-c">/* [nbr] I Number of extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Initialize regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line">     </td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_rgr_ini()<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line">  rgr_sct *rgr;</td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate */</span></td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line">  rgr=(rgr_sct *)<span class="pl-c1">nco_malloc</span>(<span class="pl-k">sizeof</span>(rgr_sct));</td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Initialize variable directly or indirectly set via command-line (except for key-value arguments) */</span></td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line">  rgr-&gt;cmd_ln=<span class="pl-c1">strdup</span>(cmd_ln); <span class="pl-c">/* [sng] Command-line */</span></td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_usr_rqs=False; <span class="pl-c">/* [flg] User requested regridding */</span></td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line">  rgr-&gt;out_id=int_CEWI; <span class="pl-c">/* [id] Output netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line">  rgr-&gt;in_id=in_id; <span class="pl-c">/* [id] Input netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line">  rgr-&gt;rgr_arg=rgr_arg; <span class="pl-c">/* [sng] Regridding arguments */</span></td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line">  rgr-&gt;rgr_nbr=rgr_arg_nbr; <span class="pl-c">/* [nbr] Number of regridding arguments */</span></td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line">  rgr-&gt;drc_tps=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Directory where Tempest grids, meshes, and weights are stored */</span></td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_grd_src= rgr_grd_src ? True : False; <span class="pl-c">/* [flg] User-specified input grid */</span></td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_grd_src=rgr_grd_src; <span class="pl-c">/* [sng] File containing input grid */</span></td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_grd_dst= rgr_grd_dst ? True : False; <span class="pl-c">/* [flg] User-specified destination grid */</span></td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_grd_dst=rgr_grd_dst; <span class="pl-c">/* [sng] File containing destination grid */</span></td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_in=rgr_in; <span class="pl-c">/* [sng] File containing fields to be regridded */</span></td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_out=rgr_out; <span class="pl-c">/* [sng] File containing regridded fields */</span></td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_out_tmp=NULL_CEWI; <span class="pl-c">/* [sng] Temporary file containing regridded fields */</span></td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_map= rgr_map ? True : False; <span class="pl-c">/* [flg] User-specified mapping weights */</span></td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_map=rgr_map; <span class="pl-c">/* [sng] File containing mapping weights from source to destination grid */</span></td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line">  rgr-&gt;var_nm=rgr_var; <span class="pl-c">/* [sng] Variable for special regridding treatment */</span></td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line">  rgr-&gt;xtn_var=xtn_var; <span class="pl-c">/* [sng] Extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line">  rgr-&gt;xtn_nbr=xtn_nbr; <span class="pl-c">/* [nbr] Number of extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Did user explicitly request regridding? */</span></td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_arg_nbr &gt; <span class="pl-c1">0</span> || rgr_grd_src != <span class="pl-c1">NULL</span> || rgr_grd_dst != <span class="pl-c1">NULL</span> || rgr_map != <span class="pl-c1">NULL</span>) rgr-&gt;flg_usr_rqs=True;</td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Initialize arguments after copying */</span></td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;fl_out) rgr-&gt;fl_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>/data/zender/rgr/rgr_out.nc<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;fl_grd_dst) rgr-&gt;fl_grd_dst=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>/data/zender/scrip/grids/remap_grid_T42.nc<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;var_nm) rgr-&gt;var_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ORO<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports <span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>flg_usr_rqs = <span class="pl-c1">%d</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;flg_usr_rqs);</td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>rgr_nbr = <span class="pl-c1">%d</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;rgr_nbr);</td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_grd_src = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_grd_src ? rgr-&gt;fl_grd_src : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_grd_dst = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_grd_dst ? rgr-&gt;fl_grd_dst : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_in = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_in ? rgr-&gt;fl_in : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_out = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_out ? rgr-&gt;fl_out : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_out_tmp = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_out_tmp ? rgr-&gt;fl_out_tmp : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>fl_map = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;fl_map ? rgr-&gt;fl_map : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="LC191" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="LC192" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="LC193" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="LC194" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Flags */</span></td>
      </tr>
      <tr>
        <td id="L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="LC195" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(wgt_vld_thr == NC_MIN_DOUBLE){</td>
      </tr>
      <tr>
        <td id="L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="LC196" class="blob-code blob-code-inner js-file-line">    rgr-&gt;flg_rnr=False;</td>
      </tr>
      <tr>
        <td id="L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="LC197" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span> <span class="pl-k">if</span>(wgt_vld_thr &gt;= <span class="pl-c1">0.0</span> &amp;&amp; wgt_vld_thr &lt;= <span class="pl-c1">1.0</span>){</td>
      </tr>
      <tr>
        <td id="L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="LC198" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NB: Weight thresholds of 0.0 or nearly zero can lead to underflow or divide-by-zero errors */</span></td>
      </tr>
      <tr>
        <td id="L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="LC199" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">// const double wgt_vld_thr_min=1.0e-10; /* [frc] Minimum weight threshold for valid destination value */</span></td>
      </tr>
      <tr>
        <td id="L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="LC200" class="blob-code blob-code-inner js-file-line">    rgr-&gt;flg_rnr=True;</td>
      </tr>
      <tr>
        <td id="L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="LC201" class="blob-code blob-code-inner js-file-line">    rgr-&gt;wgt_vld_thr=wgt_vld_thr;</td>
      </tr>
      <tr>
        <td id="L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="LC202" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="LC203" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR weight threshold must be in [0.0,1.0] and user supplied wgt_vld_thr = <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),wgt_vld_thr);</td>
      </tr>
      <tr>
        <td id="L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="LC204" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="LC205" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="LC206" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="LC207" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Parse extended kvm options */</span></td>
      </tr>
      <tr>
        <td id="L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="LC208" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> cnv_nbr; <span class="pl-c">/* [nbr] Number of elements converted by sscanf() */</span></td>
      </tr>
      <tr>
        <td id="L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="LC209" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rgr_arg_idx; <span class="pl-c">/* [idx] Index over rgr_arg (i.e., separate invocations of &quot;--rgr var1[,var2]=val&quot;) */</span></td>
      </tr>
      <tr>
        <td id="L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="LC210" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rgr_var_idx; <span class="pl-c">/* [idx] Index over rgr_lst (i.e., all names explicitly specified in all &quot;--rgr var1[,var2]=val&quot; options) */</span></td>
      </tr>
      <tr>
        <td id="L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="LC211" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rgr_var_nbr=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="LC212" class="blob-code blob-code-inner js-file-line">  kvm_sct *rgr_lst; <span class="pl-c">/* [sct] List of all regrid specifications */</span></td>
      </tr>
      <tr>
        <td id="L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="LC213" class="blob-code blob-code-inner js-file-line">  kvm_sct kvm;</td>
      </tr>
      <tr>
        <td id="L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="LC214" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="LC215" class="blob-code blob-code-inner js-file-line">  rgr_lst=(kvm_sct *)<span class="pl-c1">nco_malloc</span>(NC_MAX_VARS*<span class="pl-k">sizeof</span>(kvm_sct));</td>
      </tr>
      <tr>
        <td id="L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="LC216" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="LC217" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Parse RGRs */</span></td>
      </tr>
      <tr>
        <td id="L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="LC218" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(rgr_arg_idx=<span class="pl-c1">0</span>;rgr_arg_idx&lt;rgr_arg_nbr;rgr_arg_idx++){</td>
      </tr>
      <tr>
        <td id="L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="LC219" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strstr</span>(rgr_arg[rgr_arg_idx],<span class="pl-s"><span class="pl-pds">&quot;</span>=<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="LC220" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: Invalid --rgr specification: <span class="pl-c1">%s</span>. Must contain <span class="pl-cce">\&quot;</span>=<span class="pl-cce">\&quot;</span> sign, e.g., <span class="pl-cce">\&quot;</span>key=value<span class="pl-cce">\&quot;</span>.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),rgr_arg[rgr_arg_idx]);</td>
      </tr>
      <tr>
        <td id="L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="LC221" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(rgr_lst) rgr_lst=(kvm_sct *)<span class="pl-c1">nco_free</span>(rgr_lst);</td>
      </tr>
      <tr>
        <td id="L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="LC222" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="LC223" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="LC224" class="blob-code blob-code-inner js-file-line">    kvm=<span class="pl-c1">nco_sng2kvm</span>(rgr_arg[rgr_arg_idx]);</td>
      </tr>
      <tr>
        <td id="L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="LC225" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* nco_sng2kvm() converts argument &quot;--rgr one,two=3&quot; into kvm.key=&quot;one,two&quot; and kvm.val=3</span></td>
      </tr>
      <tr>
        <td id="L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="LC226" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Then nco_lst_prs_2D() converts kvm.key into two items, &quot;one&quot; and &quot;two&quot;, with the same value, 3 */</span></td>
      </tr>
      <tr>
        <td id="L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="LC227" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(kvm.<span class="pl-smi">key</span>){</td>
      </tr>
      <tr>
        <td id="L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="LC228" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">int</span> var_idx; <span class="pl-c">/* [idx] Index over variables in current RGR argument */</span></td>
      </tr>
      <tr>
        <td id="L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="LC229" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">int</span> var_nbr; <span class="pl-c">/* [nbr] Number of variables in current RGR argument */</span></td>
      </tr>
      <tr>
        <td id="L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="LC230" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">char</span> **var_lst;</td>
      </tr>
      <tr>
        <td id="L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="LC231" class="blob-code blob-code-inner js-file-line">      var_lst=<span class="pl-c1">nco_lst_prs_2D</span>(kvm.<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>,<span class="pl-pds">&quot;</span></span>,&amp;var_nbr);</td>
      </tr>
      <tr>
        <td id="L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="LC232" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(var_idx=<span class="pl-c1">0</span>;var_idx&lt;var_nbr;var_idx++){ <span class="pl-c">/* Expand multi-variable specification */</span></td>
      </tr>
      <tr>
        <td id="L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="LC233" class="blob-code blob-code-inner js-file-line">        rgr_lst[rgr_var_nbr].<span class="pl-smi">key</span>=<span class="pl-c1">strdup</span>(var_lst[var_idx]);</td>
      </tr>
      <tr>
        <td id="L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="LC234" class="blob-code blob-code-inner js-file-line">        rgr_lst[rgr_var_nbr].<span class="pl-smi">val</span>=<span class="pl-c1">strdup</span>(kvm.<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="LC235" class="blob-code blob-code-inner js-file-line">        rgr_var_nbr++;</td>
      </tr>
      <tr>
        <td id="L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="LC236" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end for */</span></td>
      </tr>
      <tr>
        <td id="L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="LC237" class="blob-code blob-code-inner js-file-line">      var_lst=<span class="pl-c1">nco_sng_lst_free</span>(var_lst,var_nbr);</td>
      </tr>
      <tr>
        <td id="L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="LC238" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end if */</span></td>
      </tr>
      <tr>
        <td id="L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="LC239" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end for */</span></td>
      </tr>
      <tr>
        <td id="L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="LC240" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="LC241" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* NULL-initialize key-value properties required for string variables */</span></td>
      </tr>
      <tr>
        <td id="L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="LC242" class="blob-code blob-code-inner js-file-line">  rgr-&gt;area_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of variable containing gridcell area */</span></td>
      </tr>
      <tr>
        <td id="L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="LC243" class="blob-code blob-code-inner js-file-line">  rgr-&gt;bnd_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of dimension to employ for spatial bounds */</span></td>
      </tr>
      <tr>
        <td id="L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="LC244" class="blob-code blob-code-inner js-file-line">  rgr-&gt;bnd_tm_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of dimension to employ for temporal bounds */</span></td>
      </tr>
      <tr>
        <td id="L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="LC245" class="blob-code blob-code-inner js-file-line">  rgr-&gt;col_nm_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name to recognize as input horizontal spatial dimension on unstructured grid */</span></td>
      </tr>
      <tr>
        <td id="L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="LC246" class="blob-code blob-code-inner js-file-line">  rgr-&gt;col_nm_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of horizontal spatial output dimension on unstructured grid */</span></td>
      </tr>
      <tr>
        <td id="L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="LC247" class="blob-code blob-code-inner js-file-line">  rgr-&gt;frc_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of variable containing gridcell fraction */</span></td>
      </tr>
      <tr>
        <td id="L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="LC248" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_bnd_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of rectangular boundary variable for latitude */</span></td>
      </tr>
      <tr>
        <td id="L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="LC249" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_nm_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of input dimension to recognize as latitude */</span></td>
      </tr>
      <tr>
        <td id="L250" class="blob-num js-line-number" data-line-number="250"></td>
        <td id="LC250" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_nm_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of output dimension for latitude */</span></td>
      </tr>
      <tr>
        <td id="L251" class="blob-num js-line-number" data-line-number="251"></td>
        <td id="LC251" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_vrt_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of non-rectangular boundary variable for latitude */</span></td>
      </tr>
      <tr>
        <td id="L252" class="blob-num js-line-number" data-line-number="252"></td>
        <td id="LC252" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_wgt_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of variable containing latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L253" class="blob-num js-line-number" data-line-number="253"></td>
        <td id="LC253" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_bnd_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of rectangular boundary variable for longitude */</span></td>
      </tr>
      <tr>
        <td id="L254" class="blob-num js-line-number" data-line-number="254"></td>
        <td id="LC254" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_nm_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of dimension to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L255" class="blob-num js-line-number" data-line-number="255"></td>
        <td id="LC255" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_nm_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of output dimension for longitude */</span></td>
      </tr>
      <tr>
        <td id="L256" class="blob-num js-line-number" data-line-number="256"></td>
        <td id="LC256" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_vrt_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of non-rectangular boundary variable for longitude */</span></td>
      </tr>
      <tr>
        <td id="L257" class="blob-num js-line-number" data-line-number="257"></td>
        <td id="LC257" class="blob-code blob-code-inner js-file-line">  rgr-&gt;vrt_nm=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of dimension to employ for vertices */</span></td>
      </tr>
      <tr>
        <td id="L258" class="blob-num js-line-number" data-line-number="258"></td>
        <td id="LC258" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L259" class="blob-num js-line-number" data-line-number="259"></td>
        <td id="LC259" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Initialize key-value properties used in grid generation */</span></td>
      </tr>
      <tr>
        <td id="L260" class="blob-num js-line-number" data-line-number="260"></td>
        <td id="LC260" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_grd=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of grid file to create */</span></td>
      </tr>
      <tr>
        <td id="L261" class="blob-num js-line-number" data-line-number="261"></td>
        <td id="LC261" class="blob-code blob-code-inner js-file-line">  rgr-&gt;fl_skl=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [sng] Name of skeleton data file to create */</span></td>
      </tr>
      <tr>
        <td id="L262" class="blob-num js-line-number" data-line-number="262"></td>
        <td id="LC262" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_crv=False; <span class="pl-c">/* [flg] Use curvilinear coordinates */</span></td>
      </tr>
      <tr>
        <td id="L263" class="blob-num js-line-number" data-line-number="263"></td>
        <td id="LC263" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_grd=False; <span class="pl-c">/* [flg] Create SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L264" class="blob-num js-line-number" data-line-number="264"></td>
        <td id="LC264" class="blob-code blob-code-inner js-file-line">  rgr-&gt;flg_nfr=False; <span class="pl-c">/* [flg] Infer SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L265" class="blob-num js-line-number" data-line-number="265"></td>
        <td id="LC265" class="blob-code blob-code-inner js-file-line">  rgr-&gt;grd_ttl=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>None given (supply with --rgr grd_ttl=<span class="pl-cce">\&quot;</span>Grid Title<span class="pl-cce">\&quot;</span>)<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [enm] Grid title */</span></td>
      </tr>
      <tr>
        <td id="L266" class="blob-num js-line-number" data-line-number="266"></td>
        <td id="LC266" class="blob-code blob-code-inner js-file-line">  rgr-&gt;grd_typ=nco_grd_2D_eqa; <span class="pl-c">/* [enm] Grid type */</span></td>
      </tr>
      <tr>
        <td id="L267" class="blob-num js-line-number" data-line-number="267"></td>
        <td id="LC267" class="blob-code blob-code-inner js-file-line">  rgr-&gt;idx_dbg=<span class="pl-c1">0</span>; <span class="pl-c">/* [idx] Index of gridcell for debugging */</span></td>
      </tr>
      <tr>
        <td id="L268" class="blob-num js-line-number" data-line-number="268"></td>
        <td id="LC268" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_typ=nco_grd_lat_eqa; <span class="pl-c">/* [enm] Latitude grid type */</span></td>
      </tr>
      <tr>
        <td id="L269" class="blob-num js-line-number" data-line-number="269"></td>
        <td id="LC269" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_typ=nco_grd_lon_Grn_ctr; <span class="pl-c">/* [enm] Longitude grid type */</span></td>
      </tr>
      <tr>
        <td id="L270" class="blob-num js-line-number" data-line-number="270"></td>
        <td id="LC270" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_nbr=<span class="pl-c1">180</span>; <span class="pl-c">/* [nbr] Number of latitudes in destination grid */</span></td>
      </tr>
      <tr>
        <td id="L271" class="blob-num js-line-number" data-line-number="271"></td>
        <td id="LC271" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_nbr=<span class="pl-c1">360</span>; <span class="pl-c">/* [nbr] Number of longitudes in destination grid */</span></td>
      </tr>
      <tr>
        <td id="L272" class="blob-num js-line-number" data-line-number="272"></td>
        <td id="LC272" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_crv=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [dgr] Latitudinal  curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L273" class="blob-num js-line-number" data-line-number="273"></td>
        <td id="LC273" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_crv=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [dgr] Longitudinal curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L274" class="blob-num js-line-number" data-line-number="274"></td>
        <td id="LC274" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_sth=NC_MAX_DOUBLE; <span class="pl-c">/* [dgr] Latitude of southern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L275" class="blob-num js-line-number" data-line-number="275"></td>
        <td id="LC275" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_wst=NC_MAX_DOUBLE; <span class="pl-c">/* [dgr] Longitude of western edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L276" class="blob-num js-line-number" data-line-number="276"></td>
        <td id="LC276" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lat_nrt=NC_MAX_DOUBLE; <span class="pl-c">/* [dgr] Latitude of northern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L277" class="blob-num js-line-number" data-line-number="277"></td>
        <td id="LC277" class="blob-code blob-code-inner js-file-line">  rgr-&gt;lon_est=NC_MAX_DOUBLE; <span class="pl-c">/* [dgr] Longitude of eastern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L278" class="blob-num js-line-number" data-line-number="278"></td>
        <td id="LC278" class="blob-code blob-code-inner js-file-line">  rgr-&gt;tst=<span class="pl-c1">0L</span>; <span class="pl-c">/* [enm] Generic key for testing (undocumented) */</span></td>
      </tr>
      <tr>
        <td id="L279" class="blob-num js-line-number" data-line-number="279"></td>
        <td id="LC279" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L280" class="blob-num js-line-number" data-line-number="280"></td>
        <td id="LC280" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Parse key-value properties */</span></td>
      </tr>
      <tr>
        <td id="L281" class="blob-num js-line-number" data-line-number="281"></td>
        <td id="LC281" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *sng_cnv_rcd=NULL_CEWI; <span class="pl-c">/* [sng] strtol()/strtoul() return code */</span></td>
      </tr>
      <tr>
        <td id="L282" class="blob-num js-line-number" data-line-number="282"></td>
        <td id="LC282" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(rgr_var_idx=<span class="pl-c1">0</span>;rgr_var_idx&lt;rgr_var_nbr;rgr_var_idx++){</td>
      </tr>
      <tr>
        <td id="L283" class="blob-num js-line-number" data-line-number="283"></td>
        <td id="LC283" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>grid<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L284" class="blob-num js-line-number" data-line-number="284"></td>
        <td id="LC284" class="blob-code blob-code-inner js-file-line">      rgr-&gt;fl_grd=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L285" class="blob-num js-line-number" data-line-number="285"></td>
        <td id="LC285" class="blob-code blob-code-inner js-file-line">      rgr-&gt;flg_grd=True;</td>
      </tr>
      <tr>
        <td id="L286" class="blob-num js-line-number" data-line-number="286"></td>
        <td id="LC286" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L287" class="blob-num js-line-number" data-line-number="287"></td>
        <td id="LC287" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !grid */</span></td>
      </tr>
      <tr>
        <td id="L288" class="blob-num js-line-number" data-line-number="288"></td>
        <td id="LC288" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>skl<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L289" class="blob-num js-line-number" data-line-number="289"></td>
        <td id="LC289" class="blob-code blob-code-inner js-file-line">      rgr-&gt;fl_skl=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L290" class="blob-num js-line-number" data-line-number="290"></td>
        <td id="LC290" class="blob-code blob-code-inner js-file-line">      rgr-&gt;flg_grd=True;</td>
      </tr>
      <tr>
        <td id="L291" class="blob-num js-line-number" data-line-number="291"></td>
        <td id="LC291" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L292" class="blob-num js-line-number" data-line-number="292"></td>
        <td id="LC292" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !skl */</span></td>
      </tr>
      <tr>
        <td id="L293" class="blob-num js-line-number" data-line-number="293"></td>
        <td id="LC293" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>curvilinear<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>crv<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L294" class="blob-num js-line-number" data-line-number="294"></td>
        <td id="LC294" class="blob-code blob-code-inner js-file-line">      rgr-&gt;flg_crv=True;</td>
      </tr>
      <tr>
        <td id="L295" class="blob-num js-line-number" data-line-number="295"></td>
        <td id="LC295" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L296" class="blob-num js-line-number" data-line-number="296"></td>
        <td id="LC296" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !curvilinear */</span></td>
      </tr>
      <tr>
        <td id="L297" class="blob-num js-line-number" data-line-number="297"></td>
        <td id="LC297" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>infer<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>nfr<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L298" class="blob-num js-line-number" data-line-number="298"></td>
        <td id="LC298" class="blob-code blob-code-inner js-file-line">      rgr-&gt;flg_nfr=True;</td>
      </tr>
      <tr>
        <td id="L299" class="blob-num js-line-number" data-line-number="299"></td>
        <td id="LC299" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L300" class="blob-num js-line-number" data-line-number="300"></td>
        <td id="LC300" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !infer */</span></td>
      </tr>
      <tr>
        <td id="L301" class="blob-num js-line-number" data-line-number="301"></td>
        <td id="LC301" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>grd_ttl<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L302" class="blob-num js-line-number" data-line-number="302"></td>
        <td id="LC302" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(rgr-&gt;grd_ttl) rgr-&gt;grd_ttl=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(rgr-&gt;grd_ttl);</td>
      </tr>
      <tr>
        <td id="L303" class="blob-num js-line-number" data-line-number="303"></td>
        <td id="LC303" class="blob-code blob-code-inner js-file-line">      rgr-&gt;grd_ttl=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L304" class="blob-num js-line-number" data-line-number="304"></td>
        <td id="LC304" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L305" class="blob-num js-line-number" data-line-number="305"></td>
        <td id="LC305" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !grd_ttl */</span></td>
      </tr>
      <tr>
        <td id="L306" class="blob-num js-line-number" data-line-number="306"></td>
        <td id="LC306" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>idx_dbg<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L307" class="blob-num js-line-number" data-line-number="307"></td>
        <td id="LC307" class="blob-code blob-code-inner js-file-line">      rgr-&gt;idx_dbg=<span class="pl-c1">strtol</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd,NCO_SNG_CNV_BASE10);</td>
      </tr>
      <tr>
        <td id="L308" class="blob-num js-line-number" data-line-number="308"></td>
        <td id="LC308" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtol<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L309" class="blob-num js-line-number" data-line-number="309"></td>
        <td id="LC309" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L310" class="blob-num js-line-number" data-line-number="310"></td>
        <td id="LC310" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !idx_dbg */</span></td>
      </tr>
      <tr>
        <td id="L311" class="blob-num js-line-number" data-line-number="311"></td>
        <td id="LC311" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>latlon<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L312" class="blob-num js-line-number" data-line-number="312"></td>
        <td id="LC312" class="blob-code blob-code-inner js-file-line">      cnv_nbr=<span class="pl-c1">sscanf</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%ld</span>,<span class="pl-c1">%ld</span><span class="pl-pds">&quot;</span></span>,&amp;rgr-&gt;lat_nbr,&amp;rgr-&gt;lon_nbr);</td>
      </tr>
      <tr>
        <td id="L313" class="blob-num js-line-number" data-line-number="313"></td>
        <td id="LC313" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">assert</span>(cnv_nbr == <span class="pl-c1">2</span>);</td>
      </tr>
      <tr>
        <td id="L314" class="blob-num js-line-number" data-line-number="314"></td>
        <td id="LC314" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L315" class="blob-num js-line-number" data-line-number="315"></td>
        <td id="LC315" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !latlon */</span></td>
      </tr>
      <tr>
        <td id="L316" class="blob-num js-line-number" data-line-number="316"></td>
        <td id="LC316" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lonlat<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L317" class="blob-num js-line-number" data-line-number="317"></td>
        <td id="LC317" class="blob-code blob-code-inner js-file-line">      cnv_nbr=<span class="pl-c1">sscanf</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%ld</span>,<span class="pl-c1">%ld</span><span class="pl-pds">&quot;</span></span>,&amp;rgr-&gt;lon_nbr,&amp;rgr-&gt;lat_nbr);</td>
      </tr>
      <tr>
        <td id="L318" class="blob-num js-line-number" data-line-number="318"></td>
        <td id="LC318" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">assert</span>(cnv_nbr == <span class="pl-c1">2</span>);</td>
      </tr>
      <tr>
        <td id="L319" class="blob-num js-line-number" data-line-number="319"></td>
        <td id="LC319" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L320" class="blob-num js-line-number" data-line-number="320"></td>
        <td id="LC320" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lonlat */</span></td>
      </tr>
      <tr>
        <td id="L321" class="blob-num js-line-number" data-line-number="321"></td>
        <td id="LC321" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_nbr<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L322" class="blob-num js-line-number" data-line-number="322"></td>
        <td id="LC322" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_nbr=<span class="pl-c1">strtol</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd,NCO_SNG_CNV_BASE10);</td>
      </tr>
      <tr>
        <td id="L323" class="blob-num js-line-number" data-line-number="323"></td>
        <td id="LC323" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtol<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L324" class="blob-num js-line-number" data-line-number="324"></td>
        <td id="LC324" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L325" class="blob-num js-line-number" data-line-number="325"></td>
        <td id="LC325" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_nbr */</span></td>
      </tr>
      <tr>
        <td id="L326" class="blob-num js-line-number" data-line-number="326"></td>
        <td id="LC326" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_nbr<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L327" class="blob-num js-line-number" data-line-number="327"></td>
        <td id="LC327" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_nbr=<span class="pl-c1">strtol</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd,NCO_SNG_CNV_BASE10);</td>
      </tr>
      <tr>
        <td id="L328" class="blob-num js-line-number" data-line-number="328"></td>
        <td id="LC328" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtol<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L329" class="blob-num js-line-number" data-line-number="329"></td>
        <td id="LC329" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L330" class="blob-num js-line-number" data-line-number="330"></td>
        <td id="LC330" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_nbr */</span></td>
      </tr>
      <tr>
        <td id="L331" class="blob-num js-line-number" data-line-number="331"></td>
        <td id="LC331" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>snwe<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L332" class="blob-num js-line-number" data-line-number="332"></td>
        <td id="LC332" class="blob-code blob-code-inner js-file-line">      cnv_nbr=<span class="pl-c1">sscanf</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span><span class="pl-pds">&quot;</span></span>,&amp;rgr-&gt;lat_sth,&amp;rgr-&gt;lat_nrt,&amp;rgr-&gt;lon_wst,&amp;rgr-&gt;lon_est);</td>
      </tr>
      <tr>
        <td id="L333" class="blob-num js-line-number" data-line-number="333"></td>
        <td id="LC333" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">assert</span>(cnv_nbr == <span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="L334" class="blob-num js-line-number" data-line-number="334"></td>
        <td id="LC334" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L335" class="blob-num js-line-number" data-line-number="335"></td>
        <td id="LC335" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !snwe */</span></td>
      </tr>
      <tr>
        <td id="L336" class="blob-num js-line-number" data-line-number="336"></td>
        <td id="LC336" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>wesn<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L337" class="blob-num js-line-number" data-line-number="337"></td>
        <td id="LC337" class="blob-code blob-code-inner js-file-line">      cnv_nbr=<span class="pl-c1">sscanf</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span>,<span class="pl-c1">%lf</span><span class="pl-pds">&quot;</span></span>,&amp;rgr-&gt;lon_wst,&amp;rgr-&gt;lon_est,&amp;rgr-&gt;lat_sth,&amp;rgr-&gt;lat_nrt);</td>
      </tr>
      <tr>
        <td id="L338" class="blob-num js-line-number" data-line-number="338"></td>
        <td id="LC338" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">assert</span>(cnv_nbr == <span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="L339" class="blob-num js-line-number" data-line-number="339"></td>
        <td id="LC339" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L340" class="blob-num js-line-number" data-line-number="340"></td>
        <td id="LC340" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !wesn */</span></td>
      </tr>
      <tr>
        <td id="L341" class="blob-num js-line-number" data-line-number="341"></td>
        <td id="LC341" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_crv<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L342" class="blob-num js-line-number" data-line-number="342"></td>
        <td id="LC342" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_crv=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L343" class="blob-num js-line-number" data-line-number="343"></td>
        <td id="LC343" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L344" class="blob-num js-line-number" data-line-number="344"></td>
        <td id="LC344" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L345" class="blob-num js-line-number" data-line-number="345"></td>
        <td id="LC345" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_crv */</span></td>
      </tr>
      <tr>
        <td id="L346" class="blob-num js-line-number" data-line-number="346"></td>
        <td id="LC346" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_crv<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L347" class="blob-num js-line-number" data-line-number="347"></td>
        <td id="LC347" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_crv=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L348" class="blob-num js-line-number" data-line-number="348"></td>
        <td id="LC348" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L349" class="blob-num js-line-number" data-line-number="349"></td>
        <td id="LC349" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L350" class="blob-num js-line-number" data-line-number="350"></td>
        <td id="LC350" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_crv */</span></td>
      </tr>
      <tr>
        <td id="L351" class="blob-num js-line-number" data-line-number="351"></td>
        <td id="LC351" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_sth<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L352" class="blob-num js-line-number" data-line-number="352"></td>
        <td id="LC352" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_sth=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L353" class="blob-num js-line-number" data-line-number="353"></td>
        <td id="LC353" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L354" class="blob-num js-line-number" data-line-number="354"></td>
        <td id="LC354" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">//      rgr-&gt;lat_typ=nco_grd_lat_bb;</span></td>
      </tr>
      <tr>
        <td id="L355" class="blob-num js-line-number" data-line-number="355"></td>
        <td id="LC355" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L356" class="blob-num js-line-number" data-line-number="356"></td>
        <td id="LC356" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_sth */</span></td>
      </tr>
      <tr>
        <td id="L357" class="blob-num js-line-number" data-line-number="357"></td>
        <td id="LC357" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_wst<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L358" class="blob-num js-line-number" data-line-number="358"></td>
        <td id="LC358" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_wst=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L359" class="blob-num js-line-number" data-line-number="359"></td>
        <td id="LC359" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L360" class="blob-num js-line-number" data-line-number="360"></td>
        <td id="LC360" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_typ=nco_grd_lon_bb;</td>
      </tr>
      <tr>
        <td id="L361" class="blob-num js-line-number" data-line-number="361"></td>
        <td id="LC361" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L362" class="blob-num js-line-number" data-line-number="362"></td>
        <td id="LC362" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_wst */</span></td>
      </tr>
      <tr>
        <td id="L363" class="blob-num js-line-number" data-line-number="363"></td>
        <td id="LC363" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_nrt<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L364" class="blob-num js-line-number" data-line-number="364"></td>
        <td id="LC364" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_nrt=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L365" class="blob-num js-line-number" data-line-number="365"></td>
        <td id="LC365" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L366" class="blob-num js-line-number" data-line-number="366"></td>
        <td id="LC366" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">//rgr-&gt;lat_typ=nco_grd_lat_bb;</span></td>
      </tr>
      <tr>
        <td id="L367" class="blob-num js-line-number" data-line-number="367"></td>
        <td id="LC367" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L368" class="blob-num js-line-number" data-line-number="368"></td>
        <td id="LC368" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_nrt */</span></td>
      </tr>
      <tr>
        <td id="L369" class="blob-num js-line-number" data-line-number="369"></td>
        <td id="LC369" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_est<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L370" class="blob-num js-line-number" data-line-number="370"></td>
        <td id="LC370" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_est=<span class="pl-c1">strtod</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L371" class="blob-num js-line-number" data-line-number="371"></td>
        <td id="LC371" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtod<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L372" class="blob-num js-line-number" data-line-number="372"></td>
        <td id="LC372" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_typ=nco_grd_lon_bb;</td>
      </tr>
      <tr>
        <td id="L373" class="blob-num js-line-number" data-line-number="373"></td>
        <td id="LC373" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L374" class="blob-num js-line-number" data-line-number="374"></td>
        <td id="LC374" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_est */</span></td>
      </tr>
      <tr>
        <td id="L375" class="blob-num js-line-number" data-line-number="375"></td>
        <td id="LC375" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_typ<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L376" class="blob-num js-line-number" data-line-number="376"></td>
        <td id="LC376" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>cap<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>fv<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>fix<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>yarmulke<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L377" class="blob-num js-line-number" data-line-number="377"></td>
        <td id="LC377" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lat_typ=nco_grd_lat_fv;</td>
      </tr>
      <tr>
        <td id="L378" class="blob-num js-line-number" data-line-number="378"></td>
        <td id="LC378" class="blob-code blob-code-inner js-file-line">	rgr-&gt;grd_typ=nco_grd_2D_fv;</td>
      </tr>
      <tr>
        <td id="L379" class="blob-num js-line-number" data-line-number="379"></td>
        <td id="LC379" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>eqa<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>rgl<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>unf<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>uni<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L380" class="blob-num js-line-number" data-line-number="380"></td>
        <td id="LC380" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lat_typ=nco_grd_lat_eqa;</td>
      </tr>
      <tr>
        <td id="L381" class="blob-num js-line-number" data-line-number="381"></td>
        <td id="LC381" class="blob-code blob-code-inner js-file-line">	rgr-&gt;grd_typ=nco_grd_2D_eqa;</td>
      </tr>
      <tr>
        <td id="L382" class="blob-num js-line-number" data-line-number="382"></td>
        <td id="LC382" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>gss<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L383" class="blob-num js-line-number" data-line-number="383"></td>
        <td id="LC383" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lat_typ=nco_grd_lat_gss;</td>
      </tr>
      <tr>
        <td id="L384" class="blob-num js-line-number" data-line-number="384"></td>
        <td id="LC384" class="blob-code blob-code-inner js-file-line">	rgr-&gt;grd_typ=nco_grd_2D_gss;</td>
      </tr>
      <tr>
        <td id="L385" class="blob-num js-line-number" data-line-number="385"></td>
        <td id="LC385" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span> <span class="pl-c1">abort</span>();</td>
      </tr>
      <tr>
        <td id="L386" class="blob-num js-line-number" data-line-number="386"></td>
        <td id="LC386" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L387" class="blob-num js-line-number" data-line-number="387"></td>
        <td id="LC387" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_typ */</span></td>
      </tr>
      <tr>
        <td id="L388" class="blob-num js-line-number" data-line-number="388"></td>
        <td id="LC388" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_typ<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L389" class="blob-num js-line-number" data-line-number="389"></td>
        <td id="LC389" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>180_wst<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L390" class="blob-num js-line-number" data-line-number="390"></td>
        <td id="LC390" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lon_typ=nco_grd_lon_180_wst;</td>
      </tr>
      <tr>
        <td id="L391" class="blob-num js-line-number" data-line-number="391"></td>
        <td id="LC391" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>180_ctr<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L392" class="blob-num js-line-number" data-line-number="392"></td>
        <td id="LC392" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lon_typ=nco_grd_lon_180_ctr;</td>
      </tr>
      <tr>
        <td id="L393" class="blob-num js-line-number" data-line-number="393"></td>
        <td id="LC393" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>Grn_wst<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L394" class="blob-num js-line-number" data-line-number="394"></td>
        <td id="LC394" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lon_typ=nco_grd_lon_Grn_wst;</td>
      </tr>
      <tr>
        <td id="L395" class="blob-num js-line-number" data-line-number="395"></td>
        <td id="LC395" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>Grn_ctr<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L396" class="blob-num js-line-number" data-line-number="396"></td>
        <td id="LC396" class="blob-code blob-code-inner js-file-line">	rgr-&gt;lon_typ=nco_grd_lon_Grn_ctr;</td>
      </tr>
      <tr>
        <td id="L397" class="blob-num js-line-number" data-line-number="397"></td>
        <td id="LC397" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-c1">abort</span>();</td>
      </tr>
      <tr>
        <td id="L398" class="blob-num js-line-number" data-line-number="398"></td>
        <td id="LC398" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L399" class="blob-num js-line-number" data-line-number="399"></td>
        <td id="LC399" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_typ */</span></td>
      </tr>
      <tr>
        <td id="L400" class="blob-num js-line-number" data-line-number="400"></td>
        <td id="LC400" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>area_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L401" class="blob-num js-line-number" data-line-number="401"></td>
        <td id="LC401" class="blob-code blob-code-inner js-file-line">      rgr-&gt;area_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L402" class="blob-num js-line-number" data-line-number="402"></td>
        <td id="LC402" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L403" class="blob-num js-line-number" data-line-number="403"></td>
        <td id="LC403" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !area_nm */</span></td>
      </tr>
      <tr>
        <td id="L404" class="blob-num js-line-number" data-line-number="404"></td>
        <td id="LC404" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>bnd_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L405" class="blob-num js-line-number" data-line-number="405"></td>
        <td id="LC405" class="blob-code blob-code-inner js-file-line">      rgr-&gt;bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L406" class="blob-num js-line-number" data-line-number="406"></td>
        <td id="LC406" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L407" class="blob-num js-line-number" data-line-number="407"></td>
        <td id="LC407" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !bnd_nm */</span></td>
      </tr>
      <tr>
        <td id="L408" class="blob-num js-line-number" data-line-number="408"></td>
        <td id="LC408" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>bnd_tm_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L409" class="blob-num js-line-number" data-line-number="409"></td>
        <td id="LC409" class="blob-code blob-code-inner js-file-line">      rgr-&gt;bnd_tm_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L410" class="blob-num js-line-number" data-line-number="410"></td>
        <td id="LC410" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L411" class="blob-num js-line-number" data-line-number="411"></td>
        <td id="LC411" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !bnd_tm_nm */</span></td>
      </tr>
      <tr>
        <td id="L412" class="blob-num js-line-number" data-line-number="412"></td>
        <td id="LC412" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>col_nm_in<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>col_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L413" class="blob-num js-line-number" data-line-number="413"></td>
        <td id="LC413" class="blob-code blob-code-inner js-file-line">      rgr-&gt;col_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L414" class="blob-num js-line-number" data-line-number="414"></td>
        <td id="LC414" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L415" class="blob-num js-line-number" data-line-number="415"></td>
        <td id="LC415" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !col_nm_in */</span></td>
      </tr>
      <tr>
        <td id="L416" class="blob-num js-line-number" data-line-number="416"></td>
        <td id="LC416" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>col_nm_out<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L417" class="blob-num js-line-number" data-line-number="417"></td>
        <td id="LC417" class="blob-code blob-code-inner js-file-line">      rgr-&gt;col_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L418" class="blob-num js-line-number" data-line-number="418"></td>
        <td id="LC418" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L419" class="blob-num js-line-number" data-line-number="419"></td>
        <td id="LC419" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !col_nm_out */</span></td>
      </tr>
      <tr>
        <td id="L420" class="blob-num js-line-number" data-line-number="420"></td>
        <td id="LC420" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>frc_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L421" class="blob-num js-line-number" data-line-number="421"></td>
        <td id="LC421" class="blob-code blob-code-inner js-file-line">      rgr-&gt;frc_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L422" class="blob-num js-line-number" data-line-number="422"></td>
        <td id="LC422" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L423" class="blob-num js-line-number" data-line-number="423"></td>
        <td id="LC423" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !frc_nm */</span></td>
      </tr>
      <tr>
        <td id="L424" class="blob-num js-line-number" data-line-number="424"></td>
        <td id="LC424" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_bnd_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L425" class="blob-num js-line-number" data-line-number="425"></td>
        <td id="LC425" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L426" class="blob-num js-line-number" data-line-number="426"></td>
        <td id="LC426" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L427" class="blob-num js-line-number" data-line-number="427"></td>
        <td id="LC427" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_bnd_nm */</span></td>
      </tr>
      <tr>
        <td id="L428" class="blob-num js-line-number" data-line-number="428"></td>
        <td id="LC428" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_nm_in<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L429" class="blob-num js-line-number" data-line-number="429"></td>
        <td id="LC429" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L430" class="blob-num js-line-number" data-line-number="430"></td>
        <td id="LC430" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L431" class="blob-num js-line-number" data-line-number="431"></td>
        <td id="LC431" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_nm_in */</span></td>
      </tr>
      <tr>
        <td id="L432" class="blob-num js-line-number" data-line-number="432"></td>
        <td id="LC432" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_nm_out<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L433" class="blob-num js-line-number" data-line-number="433"></td>
        <td id="LC433" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L434" class="blob-num js-line-number" data-line-number="434"></td>
        <td id="LC434" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L435" class="blob-num js-line-number" data-line-number="435"></td>
        <td id="LC435" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_nm_out */</span></td>
      </tr>
      <tr>
        <td id="L436" class="blob-num js-line-number" data-line-number="436"></td>
        <td id="LC436" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_vrt_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L437" class="blob-num js-line-number" data-line-number="437"></td>
        <td id="LC437" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L438" class="blob-num js-line-number" data-line-number="438"></td>
        <td id="LC438" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L439" class="blob-num js-line-number" data-line-number="439"></td>
        <td id="LC439" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_vrt_nm */</span></td>
      </tr>
      <tr>
        <td id="L440" class="blob-num js-line-number" data-line-number="440"></td>
        <td id="LC440" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_wgt_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L441" class="blob-num js-line-number" data-line-number="441"></td>
        <td id="LC441" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lat_wgt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L442" class="blob-num js-line-number" data-line-number="442"></td>
        <td id="LC442" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L443" class="blob-num js-line-number" data-line-number="443"></td>
        <td id="LC443" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_wgt_nm */</span></td>
      </tr>
      <tr>
        <td id="L444" class="blob-num js-line-number" data-line-number="444"></td>
        <td id="LC444" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_bnd_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L445" class="blob-num js-line-number" data-line-number="445"></td>
        <td id="LC445" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L446" class="blob-num js-line-number" data-line-number="446"></td>
        <td id="LC446" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L447" class="blob-num js-line-number" data-line-number="447"></td>
        <td id="LC447" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_bnd_nm */</span></td>
      </tr>
      <tr>
        <td id="L448" class="blob-num js-line-number" data-line-number="448"></td>
        <td id="LC448" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_nm_in<span class="pl-pds">&quot;</span></span>) || !<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L449" class="blob-num js-line-number" data-line-number="449"></td>
        <td id="LC449" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L450" class="blob-num js-line-number" data-line-number="450"></td>
        <td id="LC450" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L451" class="blob-num js-line-number" data-line-number="451"></td>
        <td id="LC451" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_nm_in */</span></td>
      </tr>
      <tr>
        <td id="L452" class="blob-num js-line-number" data-line-number="452"></td>
        <td id="LC452" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_nm_out<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L453" class="blob-num js-line-number" data-line-number="453"></td>
        <td id="LC453" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L454" class="blob-num js-line-number" data-line-number="454"></td>
        <td id="LC454" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L455" class="blob-num js-line-number" data-line-number="455"></td>
        <td id="LC455" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_nm_out */</span></td>
      </tr>
      <tr>
        <td id="L456" class="blob-num js-line-number" data-line-number="456"></td>
        <td id="LC456" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_vrt_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L457" class="blob-num js-line-number" data-line-number="457"></td>
        <td id="LC457" class="blob-code blob-code-inner js-file-line">      rgr-&gt;lon_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L458" class="blob-num js-line-number" data-line-number="458"></td>
        <td id="LC458" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L459" class="blob-num js-line-number" data-line-number="459"></td>
        <td id="LC459" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_vrt_nm */</span></td>
      </tr>
      <tr>
        <td id="L460" class="blob-num js-line-number" data-line-number="460"></td>
        <td id="LC460" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>tst<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L461" class="blob-num js-line-number" data-line-number="461"></td>
        <td id="LC461" class="blob-code blob-code-inner js-file-line">      rgr-&gt;tst=<span class="pl-c1">strtol</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,&amp;sng_cnv_rcd,NCO_SNG_CNV_BASE10);</td>
      </tr>
      <tr>
        <td id="L462" class="blob-num js-line-number" data-line-number="462"></td>
        <td id="LC462" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(*sng_cnv_rcd) <span class="pl-c1">nco_sng_cnv_err</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>strtol<span class="pl-pds">&quot;</span></span>,sng_cnv_rcd);</td>
      </tr>
      <tr>
        <td id="L463" class="blob-num js-line-number" data-line-number="463"></td>
        <td id="LC463" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L464" class="blob-num js-line-number" data-line-number="464"></td>
        <td id="LC464" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !tst */</span></td>
      </tr>
      <tr>
        <td id="L465" class="blob-num js-line-number" data-line-number="465"></td>
        <td id="LC465" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!<span class="pl-c1">strcasecmp</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>,<span class="pl-s"><span class="pl-pds">&quot;</span>vrt_nm<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L466" class="blob-num js-line-number" data-line-number="466"></td>
        <td id="LC466" class="blob-code blob-code-inner js-file-line">      rgr-&gt;vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr_lst[rgr_var_idx].<span class="pl-smi">val</span>);</td>
      </tr>
      <tr>
        <td id="L467" class="blob-num js-line-number" data-line-number="467"></td>
        <td id="LC467" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">continue</span>;</td>
      </tr>
      <tr>
        <td id="L468" class="blob-num js-line-number" data-line-number="468"></td>
        <td id="LC468" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !vrt_nm */</span></td>
      </tr>
      <tr>
        <td id="L469" class="blob-num js-line-number" data-line-number="469"></td>
        <td id="LC469" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports unrecognized key-value option to --rgr switch: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,rgr_lst[rgr_var_idx].<span class="pl-smi">key</span>);</td>
      </tr>
      <tr>
        <td id="L470" class="blob-num js-line-number" data-line-number="470"></td>
        <td id="LC470" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L471" class="blob-num js-line-number" data-line-number="471"></td>
        <td id="LC471" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end for */</span></td>
      </tr>
      <tr>
        <td id="L472" class="blob-num js-line-number" data-line-number="472"></td>
        <td id="LC472" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L473" class="blob-num js-line-number" data-line-number="473"></td>
        <td id="LC473" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Eliminate sticky wickets: Give nfr precedence over grd */</span></td>
      </tr>
      <tr>
        <td id="L474" class="blob-num js-line-number" data-line-number="474"></td>
        <td id="LC474" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;flg_nfr &amp;&amp; rgr-&gt;flg_grd) rgr-&gt;flg_grd=False; </td>
      </tr>
      <tr>
        <td id="L475" class="blob-num js-line-number" data-line-number="475"></td>
        <td id="LC475" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L476" class="blob-num js-line-number" data-line-number="476"></td>
        <td id="LC476" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Revert to defaults for any names not specified on command-line */</span></td>
      </tr>
      <tr>
        <td id="L477" class="blob-num js-line-number" data-line-number="477"></td>
        <td id="LC477" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;area_nm) rgr-&gt;area_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>area<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of variable containing gridcell area */</span></td>
      </tr>
      <tr>
        <td id="L478" class="blob-num js-line-number" data-line-number="478"></td>
        <td id="LC478" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;bnd_nm) rgr-&gt;bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nbnd<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of dimension to employ for spatial bounds */</span></td>
      </tr>
      <tr>
        <td id="L479" class="blob-num js-line-number" data-line-number="479"></td>
        <td id="LC479" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* NB: CESM uses nbnd for temporal bounds. NCO defaults to nbnd for all bounds with two endpoints */</span></td>
      </tr>
      <tr>
        <td id="L480" class="blob-num js-line-number" data-line-number="480"></td>
        <td id="LC480" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;bnd_tm_nm) rgr-&gt;bnd_tm_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nbnd<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of dimension to employ for spatial bounds */</span></td>
      </tr>
      <tr>
        <td id="L481" class="blob-num js-line-number" data-line-number="481"></td>
        <td id="LC481" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;col_nm_in) rgr-&gt;col_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ncol<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name to recognize as input horizontal spatial dimension on unstructured grid */</span></td>
      </tr>
      <tr>
        <td id="L482" class="blob-num js-line-number" data-line-number="482"></td>
        <td id="LC482" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;frc_nm) rgr-&gt;frc_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>frac_b<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of variable containing gridcell fraction */</span></td>
      </tr>
      <tr>
        <td id="L483" class="blob-num js-line-number" data-line-number="483"></td>
        <td id="LC483" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lat_bnd_nm) rgr-&gt;lat_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat_bnds<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of rectangular boundary variable for latitude */</span></td>
      </tr>
      <tr>
        <td id="L484" class="blob-num js-line-number" data-line-number="484"></td>
        <td id="LC484" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lat_nm_in) rgr-&gt;lat_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of input dimension to recognize as latitude */</span></td>
      </tr>
      <tr>
        <td id="L485" class="blob-num js-line-number" data-line-number="485"></td>
        <td id="LC485" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lat_vrt_nm) rgr-&gt;lat_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat_vertices<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of non-rectangular boundary variable for latitude */</span></td>
      </tr>
      <tr>
        <td id="L486" class="blob-num js-line-number" data-line-number="486"></td>
        <td id="LC486" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lat_wgt_nm) rgr-&gt;lat_wgt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>gw<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of variable containing latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L487" class="blob-num js-line-number" data-line-number="487"></td>
        <td id="LC487" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lon_bnd_nm) rgr-&gt;lon_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon_bnds<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of rectangular boundary variable for longitude */</span></td>
      </tr>
      <tr>
        <td id="L488" class="blob-num js-line-number" data-line-number="488"></td>
        <td id="LC488" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lon_nm_in) rgr-&gt;lon_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of dimension to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L489" class="blob-num js-line-number" data-line-number="489"></td>
        <td id="LC489" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;lon_vrt_nm) rgr-&gt;lon_vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon_vertices<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of non-rectangular boundary variable for longitude */</span></td>
      </tr>
      <tr>
        <td id="L490" class="blob-num js-line-number" data-line-number="490"></td>
        <td id="LC490" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!rgr-&gt;vrt_nm) rgr-&gt;vrt_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nv<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* [sng] Name of dimension to employ for vertices */</span></td>
      </tr>
      <tr>
        <td id="L491" class="blob-num js-line-number" data-line-number="491"></td>
        <td id="LC491" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L492" class="blob-num js-line-number" data-line-number="492"></td>
        <td id="LC492" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Derived from defaults and command-line arguments */</span></td>
      </tr>
      <tr>
        <td id="L493" class="blob-num js-line-number" data-line-number="493"></td>
        <td id="LC493" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">// On second thought, do no strdup() these here. This way, NULL means user never specified lon/lat-out names</span></td>
      </tr>
      <tr>
        <td id="L494" class="blob-num js-line-number" data-line-number="494"></td>
        <td id="LC494" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(!rgr-&gt;col_nm_out) rgr-&gt;col_nm_out=(char *)strdup(&quot;ncol&quot;); /* [sng] Name of dimension to output as horizontal spatial dimension on unstructured grid */</span></td>
      </tr>
      <tr>
        <td id="L495" class="blob-num js-line-number" data-line-number="495"></td>
        <td id="LC495" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(!rgr-&gt;lat_nm_out) rgr-&gt;lat_nm_out=(char *)strdup(&quot;lat&quot;); /* [sng] Name of dimension to output as latitude */</span></td>
      </tr>
      <tr>
        <td id="L496" class="blob-num js-line-number" data-line-number="496"></td>
        <td id="LC496" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(!rgr-&gt;lon_nm_out) rgr-&gt;lon_nm_out=(char *)strdup(&quot;lon&quot;); /* [sng] Name of dimension to output as longitude */</span></td>
      </tr>
      <tr>
        <td id="L497" class="blob-num js-line-number" data-line-number="497"></td>
        <td id="LC497" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(!rgr-&gt;lat_nm_out) rgr-&gt;lat_nm_out=(char *)strdup(rgr_lat_nm_in); /* [sng] Name of output dimension for latitude */</span></td>
      </tr>
      <tr>
        <td id="L498" class="blob-num js-line-number" data-line-number="498"></td>
        <td id="LC498" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(!rgr-&gt;lon_nm_out) rgr-&gt;lon_nm_out=(char *)strdup(rgr_lon_nm_in); /* [sng] Name of output dimension for longitude */</span></td>
      </tr>
      <tr>
        <td id="L499" class="blob-num js-line-number" data-line-number="499"></td>
        <td id="LC499" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L500" class="blob-num js-line-number" data-line-number="500"></td>
        <td id="LC500" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free kvms */</span></td>
      </tr>
      <tr>
        <td id="L501" class="blob-num js-line-number" data-line-number="501"></td>
        <td id="LC501" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_lst) rgr_lst=<span class="pl-c1">nco_kvm_lst_free</span>(rgr_lst,rgr_var_nbr);</td>
      </tr>
      <tr>
        <td id="L502" class="blob-num js-line-number" data-line-number="502"></td>
        <td id="LC502" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L503" class="blob-num js-line-number" data-line-number="503"></td>
        <td id="LC503" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rgr;</td>
      </tr>
      <tr>
        <td id="L504" class="blob-num js-line-number" data-line-number="504"></td>
        <td id="LC504" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_ini() */</span></td>
      </tr>
      <tr>
        <td id="L505" class="blob-num js-line-number" data-line-number="505"></td>
        <td id="LC505" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L506" class="blob-num js-line-number" data-line-number="506"></td>
        <td id="LC506" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-c">/* O [enm] Return code */</span></td>
      </tr>
      <tr>
        <td id="L507" class="blob-num js-line-number" data-line-number="507"></td>
        <td id="LC507" class="blob-code blob-code-inner js-file-line">nco_rgr_map <span class="pl-c">/* [fnc] Regrid with external weights */</span></td>
      </tr>
      <tr>
        <td id="L508" class="blob-num js-line-number" data-line-number="508"></td>
        <td id="LC508" class="blob-code blob-code-inner js-file-line">(rgr_sct * <span class="pl-k">const</span> rgr, <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L509" class="blob-num js-line-number" data-line-number="509"></td>
        <td id="LC509" class="blob-code blob-code-inner js-file-line"> trv_tbl_sct * <span class="pl-k">const</span> trv_tbl) <span class="pl-c">/* I/O [sct] Traversal Table */</span></td>
      </tr>
      <tr>
        <td id="L510" class="blob-num js-line-number" data-line-number="510"></td>
        <td id="LC510" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L511" class="blob-num js-line-number" data-line-number="511"></td>
        <td id="LC511" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Regrid fields using external weights (i.e., a mapping file)</span></td>
      </tr>
      <tr>
        <td id="L512" class="blob-num js-line-number" data-line-number="512"></td>
        <td id="LC512" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L513" class="blob-num js-line-number" data-line-number="513"></td>
        <td id="LC513" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Examine ESMF, SCRIP, Tempest map-files:</span></td>
      </tr>
      <tr>
        <td id="L514" class="blob-num js-line-number" data-line-number="514"></td>
        <td id="LC514" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks --cdl -M -m ${DATA}/scrip/rmp_T42_to_POP43_conserv.nc | m</span></td>
      </tr>
      <tr>
        <td id="L515" class="blob-num js-line-number" data-line-number="515"></td>
        <td id="LC515" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks --cdl -M -m ${DATA}/maps/map_t42_to_fv129x256_aave.20150621.nc | m</span></td>
      </tr>
      <tr>
        <td id="L516" class="blob-num js-line-number" data-line-number="516"></td>
        <td id="LC516" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks --cdl -M -m ${DATA}/maps/map_ne30np4_to_ne120np4_tps.20150618.nc | m</span></td>
      </tr>
      <tr>
        <td id="L517" class="blob-num js-line-number" data-line-number="517"></td>
        <td id="LC517" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L518" class="blob-num js-line-number" data-line-number="518"></td>
        <td id="LC518" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Test ESMF, SCRIP, Tempest map-files:</span></td>
      </tr>
      <tr>
        <td id="L519" class="blob-num js-line-number" data-line-number="519"></td>
        <td id="LC519" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -D 5 -O --map=${DATA}/scrip/rmp_T42_to_POP43_conserv.nc ${DATA}/rgr/essgcm14_clm.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L520" class="blob-num js-line-number" data-line-number="520"></td>
        <td id="LC520" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -D 5 -O --map=${DATA}/maps/map_t42_to_fv129x256_aave.20150621.nc ${DATA}/rgr/essgcm14_clm.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L521" class="blob-num js-line-number" data-line-number="521"></td>
        <td id="LC521" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -D 5 -O --map=${DATA}/maps/map_ne30np4_to_ne120np4_tps.20150618.nc ${DATA}/ne30/rgr/ne30_1D.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L522" class="blob-num js-line-number" data-line-number="522"></td>
        <td id="LC522" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> </span></td>
      </tr>
      <tr>
        <td id="L523" class="blob-num js-line-number" data-line-number="523"></td>
        <td id="LC523" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Mapfile formats ESMF, GRIDSPEC, SCRIP, and UGRID described here:</span></td>
      </tr>
      <tr>
        <td id="L524" class="blob-num js-line-number" data-line-number="524"></td>
        <td id="LC524" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     http://www.earthsystemmodeling.org/esmf_releases/public/ESMF_6_3_0rp1/ESMF_refdoc/node3.html#sec:fileformat:scrip</span></td>
      </tr>
      <tr>
        <td id="L525" class="blob-num js-line-number" data-line-number="525"></td>
        <td id="LC525" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L526" class="blob-num js-line-number" data-line-number="526"></td>
        <td id="LC526" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Conventions:</span></td>
      </tr>
      <tr>
        <td id="L527" class="blob-num js-line-number" data-line-number="527"></td>
        <td id="LC527" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     grid_size: Number of gridcells (product of lat*lon)</span></td>
      </tr>
      <tr>
        <td id="L528" class="blob-num js-line-number" data-line-number="528"></td>
        <td id="LC528" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     address: Source and destination index for each link pair</span></td>
      </tr>
      <tr>
        <td id="L529" class="blob-num js-line-number" data-line-number="529"></td>
        <td id="LC529" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     num_links: Number of unique address pairs in remapping, i.e., size of sparse matrix</span></td>
      </tr>
      <tr>
        <td id="L530" class="blob-num js-line-number" data-line-number="530"></td>
        <td id="LC530" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     num_wgts: Number of weights per vertice for given remapping</span></td>
      </tr>
      <tr>
        <td id="L531" class="blob-num js-line-number" data-line-number="531"></td>
        <td id="LC531" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     = 1 Bilinear</span></td>
      </tr>
      <tr>
        <td id="L532" class="blob-num js-line-number" data-line-number="532"></td>
        <td id="LC532" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Destination grid value determined by weights times known source grid values </span></td>
      </tr>
      <tr>
        <td id="L533" class="blob-num js-line-number" data-line-number="533"></td>
        <td id="LC533" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         at vertices of source quadrilateral that bounds destination point P</span></td>
      </tr>
      <tr>
        <td id="L534" class="blob-num js-line-number" data-line-number="534"></td>
        <td id="LC534" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         One weight per vertice guarantees fxm but is not conservative</span></td>
      </tr>
      <tr>
        <td id="L535" class="blob-num js-line-number" data-line-number="535"></td>
        <td id="LC535" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Bilinear requires logically rectangular grid</span></td>
      </tr>
      <tr>
        <td id="L536" class="blob-num js-line-number" data-line-number="536"></td>
        <td id="LC536" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     = 1 Distance-based:</span></td>
      </tr>
      <tr>
        <td id="L537" class="blob-num js-line-number" data-line-number="537"></td>
        <td id="LC537" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Distance-weighted uses values at num_neighbors points</span></td>
      </tr>
      <tr>
        <td id="L538" class="blob-num js-line-number" data-line-number="538"></td>
        <td id="LC538" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 The weight is inversely proportional to the angular distance from </span></td>
      </tr>
      <tr>
        <td id="L539" class="blob-num js-line-number" data-line-number="539"></td>
        <td id="LC539" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 the destination point to each neighbor on the source grid</span></td>
      </tr>
      <tr>
        <td id="L540" class="blob-num js-line-number" data-line-number="540"></td>
        <td id="LC540" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     = 3 Second-order conservative:</span></td>
      </tr>
      <tr>
        <td id="L541" class="blob-num js-line-number" data-line-number="541"></td>
        <td id="LC541" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Described in Jones, P. W. (1999), Monthly Weather Review, 127, 2204-2210</span></td>
      </tr>
      <tr>
        <td id="L542" class="blob-num js-line-number" data-line-number="542"></td>
        <td id="LC542" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         First-order conservative schemes assume fluxes are constant within gridcell</span></td>
      </tr>
      <tr>
        <td id="L543" class="blob-num js-line-number" data-line-number="543"></td>
        <td id="LC543" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Destination fluxes are simple summations of sources fluxes weighted by overlap areas</span></td>
      </tr>
      <tr>
        <td id="L544" class="blob-num js-line-number" data-line-number="544"></td>
        <td id="LC544" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Old clm and bds remappers use a first-order algorithm</span></td>
      </tr>
      <tr>
        <td id="L545" class="blob-num js-line-number" data-line-number="545"></td>
        <td id="LC545" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Second-order improves this by using a first-order Taylor expansion of flux</span></td>
      </tr>
      <tr>
        <td id="L546" class="blob-num js-line-number" data-line-number="546"></td>
        <td id="LC546" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Source flux is centroid value plus directional offset determined by dot product</span></td>
      </tr>
      <tr>
        <td id="L547" class="blob-num js-line-number" data-line-number="547"></td>
        <td id="LC547" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 of directional gradient and vector pointing from vertice to centroid.</span></td>
      </tr>
      <tr>
        <td id="L548" class="blob-num js-line-number" data-line-number="548"></td>
        <td id="LC548" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Three weights per vertice are centroid weight, weight times local theta-gradient from</span></td>
      </tr>
      <tr>
        <td id="L549" class="blob-num js-line-number" data-line-number="549"></td>
        <td id="LC549" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 centroid to vertice, and weight times local phi-gradient from centroid to vertice.</span></td>
      </tr>
      <tr>
        <td id="L550" class="blob-num js-line-number" data-line-number="550"></td>
        <td id="LC550" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     = 4 Bicubic: </span></td>
      </tr>
      <tr>
        <td id="L551" class="blob-num js-line-number" data-line-number="551"></td>
        <td id="LC551" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         The four weights are gradients in each direction plus a cross-gradient term</span></td>
      </tr>
      <tr>
        <td id="L552" class="blob-num js-line-number" data-line-number="552"></td>
        <td id="LC552" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Same principle as bilinear, but more weights per vertice</span></td>
      </tr>
      <tr>
        <td id="L553" class="blob-num js-line-number" data-line-number="553"></td>
        <td id="LC553" class="blob-code blob-code-inner js-file-line"><span class="pl-c">         Bicubic requires logically rectangular grid</span></td>
      </tr>
      <tr>
        <td id="L554" class="blob-num js-line-number" data-line-number="554"></td>
        <td id="LC554" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     </span></td>
      </tr>
      <tr>
        <td id="L555" class="blob-num js-line-number" data-line-number="555"></td>
        <td id="LC555" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     wgt: </span></td>
      </tr>
      <tr>
        <td id="L556" class="blob-num js-line-number" data-line-number="556"></td>
        <td id="LC556" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Maximum number of source cells contributing to destination cell is not a dimension</span></td>
      </tr>
      <tr>
        <td id="L557" class="blob-num js-line-number" data-line-number="557"></td>
        <td id="LC557" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     in SCRIP remapping files because SCRIP stores everying in 1-D sparse matrix arrays</span></td>
      </tr>
      <tr>
        <td id="L558" class="blob-num js-line-number" data-line-number="558"></td>
        <td id="LC558" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Sparse matrix formulations:</span></td>
      </tr>
      <tr>
        <td id="L559" class="blob-num js-line-number" data-line-number="559"></td>
        <td id="LC559" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L560" class="blob-num js-line-number" data-line-number="560"></td>
        <td id="LC560" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     for(lnk_idx=0;lnk_idx&lt;lnk_nbr;lnk_idx++){</span></td>
      </tr>
      <tr>
        <td id="L561" class="blob-num js-line-number" data-line-number="561"></td>
        <td id="LC561" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       // Normalization: fractional area (fracarea)</span></td>
      </tr>
      <tr>
        <td id="L562" class="blob-num js-line-number" data-line-number="562"></td>
        <td id="LC562" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       dst[ddr_dst[lnk_idx]]+=src[ddr_src[lnk_idx]]*remap_matrix[lnk_idx,0];</span></td>
      </tr>
      <tr>
        <td id="L563" class="blob-num js-line-number" data-line-number="563"></td>
        <td id="LC563" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       // Normalization: destination area (destarea)</span></td>
      </tr>
      <tr>
        <td id="L564" class="blob-num js-line-number" data-line-number="564"></td>
        <td id="LC564" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       dst[ddr_dst[lnk_idx]]+=src[ddr_src[lnk_idx]]*remap_matrix[lnk_idx,0]/dst_area[ddr_dst[lnk_idx]];</span></td>
      </tr>
      <tr>
        <td id="L565" class="blob-num js-line-number" data-line-number="565"></td>
        <td id="LC565" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       // Normalization: none</span></td>
      </tr>
      <tr>
        <td id="L566" class="blob-num js-line-number" data-line-number="566"></td>
        <td id="LC566" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       dst[ddr_dst[lnk_idx]]+=src[ddr_src[lnk_idx]]*remap_matrix[lnk_idx,0]/(dst_area[ddr_dst[lnk_idx]]*dst_frc[ddr_dst[lnk_idx]);</span></td>
      </tr>
      <tr>
        <td id="L567" class="blob-num js-line-number" data-line-number="567"></td>
        <td id="LC567" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     } // end loop over lnk</span></td>
      </tr>
      <tr>
        <td id="L568" class="blob-num js-line-number" data-line-number="568"></td>
        <td id="LC568" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L569" class="blob-num js-line-number" data-line-number="569"></td>
        <td id="LC569" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Documentation:</span></td>
      </tr>
      <tr>
        <td id="L570" class="blob-num js-line-number" data-line-number="570"></td>
        <td id="LC570" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NCL special cases described in popRemap.ncl, e.g., at</span></td>
      </tr>
      <tr>
        <td id="L571" class="blob-num js-line-number" data-line-number="571"></td>
        <td id="LC571" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://github.com/yyr/ncl/blob/master/ni/src/examples/gsun/popRemap.ncl</span></td>
      </tr>
      <tr>
        <td id="L572" class="blob-num js-line-number" data-line-number="572"></td>
        <td id="LC572" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L573" class="blob-num js-line-number" data-line-number="573"></td>
        <td id="LC573" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF Regridding Status:</span></td>
      </tr>
      <tr>
        <td id="L574" class="blob-num js-line-number" data-line-number="574"></td>
        <td id="LC574" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     http://www.earthsystemmodeling.org/esmf_releases/last/regridding_status.html</span></td>
      </tr>
      <tr>
        <td id="L575" class="blob-num js-line-number" data-line-number="575"></td>
        <td id="LC575" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L576" class="blob-num js-line-number" data-line-number="576"></td>
        <td id="LC576" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Sample regrid T42-&gt;POP43, SCRIP:</span></td>
      </tr>
      <tr>
        <td id="L577" class="blob-num js-line-number" data-line-number="577"></td>
        <td id="LC577" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O --map=${DATA}/scrip/rmp_T42_to_POP43_conserv.nc ${DATA}/rgr/essgcm14_clm.nc ~/foo.nc */</span></td>
      </tr>
      <tr>
        <td id="L578" class="blob-num js-line-number" data-line-number="578"></td>
        <td id="LC578" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L579" class="blob-num js-line-number" data-line-number="579"></td>
        <td id="LC579" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_rgr_map()<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Function name */</span></td>
      </tr>
      <tr>
        <td id="L580" class="blob-num js-line-number" data-line-number="580"></td>
        <td id="LC580" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L581" class="blob-num js-line-number" data-line-number="581"></td>
        <td id="LC581" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_in;</td>
      </tr>
      <tr>
        <td id="L582" class="blob-num js-line-number" data-line-number="582"></td>
        <td id="LC582" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_pth_lcl=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L583" class="blob-num js-line-number" data-line-number="583"></td>
        <td id="LC583" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L584" class="blob-num js-line-number" data-line-number="584"></td>
        <td id="LC584" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> rdn2dgr=<span class="pl-c1">180.0</span>/M_PI;</td>
      </tr>
      <tr>
        <td id="L585" class="blob-num js-line-number" data-line-number="585"></td>
        <td id="LC585" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> dgr2rdn=M_PI/<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L586" class="blob-num js-line-number" data-line-number="586"></td>
        <td id="LC586" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt=<span class="pl-c1">1.0e-14</span>; <span class="pl-c">/* [frc] Round-off error tolerance */</span></td>
      </tr>
      <tr>
        <td id="L587" class="blob-num js-line-number" data-line-number="587"></td>
        <td id="LC587" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Actual sum of quadrature weights */</span></td>
      </tr>
      <tr>
        <td id="L588" class="blob-num js-line-number" data-line-number="588"></td>
        <td id="LC588" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> area_out_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Exact sum of area */</span></td>
      </tr>
      <tr>
        <td id="L589" class="blob-num js-line-number" data-line-number="589"></td>
        <td id="LC589" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L590" class="blob-num js-line-number" data-line-number="590"></td>
        <td id="LC590" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> in_id; <span class="pl-c">/* I [id] Input netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L591" class="blob-num js-line-number" data-line-number="591"></td>
        <td id="LC591" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> out_id; <span class="pl-c">/* I [id] Output netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L592" class="blob-num js-line-number" data-line-number="592"></td>
        <td id="LC592" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> md_open; <span class="pl-c">/* [enm] Mode flag for nc_open() call */</span></td>
      </tr>
      <tr>
        <td id="L593" class="blob-num js-line-number" data-line-number="593"></td>
        <td id="LC593" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rcd=NC_NOERR;</td>
      </tr>
      <tr>
        <td id="L594" class="blob-num js-line-number" data-line-number="594"></td>
        <td id="LC594" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L595" class="blob-num js-line-number" data-line-number="595"></td>
        <td id="LC595" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grid_corners_id; <span class="pl-c">/* [id] Destination grid corners dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L596" class="blob-num js-line-number" data-line-number="596"></td>
        <td id="LC596" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grid_rank_id; <span class="pl-c">/* [id] Destination grid rank dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L597" class="blob-num js-line-number" data-line-number="597"></td>
        <td id="LC597" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grid_size_id; <span class="pl-c">/* [id] Destination grid size dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L598" class="blob-num js-line-number" data-line-number="598"></td>
        <td id="LC598" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> num_links_id; <span class="pl-c">/* [id] Number of links dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L599" class="blob-num js-line-number" data-line-number="599"></td>
        <td id="LC599" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> num_wgts_id; <span class="pl-c">/* [id] Number of weights dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L600" class="blob-num js-line-number" data-line-number="600"></td>
        <td id="LC600" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> src_grid_corners_id; <span class="pl-c">/* [id] Source grid corners dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L601" class="blob-num js-line-number" data-line-number="601"></td>
        <td id="LC601" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> src_grid_rank_id; <span class="pl-c">/* [id] Source grid rank dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L602" class="blob-num js-line-number" data-line-number="602"></td>
        <td id="LC602" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> src_grid_size_id; <span class="pl-c">/* [id] Source grid size dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L603" class="blob-num js-line-number" data-line-number="603"></td>
        <td id="LC603" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L604" class="blob-num js-line-number" data-line-number="604"></td>
        <td id="LC604" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> <span class="pl-k">int</span> lat_idx;</td>
      </tr>
      <tr>
        <td id="L605" class="blob-num js-line-number" data-line-number="605"></td>
        <td id="LC605" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> <span class="pl-k">int</span> lon_idx;</td>
      </tr>
      <tr>
        <td id="L606" class="blob-num js-line-number" data-line-number="606"></td>
        <td id="LC606" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L607" class="blob-num js-line-number" data-line-number="607"></td>
        <td id="LC607" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">short</span> <span class="pl-k">int</span> bnd_idx;</td>
      </tr>
      <tr>
        <td id="L608" class="blob-num js-line-number" data-line-number="608"></td>
        <td id="LC608" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L609" class="blob-num js-line-number" data-line-number="609"></td>
        <td id="LC609" class="blob-code blob-code-inner js-file-line">  nco_bool FL_RTR_RMT_LCN;</td>
      </tr>
      <tr>
        <td id="L610" class="blob-num js-line-number" data-line-number="610"></td>
        <td id="LC610" class="blob-code blob-code-inner js-file-line">  nco_bool RAM_OPEN=False; <span class="pl-c">/* [flg] Open (netCDF3-only) file(s) in RAM */</span></td>
      </tr>
      <tr>
        <td id="L611" class="blob-num js-line-number" data-line-number="611"></td>
        <td id="LC611" class="blob-code blob-code-inner js-file-line">  nco_bool RM_RMT_FL_PST_PRC=True; <span class="pl-c">/* Option R */</span></td>
      </tr>
      <tr>
        <td id="L612" class="blob-num js-line-number" data-line-number="612"></td>
        <td id="LC612" class="blob-code blob-code-inner js-file-line">  nco_bool flg_dgn_area_out=False; <span class="pl-c">/* [flg] Diagnose area_out from grid boundaries */</span></td>
      </tr>
      <tr>
        <td id="L613" class="blob-num js-line-number" data-line-number="613"></td>
        <td id="LC613" class="blob-code blob-code-inner js-file-line">  nco_bool flg_bnd_1D_usable=False; <span class="pl-c">/* [flg] Usable 1D cell vertices exist */</span></td>
      </tr>
      <tr>
        <td id="L614" class="blob-num js-line-number" data-line-number="614"></td>
        <td id="LC614" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L615" class="blob-num js-line-number" data-line-number="615"></td>
        <td id="LC615" class="blob-code blob-code-inner js-file-line">  nco_grd_2D_typ_enm nco_grd_2D_typ=nco_grd_2D_nil; <span class="pl-c">/* [enm] Two-dimensional grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L616" class="blob-num js-line-number" data-line-number="616"></td>
        <td id="LC616" class="blob-code blob-code-inner js-file-line">  nco_grd_lat_typ_enm nco_grd_lat_typ=nco_grd_lat_nil; <span class="pl-c">/* [enm] Latitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L617" class="blob-num js-line-number" data-line-number="617"></td>
        <td id="LC617" class="blob-code blob-code-inner js-file-line">  nco_grd_lon_typ_enm nco_grd_lon_typ=nco_grd_lon_nil; <span class="pl-c">/* [enm] Longitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L618" class="blob-num js-line-number" data-line-number="618"></td>
        <td id="LC618" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L619" class="blob-num js-line-number" data-line-number="619"></td>
        <td id="LC619" class="blob-code blob-code-inner js-file-line">  nco_mpf_sct rgr_map;</td>
      </tr>
      <tr>
        <td id="L620" class="blob-num js-line-number" data-line-number="620"></td>
        <td id="LC620" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L621" class="blob-num js-line-number" data-line-number="621"></td>
        <td id="LC621" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> bfr_sz_hnt=NC_SIZEHINT_DEFAULT; <span class="pl-c">/* [B] Buffer size hint */</span></td>
      </tr>
      <tr>
        <td id="L622" class="blob-num js-line-number" data-line-number="622"></td>
        <td id="LC622" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L623" class="blob-num js-line-number" data-line-number="623"></td>
        <td id="LC623" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> obtaining mapping weights from <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,rgr-&gt;fl_map);</td>
      </tr>
      <tr>
        <td id="L624" class="blob-num js-line-number" data-line-number="624"></td>
        <td id="LC624" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L625" class="blob-num js-line-number" data-line-number="625"></td>
        <td id="LC625" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Duplicate (because nco_fl_mk_lcl() free()&#39;s fl_in) */</span></td>
      </tr>
      <tr>
        <td id="L626" class="blob-num js-line-number" data-line-number="626"></td>
        <td id="LC626" class="blob-code blob-code-inner js-file-line">  fl_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr-&gt;fl_map);</td>
      </tr>
      <tr>
        <td id="L627" class="blob-num js-line-number" data-line-number="627"></td>
        <td id="LC627" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Make sure file is on local system and is readable or die trying */</span></td>
      </tr>
      <tr>
        <td id="L628" class="blob-num js-line-number" data-line-number="628"></td>
        <td id="LC628" class="blob-code blob-code-inner js-file-line">  fl_in=<span class="pl-c1">nco_fl_mk_lcl</span>(fl_in,fl_pth_lcl,&amp;FL_RTR_RMT_LCN);</td>
      </tr>
      <tr>
        <td id="L629" class="blob-num js-line-number" data-line-number="629"></td>
        <td id="LC629" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Open file using appropriate buffer size hints and verbosity */</span></td>
      </tr>
      <tr>
        <td id="L630" class="blob-num js-line-number" data-line-number="630"></td>
        <td id="LC630" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(RAM_OPEN) md_open=NC_NOWRITE|NC_DISKLESS; <span class="pl-k">else</span> md_open=NC_NOWRITE;</td>
      </tr>
      <tr>
        <td id="L631" class="blob-num js-line-number" data-line-number="631"></td>
        <td id="LC631" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_fl_open</span>(fl_in,md_open,&amp;bfr_sz_hnt,&amp;in_id);</td>
      </tr>
      <tr>
        <td id="L632" class="blob-num js-line-number" data-line-number="632"></td>
        <td id="LC632" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L633" class="blob-num js-line-number" data-line-number="633"></td>
        <td id="LC633" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Identify mapping file type using string generated by weight-generator:</span></td>
      </tr>
      <tr>
        <td id="L634" class="blob-num js-line-number" data-line-number="634"></td>
        <td id="LC634" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_Regridder: conventions = &quot;NCAR-CSM&quot;</span></td>
      </tr>
      <tr>
        <td id="L635" class="blob-num js-line-number" data-line-number="635"></td>
        <td id="LC635" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NCO: conventions = &quot;fxm&quot; (Currently NCO produces gridfiles, not mapfiles)</span></td>
      </tr>
      <tr>
        <td id="L636" class="blob-num js-line-number" data-line-number="636"></td>
        <td id="LC636" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     SCRIP: conventions = &quot;SCRIP&quot;</span></td>
      </tr>
      <tr>
        <td id="L637" class="blob-num js-line-number" data-line-number="637"></td>
        <td id="LC637" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Tempest: Title = &quot;TempestRemap Offline Regridding Weight Generator&quot; */</span></td>
      </tr>
      <tr>
        <td id="L638" class="blob-num js-line-number" data-line-number="638"></td>
        <td id="LC638" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_val;</td>
      </tr>
      <tr>
        <td id="L639" class="blob-num js-line-number" data-line-number="639"></td>
        <td id="LC639" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *cnv_sng=NULL_CEWI;</td>
      </tr>
      <tr>
        <td id="L640" class="blob-num js-line-number" data-line-number="640"></td>
        <td id="LC640" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* netCDF standard is uppercase Conventions, though some models user lowercase */</span></td>
      </tr>
      <tr>
        <td id="L641" class="blob-num js-line-number" data-line-number="641"></td>
        <td id="LC641" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> cnv_sng_UC[]=<span class="pl-s"><span class="pl-pds">&quot;</span>Conventions<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* Unidata standard     string (uppercase) */</span></td>
      </tr>
      <tr>
        <td id="L642" class="blob-num js-line-number" data-line-number="642"></td>
        <td id="LC642" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> cnv_sng_LC[]=<span class="pl-s"><span class="pl-pds">&quot;</span>conventions<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* Unidata non-standard string (lowercase) */</span></td>
      </tr>
      <tr>
        <td id="L643" class="blob-num js-line-number" data-line-number="643"></td>
        <td id="LC643" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> cnv_sng_tps[]=<span class="pl-s"><span class="pl-pds">&quot;</span>Title<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* Tempest uses &quot;Title&quot; not &quot;Conventions&quot; attribute */</span></td>
      </tr>
      <tr>
        <td id="L644" class="blob-num js-line-number" data-line-number="644"></td>
        <td id="LC644" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> name0_sng[]=<span class="pl-s"><span class="pl-pds">&quot;</span>name0<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Attribute where Tempest stores least-rapidly-varying dimension name */</span></td>
      </tr>
      <tr>
        <td id="L645" class="blob-num js-line-number" data-line-number="645"></td>
        <td id="LC645" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L646" class="blob-num js-line-number" data-line-number="646"></td>
        <td id="LC646" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> att_sz;</td>
      </tr>
      <tr>
        <td id="L647" class="blob-num js-line-number" data-line-number="647"></td>
        <td id="LC647" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L648" class="blob-num js-line-number" data-line-number="648"></td>
        <td id="LC648" class="blob-code blob-code-inner js-file-line">  nc_type att_typ;</td>
      </tr>
      <tr>
        <td id="L649" class="blob-num js-line-number" data-line-number="649"></td>
        <td id="LC649" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L650" class="blob-num js-line-number" data-line-number="650"></td>
        <td id="LC650" class="blob-code blob-code-inner js-file-line">  nco_rgr_mpf_typ_enm nco_rgr_mpf_typ=nco_rgr_mpf_nil; <span class="pl-c">/* [enm] Type of remapping file */</span></td>
      </tr>
      <tr>
        <td id="L651" class="blob-num js-line-number" data-line-number="651"></td>
        <td id="LC651" class="blob-code blob-code-inner js-file-line">  nco_rgr_typ_enm nco_rgr_typ=nco_rgr_grd_nil; <span class="pl-c">/* [enm] Type of grid conversion */</span></td>
      </tr>
      <tr>
        <td id="L652" class="blob-num js-line-number" data-line-number="652"></td>
        <td id="LC652" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L653" class="blob-num js-line-number" data-line-number="653"></td>
        <td id="LC653" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Look for map-type signature in Conventions attribute */</span></td>
      </tr>
      <tr>
        <td id="L654" class="blob-num js-line-number" data-line-number="654"></td>
        <td id="LC654" class="blob-code blob-code-inner js-file-line">  cnv_sng=cnv_sng_UC;</td>
      </tr>
      <tr>
        <td id="L655" class="blob-num js-line-number" data-line-number="655"></td>
        <td id="LC655" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,NC_GLOBAL,cnv_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L656" class="blob-num js-line-number" data-line-number="656"></td>
        <td id="LC656" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L657" class="blob-num js-line-number" data-line-number="657"></td>
        <td id="LC657" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Re-try with lowercase string because some models, e.g., CLM, user lowercase &quot;conventions&quot; */</span></td>
      </tr>
      <tr>
        <td id="L658" class="blob-num js-line-number" data-line-number="658"></td>
        <td id="LC658" class="blob-code blob-code-inner js-file-line">    cnv_sng=cnv_sng_LC;</td>
      </tr>
      <tr>
        <td id="L659" class="blob-num js-line-number" data-line-number="659"></td>
        <td id="LC659" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,NC_GLOBAL,cnv_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L660" class="blob-num js-line-number" data-line-number="660"></td>
        <td id="LC660" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif lowercase */</span></td>
      </tr>
      <tr>
        <td id="L661" class="blob-num js-line-number" data-line-number="661"></td>
        <td id="LC661" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L662" class="blob-num js-line-number" data-line-number="662"></td>
        <td id="LC662" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Re-try with Tempest */</span></td>
      </tr>
      <tr>
        <td id="L663" class="blob-num js-line-number" data-line-number="663"></td>
        <td id="LC663" class="blob-code blob-code-inner js-file-line">    cnv_sng=cnv_sng_tps;</td>
      </tr>
      <tr>
        <td id="L664" class="blob-num js-line-number" data-line-number="664"></td>
        <td id="LC664" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,NC_GLOBAL,cnv_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L665" class="blob-num js-line-number" data-line-number="665"></td>
        <td id="LC665" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif Tempest */</span></td>
      </tr>
      <tr>
        <td id="L666" class="blob-num js-line-number" data-line-number="666"></td>
        <td id="LC666" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L667" class="blob-num js-line-number" data-line-number="667"></td>
        <td id="LC667" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L668" class="blob-num js-line-number" data-line-number="668"></td>
        <td id="LC668" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((att_sz+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(att_typ));</td>
      </tr>
      <tr>
        <td id="L669" class="blob-num js-line-number" data-line-number="669"></td>
        <td id="LC669" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_get_att</span>(in_id,NC_GLOBAL,cnv_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L670" class="blob-num js-line-number" data-line-number="670"></td>
        <td id="LC670" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L671" class="blob-num js-line-number" data-line-number="671"></td>
        <td id="LC671" class="blob-code blob-code-inner js-file-line">    att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L672" class="blob-num js-line-number" data-line-number="672"></td>
        <td id="LC672" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* ESMF conventions */</span></td>
      </tr>
      <tr>
        <td id="L673" class="blob-num js-line-number" data-line-number="673"></td>
        <td id="LC673" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>NCAR-CSM<span class="pl-pds">&quot;</span></span>)) nco_rgr_mpf_typ=nco_rgr_mpf_ESMF;</td>
      </tr>
      <tr>
        <td id="L674" class="blob-num js-line-number" data-line-number="674"></td>
        <td id="LC674" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>SCRIP<span class="pl-pds">&quot;</span></span>)) nco_rgr_mpf_typ=nco_rgr_mpf_SCRIP;</td>
      </tr>
      <tr>
        <td id="L675" class="blob-num js-line-number" data-line-number="675"></td>
        <td id="LC675" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>Tempest<span class="pl-pds">&quot;</span></span>)) nco_rgr_mpf_typ=nco_rgr_mpf_Tempest;</td>
      </tr>
      <tr>
        <td id="L676" class="blob-num js-line-number" data-line-number="676"></td>
        <td id="LC676" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_nil) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unrecognized map-type specified in attribute Conventions = <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,att_val);</td>
      </tr>
      <tr>
        <td id="L677" class="blob-num js-line-number" data-line-number="677"></td>
        <td id="LC677" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L678" class="blob-num js-line-number" data-line-number="678"></td>
        <td id="LC678" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end rcd &amp;&amp; att_typ */</span></td>
      </tr>
      <tr>
        <td id="L679" class="blob-num js-line-number" data-line-number="679"></td>
        <td id="LC679" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L680" class="blob-num js-line-number" data-line-number="680"></td>
        <td id="LC680" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_mpf_typ){</td>
      </tr>
      <tr>
        <td id="L681" class="blob-num js-line-number" data-line-number="681"></td>
        <td id="LC681" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_SCRIP:</td>
      </tr>
      <tr>
        <td id="L682" class="blob-num js-line-number" data-line-number="682"></td>
        <td id="LC682" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_grid_size<span class="pl-pds">&quot;</span></span>,&amp;src_grid_size_id);</td>
      </tr>
      <tr>
        <td id="L683" class="blob-num js-line-number" data-line-number="683"></td>
        <td id="LC683" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_size<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_size_id);</td>
      </tr>
      <tr>
        <td id="L684" class="blob-num js-line-number" data-line-number="684"></td>
        <td id="LC684" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_grid_corners<span class="pl-pds">&quot;</span></span>,&amp;src_grid_corners_id);</td>
      </tr>
      <tr>
        <td id="L685" class="blob-num js-line-number" data-line-number="685"></td>
        <td id="LC685" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_corners<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_corners_id);</td>
      </tr>
      <tr>
        <td id="L686" class="blob-num js-line-number" data-line-number="686"></td>
        <td id="LC686" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_grid_rank<span class="pl-pds">&quot;</span></span>,&amp;src_grid_rank_id);</td>
      </tr>
      <tr>
        <td id="L687" class="blob-num js-line-number" data-line-number="687"></td>
        <td id="LC687" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_rank<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_rank_id);</td>
      </tr>
      <tr>
        <td id="L688" class="blob-num js-line-number" data-line-number="688"></td>
        <td id="LC688" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>num_links<span class="pl-pds">&quot;</span></span>,&amp;num_links_id);</td>
      </tr>
      <tr>
        <td id="L689" class="blob-num js-line-number" data-line-number="689"></td>
        <td id="LC689" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>num_wgts<span class="pl-pds">&quot;</span></span>,&amp;num_wgts_id);</td>
      </tr>
      <tr>
        <td id="L690" class="blob-num js-line-number" data-line-number="690"></td>
        <td id="LC690" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L691" class="blob-num js-line-number" data-line-number="691"></td>
        <td id="LC691" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_ESMF:</td>
      </tr>
      <tr>
        <td id="L692" class="blob-num js-line-number" data-line-number="692"></td>
        <td id="LC692" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_Tempest:</td>
      </tr>
      <tr>
        <td id="L693" class="blob-num js-line-number" data-line-number="693"></td>
        <td id="LC693" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>n_a<span class="pl-pds">&quot;</span></span>,&amp;src_grid_size_id);</td>
      </tr>
      <tr>
        <td id="L694" class="blob-num js-line-number" data-line-number="694"></td>
        <td id="LC694" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>n_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_size_id);</td>
      </tr>
      <tr>
        <td id="L695" class="blob-num js-line-number" data-line-number="695"></td>
        <td id="LC695" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nv_a<span class="pl-pds">&quot;</span></span>,&amp;src_grid_corners_id);</td>
      </tr>
      <tr>
        <td id="L696" class="blob-num js-line-number" data-line-number="696"></td>
        <td id="LC696" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nv_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_corners_id);</td>
      </tr>
      <tr>
        <td id="L697" class="blob-num js-line-number" data-line-number="697"></td>
        <td id="LC697" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_grid_rank<span class="pl-pds">&quot;</span></span>,&amp;src_grid_rank_id);</td>
      </tr>
      <tr>
        <td id="L698" class="blob-num js-line-number" data-line-number="698"></td>
        <td id="LC698" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_rank<span class="pl-pds">&quot;</span></span>,&amp;dst_grid_rank_id);</td>
      </tr>
      <tr>
        <td id="L699" class="blob-num js-line-number" data-line-number="699"></td>
        <td id="LC699" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>n_s<span class="pl-pds">&quot;</span></span>,&amp;num_links_id);</td>
      </tr>
      <tr>
        <td id="L700" class="blob-num js-line-number" data-line-number="700"></td>
        <td id="LC700" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ != nco_rgr_mpf_Tempest) rcd+=<span class="pl-c1">nco_inq_dimid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>num_wgts<span class="pl-pds">&quot;</span></span>,&amp;num_wgts_id);</td>
      </tr>
      <tr>
        <td id="L701" class="blob-num js-line-number" data-line-number="701"></td>
        <td id="LC701" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L702" class="blob-num js-line-number" data-line-number="702"></td>
        <td id="LC702" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L703" class="blob-num js-line-number" data-line-number="703"></td>
        <td id="LC703" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unknown map-file type<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L704" class="blob-num js-line-number" data-line-number="704"></td>
        <td id="LC704" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_dfl_case_generic_err</span>();</td>
      </tr>
      <tr>
        <td id="L705" class="blob-num js-line-number" data-line-number="705"></td>
        <td id="LC705" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NB: This return never executes because nco_dfl_case_generic_err() calls exit()</span></td>
      </tr>
      <tr>
        <td id="L706" class="blob-num js-line-number" data-line-number="706"></td>
        <td id="LC706" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Return placed here to suppress clang -Wsometimes-uninitialized warnings</span></td>
      </tr>
      <tr>
        <td id="L707" class="blob-num js-line-number" data-line-number="707"></td>
        <td id="LC707" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       This is done many other times throughout the code, though explained only once, here */</span></td>
      </tr>
      <tr>
        <td id="L708" class="blob-num js-line-number" data-line-number="708"></td>
        <td id="LC708" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> NCO_ERR;</td>
      </tr>
      <tr>
        <td id="L709" class="blob-num js-line-number" data-line-number="709"></td>
        <td id="LC709" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L710" class="blob-num js-line-number" data-line-number="710"></td>
        <td id="LC710" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L711" class="blob-num js-line-number" data-line-number="711"></td>
        <td id="LC711" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L712" class="blob-num js-line-number" data-line-number="712"></td>
        <td id="LC712" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use dimension IDs to get dimension sizes */</span></td>
      </tr>
      <tr>
        <td id="L713" class="blob-num js-line-number" data-line-number="713"></td>
        <td id="LC713" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,src_grid_size_id,&amp;rgr_map.<span class="pl-smi">src_grid_size</span>);</td>
      </tr>
      <tr>
        <td id="L714" class="blob-num js-line-number" data-line-number="714"></td>
        <td id="LC714" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dst_grid_size_id,&amp;rgr_map.<span class="pl-smi">dst_grid_size</span>);</td>
      </tr>
      <tr>
        <td id="L715" class="blob-num js-line-number" data-line-number="715"></td>
        <td id="LC715" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,src_grid_corners_id,&amp;rgr_map.<span class="pl-smi">src_grid_corners</span>);</td>
      </tr>
      <tr>
        <td id="L716" class="blob-num js-line-number" data-line-number="716"></td>
        <td id="LC716" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dst_grid_corners_id,&amp;rgr_map.<span class="pl-smi">dst_grid_corners</span>);</td>
      </tr>
      <tr>
        <td id="L717" class="blob-num js-line-number" data-line-number="717"></td>
        <td id="LC717" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,src_grid_rank_id,&amp;rgr_map.<span class="pl-smi">src_grid_rank</span>);</td>
      </tr>
      <tr>
        <td id="L718" class="blob-num js-line-number" data-line-number="718"></td>
        <td id="LC718" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dst_grid_rank_id,&amp;rgr_map.<span class="pl-smi">dst_grid_rank</span>);</td>
      </tr>
      <tr>
        <td id="L719" class="blob-num js-line-number" data-line-number="719"></td>
        <td id="LC719" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,num_links_id,&amp;rgr_map.<span class="pl-smi">num_links</span>);</td>
      </tr>
      <tr>
        <td id="L720" class="blob-num js-line-number" data-line-number="720"></td>
        <td id="LC720" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* TempestRemap does not generate num_wgts */</span></td>
      </tr>
      <tr>
        <td id="L721" class="blob-num js-line-number" data-line-number="721"></td>
        <td id="LC721" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_Tempest) rgr_map.<span class="pl-smi">num_wgts</span>=int_CEWI; <span class="pl-k">else</span> rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,num_wgts_id,&amp;rgr_map.<span class="pl-smi">num_wgts</span>); </td>
      </tr>
      <tr>
        <td id="L722" class="blob-num js-line-number" data-line-number="722"></td>
        <td id="LC722" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(rgr_map.<span class="pl-smi">src_grid_size</span> &lt; INT_MAX &amp;&amp; rgr_map.<span class="pl-smi">dst_grid_size</span> &lt; INT_MAX);</td>
      </tr>
      <tr>
        <td id="L723" class="blob-num js-line-number" data-line-number="723"></td>
        <td id="LC723" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L724" class="blob-num js-line-number" data-line-number="724"></td>
        <td id="LC724" class="blob-code blob-code-inner js-file-line">  cnv_sng=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>normalization<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L725" class="blob-num js-line-number" data-line-number="725"></td>
        <td id="LC725" class="blob-code blob-code-inner js-file-line">  nco_rgr_nrm_typ_enm nco_rgr_nrm_typ=nco_rgr_nrm_nil;</td>
      </tr>
      <tr>
        <td id="L726" class="blob-num js-line-number" data-line-number="726"></td>
        <td id="LC726" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,NC_GLOBAL,cnv_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L727" class="blob-num js-line-number" data-line-number="727"></td>
        <td id="LC727" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L728" class="blob-num js-line-number" data-line-number="728"></td>
        <td id="LC728" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Add one for NUL byte */</span></td>
      </tr>
      <tr>
        <td id="L729" class="blob-num js-line-number" data-line-number="729"></td>
        <td id="LC729" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>(att_sz*<span class="pl-c1">nco_typ_lng</span>(att_typ)+<span class="pl-c1">1L</span>);</td>
      </tr>
      <tr>
        <td id="L730" class="blob-num js-line-number" data-line-number="730"></td>
        <td id="LC730" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_get_att</span>(in_id,NC_GLOBAL,cnv_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L731" class="blob-num js-line-number" data-line-number="731"></td>
        <td id="LC731" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L732" class="blob-num js-line-number" data-line-number="732"></td>
        <td id="LC732" class="blob-code blob-code-inner js-file-line">    att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L733" class="blob-num js-line-number" data-line-number="733"></td>
        <td id="LC733" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>fracarea<span class="pl-pds">&quot;</span></span>)) nco_rgr_nrm_typ=nco_rgr_nrm_fracarea;</td>
      </tr>
      <tr>
        <td id="L734" class="blob-num js-line-number" data-line-number="734"></td>
        <td id="LC734" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>destarea<span class="pl-pds">&quot;</span></span>)) nco_rgr_nrm_typ=nco_rgr_nrm_destarea;</td>
      </tr>
      <tr>
        <td id="L735" class="blob-num js-line-number" data-line-number="735"></td>
        <td id="LC735" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>none<span class="pl-pds">&quot;</span></span>)) nco_rgr_nrm_typ=nco_rgr_nrm_none;</td>
      </tr>
      <tr>
        <td id="L736" class="blob-num js-line-number" data-line-number="736"></td>
        <td id="LC736" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L737" class="blob-num js-line-number" data-line-number="737"></td>
        <td id="LC737" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L738" class="blob-num js-line-number" data-line-number="738"></td>
        <td id="LC738" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* 20150712: Tempest does not store a normalization attribute */</span></td>
      </tr>
      <tr>
        <td id="L739" class="blob-num js-line-number" data-line-number="739"></td>
        <td id="LC739" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_Tempest) nco_rgr_nrm_typ=nco_rgr_nrm_unknown;</td>
      </tr>
      <tr>
        <td id="L740" class="blob-num js-line-number" data-line-number="740"></td>
        <td id="LC740" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif normalization */</span></td>
      </tr>
      <tr>
        <td id="L741" class="blob-num js-line-number" data-line-number="741"></td>
        <td id="LC741" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(nco_rgr_nrm_typ != nco_rgr_nrm_nil);</td>
      </tr>
      <tr>
        <td id="L742" class="blob-num js-line-number" data-line-number="742"></td>
        <td id="LC742" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(cnv_sng) cnv_sng=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(cnv_sng);</td>
      </tr>
      <tr>
        <td id="L743" class="blob-num js-line-number" data-line-number="743"></td>
        <td id="LC743" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L744" class="blob-num js-line-number" data-line-number="744"></td>
        <td id="LC744" class="blob-code blob-code-inner js-file-line">  cnv_sng=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>map_method<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L745" class="blob-num js-line-number" data-line-number="745"></td>
        <td id="LC745" class="blob-code blob-code-inner js-file-line">  nco_rgr_mth_typ_enm nco_rgr_mth_typ=nco_rgr_mth_nil;</td>
      </tr>
      <tr>
        <td id="L746" class="blob-num js-line-number" data-line-number="746"></td>
        <td id="LC746" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,NC_GLOBAL,cnv_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L747" class="blob-num js-line-number" data-line-number="747"></td>
        <td id="LC747" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L748" class="blob-num js-line-number" data-line-number="748"></td>
        <td id="LC748" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Add one for NUL byte */</span></td>
      </tr>
      <tr>
        <td id="L749" class="blob-num js-line-number" data-line-number="749"></td>
        <td id="LC749" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>(att_sz*<span class="pl-c1">nco_typ_lng</span>(att_typ)+<span class="pl-c1">1L</span>);</td>
      </tr>
      <tr>
        <td id="L750" class="blob-num js-line-number" data-line-number="750"></td>
        <td id="LC750" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_get_att</span>(in_id,NC_GLOBAL,cnv_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L751" class="blob-num js-line-number" data-line-number="751"></td>
        <td id="LC751" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L752" class="blob-num js-line-number" data-line-number="752"></td>
        <td id="LC752" class="blob-code blob-code-inner js-file-line">    att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L753" class="blob-num js-line-number" data-line-number="753"></td>
        <td id="LC753" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>Conservative remapping<span class="pl-pds">&quot;</span></span>)) nco_rgr_mth_typ=nco_rgr_mth_conservative;</td>
      </tr>
      <tr>
        <td id="L754" class="blob-num js-line-number" data-line-number="754"></td>
        <td id="LC754" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>Bilinear remapping<span class="pl-pds">&quot;</span></span>)) nco_rgr_mth_typ=nco_rgr_mth_bilinear;</td>
      </tr>
      <tr>
        <td id="L755" class="blob-num js-line-number" data-line-number="755"></td>
        <td id="LC755" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>none<span class="pl-pds">&quot;</span></span>)) nco_rgr_mth_typ=nco_rgr_mth_none;</td>
      </tr>
      <tr>
        <td id="L756" class="blob-num js-line-number" data-line-number="756"></td>
        <td id="LC756" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L757" class="blob-num js-line-number" data-line-number="757"></td>
        <td id="LC757" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L758" class="blob-num js-line-number" data-line-number="758"></td>
        <td id="LC758" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Tempest does not store a map_method attribute */</span></td>
      </tr>
      <tr>
        <td id="L759" class="blob-num js-line-number" data-line-number="759"></td>
        <td id="LC759" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_Tempest) nco_rgr_mth_typ=nco_rgr_mth_unknown;</td>
      </tr>
      <tr>
        <td id="L760" class="blob-num js-line-number" data-line-number="760"></td>
        <td id="LC760" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L761" class="blob-num js-line-number" data-line-number="761"></td>
        <td id="LC761" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(nco_rgr_mth_typ != nco_rgr_mth_nil);</td>
      </tr>
      <tr>
        <td id="L762" class="blob-num js-line-number" data-line-number="762"></td>
        <td id="LC762" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(cnv_sng) cnv_sng=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(cnv_sng);</td>
      </tr>
      <tr>
        <td id="L763" class="blob-num js-line-number" data-line-number="763"></td>
        <td id="LC763" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L764" class="blob-num js-line-number" data-line-number="764"></td>
        <td id="LC764" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_scl){</td>
      </tr>
      <tr>
        <td id="L765" class="blob-num js-line-number" data-line-number="765"></td>
        <td id="LC765" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> regridding input metadata and grid sizes: <span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L766" class="blob-num js-line-number" data-line-number="766"></td>
        <td id="LC766" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>mapfile_generator = <span class="pl-c1">%s</span>, map_method = <span class="pl-c1">%s</span>, normalization = <span class="pl-c1">%s</span>, src_grid_size = n_a = <span class="pl-c1">%li</span>, dst_grid_size = n_b = <span class="pl-c1">%li</span>, src_grid_corners = nv_a = <span class="pl-c1">%li</span>, dst_grid_corners = nv_b = <span class="pl-c1">%li</span>, src_grid_rank = <span class="pl-c1">%li</span>, dst_grid_rank = <span class="pl-c1">%li</span>, num_links = n_s = <span class="pl-c1">%li</span>, num_wgts = <span class="pl-c1">%li</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_rgr_mpf_sng</span>(nco_rgr_mpf_typ),<span class="pl-c1">nco_rgr_mth_sng</span>(nco_rgr_mth_typ),<span class="pl-c1">nco_rgr_nrm_sng</span>(nco_rgr_nrm_typ),rgr_map.<span class="pl-smi">src_grid_size</span>,rgr_map.<span class="pl-smi">dst_grid_size</span>,rgr_map.<span class="pl-smi">src_grid_corners</span>,rgr_map.<span class="pl-smi">dst_grid_corners</span>,rgr_map.<span class="pl-smi">src_grid_rank</span>,rgr_map.<span class="pl-smi">dst_grid_rank</span>,rgr_map.<span class="pl-smi">num_links</span>,rgr_map.<span class="pl-smi">num_wgts</span>);</td>
      </tr>
      <tr>
        <td id="L767" class="blob-num js-line-number" data-line-number="767"></td>
        <td id="LC767" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L768" class="blob-num js-line-number" data-line-number="768"></td>
        <td id="LC768" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_nrm_typ == nco_rgr_nrm_none){</td>
      </tr>
      <tr>
        <td id="L769" class="blob-num js-line-number" data-line-number="769"></td>
        <td id="LC769" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports requested normalization type = <span class="pl-c1">%s</span> is not yet supported. Specifically, masks specified by a mask variable (dst_grid_imask,mask_b) are not yet supported. Ask Charlie to do this.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_rgr_nrm_sng</span>(nco_rgr_nrm_typ));</td>
      </tr>
      <tr>
        <td id="L770" class="blob-num js-line-number" data-line-number="770"></td>
        <td id="LC770" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L771" class="blob-num js-line-number" data-line-number="771"></td>
        <td id="LC771" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !msk */</span></td>
      </tr>
      <tr>
        <td id="L772" class="blob-num js-line-number" data-line-number="772"></td>
        <td id="LC772" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L773" class="blob-num js-line-number" data-line-number="773"></td>
        <td id="LC773" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Set type of grid conversion */</span></td>
      </tr>
      <tr>
        <td id="L774" class="blob-num js-line-number" data-line-number="774"></td>
        <td id="LC774" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_map.<span class="pl-smi">src_grid_rank</span> == <span class="pl-c1">1</span> &amp;&amp; rgr_map.<span class="pl-smi">dst_grid_rank</span> == <span class="pl-c1">1</span>) nco_rgr_typ=nco_rgr_grd_1D_to_1D;</td>
      </tr>
      <tr>
        <td id="L775" class="blob-num js-line-number" data-line-number="775"></td>
        <td id="LC775" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_map.<span class="pl-smi">src_grid_rank</span> == <span class="pl-c1">1</span> &amp;&amp; rgr_map.<span class="pl-smi">dst_grid_rank</span> == <span class="pl-c1">2</span>) nco_rgr_typ=nco_rgr_grd_1D_to_2D;</td>
      </tr>
      <tr>
        <td id="L776" class="blob-num js-line-number" data-line-number="776"></td>
        <td id="LC776" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_map.<span class="pl-smi">src_grid_rank</span> == <span class="pl-c1">2</span> &amp;&amp; rgr_map.<span class="pl-smi">dst_grid_rank</span> == <span class="pl-c1">1</span>) nco_rgr_typ=nco_rgr_grd_2D_to_1D;</td>
      </tr>
      <tr>
        <td id="L777" class="blob-num js-line-number" data-line-number="777"></td>
        <td id="LC777" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr_map.<span class="pl-smi">src_grid_rank</span> == <span class="pl-c1">2</span> &amp;&amp; rgr_map.<span class="pl-smi">dst_grid_rank</span> == <span class="pl-c1">2</span>) nco_rgr_typ=nco_rgr_grd_2D_to_2D;</td>
      </tr>
      <tr>
        <td id="L778" class="blob-num js-line-number" data-line-number="778"></td>
        <td id="LC778" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(nco_rgr_typ != nco_rgr_grd_nil);</td>
      </tr>
      <tr>
        <td id="L779" class="blob-num js-line-number" data-line-number="779"></td>
        <td id="LC779" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Save typing later */</span></td>
      </tr>
      <tr>
        <td id="L780" class="blob-num js-line-number" data-line-number="780"></td>
        <td id="LC780" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_in_1D=False;</td>
      </tr>
      <tr>
        <td id="L781" class="blob-num js-line-number" data-line-number="781"></td>
        <td id="LC781" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_in_2D=False;</td>
      </tr>
      <tr>
        <td id="L782" class="blob-num js-line-number" data-line-number="782"></td>
        <td id="LC782" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_out_1D=False;</td>
      </tr>
      <tr>
        <td id="L783" class="blob-num js-line-number" data-line-number="783"></td>
        <td id="LC783" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_out_2D=False;</td>
      </tr>
      <tr>
        <td id="L784" class="blob-num js-line-number" data-line-number="784"></td>
        <td id="LC784" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_1D_to_1D || nco_rgr_typ == nco_rgr_grd_1D_to_2D) flg_grd_in_1D=True;</td>
      </tr>
      <tr>
        <td id="L785" class="blob-num js-line-number" data-line-number="785"></td>
        <td id="LC785" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_2D_to_1D || nco_rgr_typ == nco_rgr_grd_2D_to_2D) flg_grd_in_2D=True;</td>
      </tr>
      <tr>
        <td id="L786" class="blob-num js-line-number" data-line-number="786"></td>
        <td id="LC786" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_1D_to_1D || nco_rgr_typ == nco_rgr_grd_2D_to_1D) flg_grd_out_1D=True;</td>
      </tr>
      <tr>
        <td id="L787" class="blob-num js-line-number" data-line-number="787"></td>
        <td id="LC787" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_1D_to_2D || nco_rgr_typ == nco_rgr_grd_2D_to_2D) flg_grd_out_2D=True;</td>
      </tr>
      <tr>
        <td id="L788" class="blob-num js-line-number" data-line-number="788"></td>
        <td id="LC788" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_nbr_hrz_crd; <span class="pl-c">/* [nbr] Number of horizontal dimensions in output grid */</span></td>
      </tr>
      <tr>
        <td id="L789" class="blob-num js-line-number" data-line-number="789"></td>
        <td id="LC789" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D) dmn_nbr_hrz_crd=<span class="pl-c1">2</span>; <span class="pl-k">else</span> dmn_nbr_hrz_crd=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L790" class="blob-num js-line-number" data-line-number="790"></td>
        <td id="LC790" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L791" class="blob-num js-line-number" data-line-number="791"></td>
        <td id="LC791" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Obtain grid values necessary to compute output latitude and longitude coordinates */</span></td>
      </tr>
      <tr>
        <td id="L792" class="blob-num js-line-number" data-line-number="792"></td>
        <td id="LC792" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> area_dst_id; <span class="pl-c">/* [id] Area variable ID */</span></td>
      </tr>
      <tr>
        <td id="L793" class="blob-num js-line-number" data-line-number="793"></td>
        <td id="LC793" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> col_src_adr_id; <span class="pl-c">/* [id] Source address (col) variable ID */</span></td>
      </tr>
      <tr>
        <td id="L794" class="blob-num js-line-number" data-line-number="794"></td>
        <td id="LC794" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_sz_in_int_id; <span class="pl-c">/* [id] Source grid dimension sizes ID */</span></td>
      </tr>
      <tr>
        <td id="L795" class="blob-num js-line-number" data-line-number="795"></td>
        <td id="LC795" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_sz_out_int_id; <span class="pl-c">/* [id] Destination grid dimension sizes ID */</span></td>
      </tr>
      <tr>
        <td id="L796" class="blob-num js-line-number" data-line-number="796"></td>
        <td id="LC796" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grd_crn_lat_id; <span class="pl-c">/* [id] Destination grid corner latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L797" class="blob-num js-line-number" data-line-number="797"></td>
        <td id="LC797" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grd_crn_lon_id; <span class="pl-c">/* [id] Destination grid corner longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L798" class="blob-num js-line-number" data-line-number="798"></td>
        <td id="LC798" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grd_ctr_lat_id; <span class="pl-c">/* [id] Destination grid center latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L799" class="blob-num js-line-number" data-line-number="799"></td>
        <td id="LC799" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dst_grd_ctr_lon_id; <span class="pl-c">/* [id] Destination grid center longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L800" class="blob-num js-line-number" data-line-number="800"></td>
        <td id="LC800" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> frc_dst_id; <span class="pl-c">/* [id] Fraction variable ID */</span></td>
      </tr>
      <tr>
        <td id="L801" class="blob-num js-line-number" data-line-number="801"></td>
        <td id="LC801" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> msk_dst_id; <span class="pl-c">/* [id] Mask variable ID */</span></td>
      </tr>
      <tr>
        <td id="L802" class="blob-num js-line-number" data-line-number="802"></td>
        <td id="LC802" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> row_dst_adr_id; <span class="pl-c">/* [id] Destination address (row) variable ID */</span></td>
      </tr>
      <tr>
        <td id="L803" class="blob-num js-line-number" data-line-number="803"></td>
        <td id="LC803" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> wgt_raw_id; <span class="pl-c">/* [id] Remap matrix variable ID */</span></td>
      </tr>
      <tr>
        <td id="L804" class="blob-num js-line-number" data-line-number="804"></td>
        <td id="LC804" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L805" class="blob-num js-line-number" data-line-number="805"></td>
        <td id="LC805" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_mpf_typ){</td>
      </tr>
      <tr>
        <td id="L806" class="blob-num js-line-number" data-line-number="806"></td>
        <td id="LC806" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Obtain fields whose name depends on mapfile type */</span></td>
      </tr>
      <tr>
        <td id="L807" class="blob-num js-line-number" data-line-number="807"></td>
        <td id="LC807" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_SCRIP:</td>
      </tr>
      <tr>
        <td id="L808" class="blob-num js-line-number" data-line-number="808"></td>
        <td id="LC808" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_area<span class="pl-pds">&quot;</span></span>,&amp;area_dst_id); <span class="pl-c">/* ESMF: area_b */</span></td>
      </tr>
      <tr>
        <td id="L809" class="blob-num js-line-number" data-line-number="809"></td>
        <td id="LC809" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_center_lon<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_ctr_lon_id); <span class="pl-c">/* ESMF: xc_b */</span></td>
      </tr>
      <tr>
        <td id="L810" class="blob-num js-line-number" data-line-number="810"></td>
        <td id="LC810" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_center_lat<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_ctr_lat_id); <span class="pl-c">/* ESMF: yc_b */</span></td>
      </tr>
      <tr>
        <td id="L811" class="blob-num js-line-number" data-line-number="811"></td>
        <td id="LC811" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_corner_lon<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_crn_lon_id); <span class="pl-c">/* ESMF: xv_b */</span></td>
      </tr>
      <tr>
        <td id="L812" class="blob-num js-line-number" data-line-number="812"></td>
        <td id="LC812" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_corner_lat<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_crn_lat_id); <span class="pl-c">/* ESMF: yv_b */</span></td>
      </tr>
      <tr>
        <td id="L813" class="blob-num js-line-number" data-line-number="813"></td>
        <td id="LC813" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_frac<span class="pl-pds">&quot;</span></span>,&amp;frc_dst_id); <span class="pl-c">/* ESMF: frac_b */</span></td>
      </tr>
      <tr>
        <td id="L814" class="blob-num js-line-number" data-line-number="814"></td>
        <td id="LC814" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_address<span class="pl-pds">&quot;</span></span>,&amp;row_dst_adr_id); <span class="pl-c">/* ESMF: row */</span></td>
      </tr>
      <tr>
        <td id="L815" class="blob-num js-line-number" data-line-number="815"></td>
        <td id="LC815" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_address<span class="pl-pds">&quot;</span></span>,&amp;col_src_adr_id); <span class="pl-c">/* ESMF: col */</span></td>
      </tr>
      <tr>
        <td id="L816" class="blob-num js-line-number" data-line-number="816"></td>
        <td id="LC816" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>remap_matrix<span class="pl-pds">&quot;</span></span>,&amp;wgt_raw_id); <span class="pl-c">/* NB: remap_matrix[num_links,num_wgts] != S[n_s] */</span></td>
      </tr>
      <tr>
        <td id="L817" class="blob-num js-line-number" data-line-number="817"></td>
        <td id="LC817" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L818" class="blob-num js-line-number" data-line-number="818"></td>
        <td id="LC818" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_ESMF:</td>
      </tr>
      <tr>
        <td id="L819" class="blob-num js-line-number" data-line-number="819"></td>
        <td id="LC819" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_Tempest:</td>
      </tr>
      <tr>
        <td id="L820" class="blob-num js-line-number" data-line-number="820"></td>
        <td id="LC820" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>area_b<span class="pl-pds">&quot;</span></span>,&amp;area_dst_id); <span class="pl-c">/* SCRIP: dst_grid_area */</span></td>
      </tr>
      <tr>
        <td id="L821" class="blob-num js-line-number" data-line-number="821"></td>
        <td id="LC821" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>xc_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_ctr_lon_id); <span class="pl-c">/* SCRIP: dst_grid_center_lon */</span></td>
      </tr>
      <tr>
        <td id="L822" class="blob-num js-line-number" data-line-number="822"></td>
        <td id="LC822" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>yc_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_ctr_lat_id); <span class="pl-c">/* SCRIP: dst_grid_center_lat */</span></td>
      </tr>
      <tr>
        <td id="L823" class="blob-num js-line-number" data-line-number="823"></td>
        <td id="LC823" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>xv_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_crn_lon_id); <span class="pl-c">/* SCRIP: dst_grid_corner_lon */</span></td>
      </tr>
      <tr>
        <td id="L824" class="blob-num js-line-number" data-line-number="824"></td>
        <td id="LC824" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>yv_b<span class="pl-pds">&quot;</span></span>,&amp;dst_grd_crn_lat_id); <span class="pl-c">/* SCRIP: dst_grid_corner_lat */</span></td>
      </tr>
      <tr>
        <td id="L825" class="blob-num js-line-number" data-line-number="825"></td>
        <td id="LC825" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>frac_b<span class="pl-pds">&quot;</span></span>,&amp;frc_dst_id); <span class="pl-c">/* SCRIP: dst_grid_frac */</span></td>
      </tr>
      <tr>
        <td id="L826" class="blob-num js-line-number" data-line-number="826"></td>
        <td id="LC826" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>row<span class="pl-pds">&quot;</span></span>,&amp;row_dst_adr_id); <span class="pl-c">/* SCRIP: dst_address */</span></td>
      </tr>
      <tr>
        <td id="L827" class="blob-num js-line-number" data-line-number="827"></td>
        <td id="LC827" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>col<span class="pl-pds">&quot;</span></span>,&amp;col_src_adr_id); <span class="pl-c">/* SCRIP: src_address */</span></td>
      </tr>
      <tr>
        <td id="L828" class="blob-num js-line-number" data-line-number="828"></td>
        <td id="LC828" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>S<span class="pl-pds">&quot;</span></span>,&amp;wgt_raw_id); <span class="pl-c">/* NB: remap_matrix[num_links,num_wgts] != S[n_s] */</span></td>
      </tr>
      <tr>
        <td id="L829" class="blob-num js-line-number" data-line-number="829"></td>
        <td id="LC829" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L830" class="blob-num js-line-number" data-line-number="830"></td>
        <td id="LC830" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L831" class="blob-num js-line-number" data-line-number="831"></td>
        <td id="LC831" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unknown map file type<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L832" class="blob-num js-line-number" data-line-number="832"></td>
        <td id="LC832" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_dfl_case_generic_err</span>();</td>
      </tr>
      <tr>
        <td id="L833" class="blob-num js-line-number" data-line-number="833"></td>
        <td id="LC833" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NB: This return never executes because nco_dfl_case_generic_err() calls exit()</span></td>
      </tr>
      <tr>
        <td id="L834" class="blob-num js-line-number" data-line-number="834"></td>
        <td id="LC834" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Return placed here to suppress clang -Wsometimes-uninitialized warnings</span></td>
      </tr>
      <tr>
        <td id="L835" class="blob-num js-line-number" data-line-number="835"></td>
        <td id="LC835" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       This is done many other times throughout the code, though explained only once, here */</span></td>
      </tr>
      <tr>
        <td id="L836" class="blob-num js-line-number" data-line-number="836"></td>
        <td id="LC836" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> NCO_ERR;</td>
      </tr>
      <tr>
        <td id="L837" class="blob-num js-line-number" data-line-number="837"></td>
        <td id="LC837" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L838" class="blob-num js-line-number" data-line-number="838"></td>
        <td id="LC838" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L839" class="blob-num js-line-number" data-line-number="839"></td>
        <td id="LC839" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Obtain fields whose presence depends on mapfile type */</span></td>
      </tr>
      <tr>
        <td id="L840" class="blob-num js-line-number" data-line-number="840"></td>
        <td id="LC840" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_ESMF){</td>
      </tr>
      <tr>
        <td id="L841" class="blob-num js-line-number" data-line-number="841"></td>
        <td id="LC841" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>mask_b<span class="pl-pds">&quot;</span></span>,&amp;msk_dst_id); <span class="pl-c">/* SCRIP: dst_grid_imask */</span></td>
      </tr>
      <tr>
        <td id="L842" class="blob-num js-line-number" data-line-number="842"></td>
        <td id="LC842" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span> <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_SCRIP){</td>
      </tr>
      <tr>
        <td id="L843" class="blob-num js-line-number" data-line-number="843"></td>
        <td id="LC843" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_imask<span class="pl-pds">&quot;</span></span>,&amp;msk_dst_id); <span class="pl-c">/* ESMF: mask_b */</span></td>
      </tr>
      <tr>
        <td id="L844" class="blob-num js-line-number" data-line-number="844"></td>
        <td id="LC844" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{ <span class="pl-c">/* !SCRIP */</span></td>
      </tr>
      <tr>
        <td id="L845" class="blob-num js-line-number" data-line-number="845"></td>
        <td id="LC845" class="blob-code blob-code-inner js-file-line">    msk_dst_id=NC_MIN_INT;</td>
      </tr>
      <tr>
        <td id="L846" class="blob-num js-line-number" data-line-number="846"></td>
        <td id="LC846" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !Tempest */</span></td>
      </tr>
      <tr>
        <td id="L847" class="blob-num js-line-number" data-line-number="847"></td>
        <td id="LC847" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Obtain fields whose names are independent of mapfile type */</span></td>
      </tr>
      <tr>
        <td id="L848" class="blob-num js-line-number" data-line-number="848"></td>
        <td id="LC848" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>src_grid_dims<span class="pl-pds">&quot;</span></span>,&amp;dmn_sz_in_int_id);</td>
      </tr>
      <tr>
        <td id="L849" class="blob-num js-line-number" data-line-number="849"></td>
        <td id="LC849" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_varid</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>dst_grid_dims<span class="pl-pds">&quot;</span></span>,&amp;dmn_sz_out_int_id);</td>
      </tr>
      <tr>
        <td id="L850" class="blob-num js-line-number" data-line-number="850"></td>
        <td id="LC850" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L851" class="blob-num js-line-number" data-line-number="851"></td>
        <td id="LC851" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_psn_src; <span class="pl-c">/* [idx] Ordinal position of longitude size in rectangular source grid */</span></td>
      </tr>
      <tr>
        <td id="L852" class="blob-num js-line-number" data-line-number="852"></td>
        <td id="LC852" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_psn_src; <span class="pl-c">/* [idx] Ordinal position of latitude  size in rectangular source grid */</span></td>
      </tr>
      <tr>
        <td id="L853" class="blob-num js-line-number" data-line-number="853"></td>
        <td id="LC853" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_psn_dst=int_CEWI; <span class="pl-c">/* [idx] Ordinal position of longitude size in rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L854" class="blob-num js-line-number" data-line-number="854"></td>
        <td id="LC854" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_psn_dst=int_CEWI; <span class="pl-c">/* [idx] Ordinal position of latitude  size in rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L855" class="blob-num js-line-number" data-line-number="855"></td>
        <td id="LC855" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_in_2D){</td>
      </tr>
      <tr>
        <td id="L856" class="blob-num js-line-number" data-line-number="856"></td>
        <td id="LC856" class="blob-code blob-code-inner js-file-line">    lon_psn_src=<span class="pl-c1">0</span>; <span class="pl-c">/* SCRIP introduced [lon,lat] convention because more natural for Fortran */</span></td>
      </tr>
      <tr>
        <td id="L857" class="blob-num js-line-number" data-line-number="857"></td>
        <td id="LC857" class="blob-code blob-code-inner js-file-line">    lat_psn_src=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L858" class="blob-num js-line-number" data-line-number="858"></td>
        <td id="LC858" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_Tempest){</td>
      </tr>
      <tr>
        <td id="L859" class="blob-num js-line-number" data-line-number="859"></td>
        <td id="LC859" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Until 20150814, Tempest stored [src/dst]_grid_dims as [lat,lon] unlike SCRIP&#39;s [lon,lat] order</span></td>
      </tr>
      <tr>
        <td id="L860" class="blob-num js-line-number" data-line-number="860"></td>
        <td id="LC860" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Newer behavior follows SCRIP [lon,lat] order</span></td>
      </tr>
      <tr>
        <td id="L861" class="blob-num js-line-number" data-line-number="861"></td>
        <td id="LC861" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Challenge: Support both older and newer Tempest mapfiles</span></td>
      </tr>
      <tr>
        <td id="L862" class="blob-num js-line-number" data-line-number="862"></td>
        <td id="LC862" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Tempest (unlike SCRIP and ESMF) annotates mapfile [src/dst]_grid_dims with attributes that identify axis to which each element of [src/dst]_grid_dims refers</span></td>
      </tr>
      <tr>
        <td id="L863" class="blob-num js-line-number" data-line-number="863"></td>
        <td id="LC863" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Solution: Use Tempest mapfile [src/dst]_grid_dims attributes &quot;name0&quot; and/or &quot;name1&quot; to determine if axes&#39; positions follow old order */</span></td>
      </tr>
      <tr>
        <td id="L864" class="blob-num js-line-number" data-line-number="864"></td>
        <td id="LC864" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,dmn_sz_in_int_id,name0_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L865" class="blob-num js-line-number" data-line-number="865"></td>
        <td id="LC865" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L866" class="blob-num js-line-number" data-line-number="866"></td>
        <td id="LC866" class="blob-code blob-code-inner js-file-line">	att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((att_sz+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(att_typ));</td>
      </tr>
      <tr>
        <td id="L867" class="blob-num js-line-number" data-line-number="867"></td>
        <td id="LC867" class="blob-code blob-code-inner js-file-line">	rcd+=<span class="pl-c1">nco_get_att</span>(in_id,dmn_sz_in_int_id,name0_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L868" class="blob-num js-line-number" data-line-number="868"></td>
        <td id="LC868" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L869" class="blob-num js-line-number" data-line-number="869"></td>
        <td id="LC869" class="blob-code blob-code-inner js-file-line">	att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L870" class="blob-num js-line-number" data-line-number="870"></td>
        <td id="LC870" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L871" class="blob-num js-line-number" data-line-number="871"></td>
        <td id="LC871" class="blob-code blob-code-inner js-file-line">	  lon_psn_src=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L872" class="blob-num js-line-number" data-line-number="872"></td>
        <td id="LC872" class="blob-code blob-code-inner js-file-line">	  lat_psn_src=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L873" class="blob-num js-line-number" data-line-number="873"></td>
        <td id="LC873" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L874" class="blob-num js-line-number" data-line-number="874"></td>
        <td id="LC874" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L875" class="blob-num js-line-number" data-line-number="875"></td>
        <td id="LC875" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end rcd &amp;&amp; att_typ */</span></td>
      </tr>
      <tr>
        <td id="L876" class="blob-num js-line-number" data-line-number="876"></td>
        <td id="LC876" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !Tempest */</span></td>
      </tr>
      <tr>
        <td id="L877" class="blob-num js-line-number" data-line-number="877"></td>
        <td id="LC877" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_in_2D */</span></td>
      </tr>
      <tr>
        <td id="L878" class="blob-num js-line-number" data-line-number="878"></td>
        <td id="LC878" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L879" class="blob-num js-line-number" data-line-number="879"></td>
        <td id="LC879" class="blob-code blob-code-inner js-file-line">    lon_psn_dst=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L880" class="blob-num js-line-number" data-line-number="880"></td>
        <td id="LC880" class="blob-code blob-code-inner js-file-line">    lat_psn_dst=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L881" class="blob-num js-line-number" data-line-number="881"></td>
        <td id="LC881" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_Tempest){</td>
      </tr>
      <tr>
        <td id="L882" class="blob-num js-line-number" data-line-number="882"></td>
        <td id="LC882" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,dmn_sz_in_int_id,name0_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L883" class="blob-num js-line-number" data-line-number="883"></td>
        <td id="LC883" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L884" class="blob-num js-line-number" data-line-number="884"></td>
        <td id="LC884" class="blob-code blob-code-inner js-file-line">	att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((att_sz+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(att_typ));</td>
      </tr>
      <tr>
        <td id="L885" class="blob-num js-line-number" data-line-number="885"></td>
        <td id="LC885" class="blob-code blob-code-inner js-file-line">	rcd+=<span class="pl-c1">nco_get_att</span>(in_id,dmn_sz_in_int_id,name0_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L886" class="blob-num js-line-number" data-line-number="886"></td>
        <td id="LC886" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L887" class="blob-num js-line-number" data-line-number="887"></td>
        <td id="LC887" class="blob-code blob-code-inner js-file-line">	att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L888" class="blob-num js-line-number" data-line-number="888"></td>
        <td id="LC888" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L889" class="blob-num js-line-number" data-line-number="889"></td>
        <td id="LC889" class="blob-code blob-code-inner js-file-line">	  lon_psn_dst=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L890" class="blob-num js-line-number" data-line-number="890"></td>
        <td id="LC890" class="blob-code blob-code-inner js-file-line">	  lat_psn_dst=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L891" class="blob-num js-line-number" data-line-number="891"></td>
        <td id="LC891" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L892" class="blob-num js-line-number" data-line-number="892"></td>
        <td id="LC892" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L893" class="blob-num js-line-number" data-line-number="893"></td>
        <td id="LC893" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end rcd &amp;&amp; att_typ */</span></td>
      </tr>
      <tr>
        <td id="L894" class="blob-num js-line-number" data-line-number="894"></td>
        <td id="LC894" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !Tempest */</span></td>
      </tr>
      <tr>
        <td id="L895" class="blob-num js-line-number" data-line-number="895"></td>
        <td id="LC895" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_2D */</span></td>
      </tr>
      <tr>
        <td id="L896" class="blob-num js-line-number" data-line-number="896"></td>
        <td id="LC896" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_1D=<span class="pl-c1">1</span>; <span class="pl-c">/* [nbr] Rank of 1-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L897" class="blob-num js-line-number" data-line-number="897"></td>
        <td id="LC897" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_2D=<span class="pl-c1">2</span>; <span class="pl-c">/* [nbr] Rank of 2-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L898" class="blob-num js-line-number" data-line-number="898"></td>
        <td id="LC898" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_3D=<span class="pl-c1">3</span>; <span class="pl-c">/* [nbr] Rank of 3-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L899" class="blob-num js-line-number" data-line-number="899"></td>
        <td id="LC899" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_grd_max=dmn_nbr_3D; <span class="pl-c">/* [nbr] Maximum rank of grid variables */</span></td>
      </tr>
      <tr>
        <td id="L900" class="blob-num js-line-number" data-line-number="900"></td>
        <td id="LC900" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *area_out; <span class="pl-c">/* [sr] Area of destination grid */</span></td>
      </tr>
      <tr>
        <td id="L901" class="blob-num js-line-number" data-line-number="901"></td>
        <td id="LC901" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *frc_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [frc] Fraction of destination grid */</span></td>
      </tr>
      <tr>
        <td id="L902" class="blob-num js-line-number" data-line-number="902"></td>
        <td id="LC902" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd_out=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L903" class="blob-num js-line-number" data-line-number="903"></td>
        <td id="LC903" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_crn_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  corners of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L904" class="blob-num js-line-number" data-line-number="904"></td>
        <td id="LC904" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ctr_out=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  centers of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L905" class="blob-num js-line-number" data-line-number="905"></td>
        <td id="LC905" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ntf_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  interfaces of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L906" class="blob-num js-line-number" data-line-number="906"></td>
        <td id="LC906" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_wgt_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  weights of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L907" class="blob-num js-line-number" data-line-number="907"></td>
        <td id="LC907" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd_out=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L908" class="blob-num js-line-number" data-line-number="908"></td>
        <td id="LC908" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_crn_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude corners of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L909" class="blob-num js-line-number" data-line-number="909"></td>
        <td id="LC909" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ctr_out=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude centers of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L910" class="blob-num js-line-number" data-line-number="910"></td>
        <td id="LC910" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ntf_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude interfaces of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L911" class="blob-num js-line-number" data-line-number="911"></td>
        <td id="LC911" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *wgt_raw; <span class="pl-c">/* [frc] Remapping weights */</span></td>
      </tr>
      <tr>
        <td id="L912" class="blob-num js-line-number" data-line-number="912"></td>
        <td id="LC912" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *col_src_adr; <span class="pl-c">/* [idx] Source address (col) */</span></td>
      </tr>
      <tr>
        <td id="L913" class="blob-num js-line-number" data-line-number="913"></td>
        <td id="LC913" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *row_dst_adr; <span class="pl-c">/* [idx] Destination address (row) */</span></td>
      </tr>
      <tr>
        <td id="L914" class="blob-num js-line-number" data-line-number="914"></td>
        <td id="LC914" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *msk_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [flg] Mask of destination grid */</span></td>
      </tr>
      <tr>
        <td id="L915" class="blob-num js-line-number" data-line-number="915"></td>
        <td id="LC915" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_sz_in_int; <span class="pl-c">/* [nbr] Array of dimension sizes of source grid */</span></td>
      </tr>
      <tr>
        <td id="L916" class="blob-num js-line-number" data-line-number="916"></td>
        <td id="LC916" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_sz_out_int; <span class="pl-c">/* [nbr] Array of dimension sizes of destination grid */</span></td>
      </tr>
      <tr>
        <td id="L917" class="blob-num js-line-number" data-line-number="917"></td>
        <td id="LC917" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> *dmn_cnt_in=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L918" class="blob-num js-line-number" data-line-number="918"></td>
        <td id="LC918" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> *dmn_cnt_out=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L919" class="blob-num js-line-number" data-line-number="919"></td>
        <td id="LC919" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> *dmn_cnt=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L920" class="blob-num js-line-number" data-line-number="920"></td>
        <td id="LC920" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> *dmn_srt=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L921" class="blob-num js-line-number" data-line-number="921"></td>
        <td id="LC921" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> *dmn_srd=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L922" class="blob-num js-line-number" data-line-number="922"></td>
        <td id="LC922" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L923" class="blob-num js-line-number" data-line-number="923"></td>
        <td id="LC923" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L924" class="blob-num js-line-number" data-line-number="924"></td>
        <td id="LC924" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space to hold dimension metadata for rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L925" class="blob-num js-line-number" data-line-number="925"></td>
        <td id="LC925" class="blob-code blob-code-inner js-file-line">  dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_grd_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L926" class="blob-num js-line-number" data-line-number="926"></td>
        <td id="LC926" class="blob-code blob-code-inner js-file-line">  dmn_cnt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_grd_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L927" class="blob-num js-line-number" data-line-number="927"></td>
        <td id="LC927" class="blob-code blob-code-inner js-file-line">  dmn_srd=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_grd_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L928" class="blob-num js-line-number" data-line-number="928"></td>
        <td id="LC928" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L929" class="blob-num js-line-number" data-line-number="929"></td>
        <td id="LC929" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L930" class="blob-num js-line-number" data-line-number="930"></td>
        <td id="LC930" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">src_grid_rank</span>;</td>
      </tr>
      <tr>
        <td id="L931" class="blob-num js-line-number" data-line-number="931"></td>
        <td id="LC931" class="blob-code blob-code-inner js-file-line">  dmn_sz_in_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">src_grid_rank</span>*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L932" class="blob-num js-line-number" data-line-number="932"></td>
        <td id="LC932" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dmn_sz_in_int_id,dmn_srt,dmn_cnt,dmn_sz_in_int,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L933" class="blob-num js-line-number" data-line-number="933"></td>
        <td id="LC933" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L934" class="blob-num js-line-number" data-line-number="934"></td>
        <td id="LC934" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">dst_grid_rank</span>;</td>
      </tr>
      <tr>
        <td id="L935" class="blob-num js-line-number" data-line-number="935"></td>
        <td id="LC935" class="blob-code blob-code-inner js-file-line">  dmn_sz_out_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">dst_grid_rank</span>*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L936" class="blob-num js-line-number" data-line-number="936"></td>
        <td id="LC936" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dmn_sz_out_int_id,dmn_srt,dmn_cnt,dmn_sz_out_int,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L937" class="blob-num js-line-number" data-line-number="937"></td>
        <td id="LC937" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L938" class="blob-num js-line-number" data-line-number="938"></td>
        <td id="LC938" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Check-for and workaround faulty Tempest and MPAS-O grid sizes */</span></td>
      </tr>
      <tr>
        <td id="L939" class="blob-num js-line-number" data-line-number="939"></td>
        <td id="LC939" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_in_1D &amp;&amp; (rgr_map.<span class="pl-smi">src_grid_size</span> != dmn_sz_in_int[<span class="pl-c1">0</span>])){</td>
      </tr>
      <tr>
        <td id="L940" class="blob-num js-line-number" data-line-number="940"></td>
        <td id="LC940" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports input grid dimension sizes disagree rgr_map.src_grid_size = <span class="pl-c1">%ld</span> != <span class="pl-c1">%d</span> = dmn_sz_in[0]. Problem may be caused by incorrect src_grid_dims variable. This is a known issue with some Tempest mapfiles generated prior to ~20150901, and in some ESMF mapfiles for MPAS-O. Attempting workaround ...<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,rgr_map.<span class="pl-smi">src_grid_size</span>,dmn_sz_in_int[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L941" class="blob-num js-line-number" data-line-number="941"></td>
        <td id="LC941" class="blob-code blob-code-inner js-file-line">      dmn_sz_in_int[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">src_grid_size</span>;</td>
      </tr>
      <tr>
        <td id="L942" class="blob-num js-line-number" data-line-number="942"></td>
        <td id="LC942" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !bug */</span></td>
      </tr>
      <tr>
        <td id="L943" class="blob-num js-line-number" data-line-number="943"></td>
        <td id="LC943" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D &amp;&amp; (rgr_map.<span class="pl-smi">dst_grid_size</span> != dmn_sz_out_int[<span class="pl-c1">0</span>])){</td>
      </tr>
      <tr>
        <td id="L944" class="blob-num js-line-number" data-line-number="944"></td>
        <td id="LC944" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports output grid dimension sizes disagree rgr_map.dst_grid_size = <span class="pl-c1">%ld</span> != <span class="pl-c1">%d</span> = dmn_sz_out[0]. Problem may be caused by incorrect dst_grid_dims variable. This is a known issue with some Tempest mapfiles generated prior to ~20150901, and in some ESMF mapfiles for MPAS-O. Attempting workaround ...<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,rgr_map.<span class="pl-smi">dst_grid_size</span>,dmn_sz_out_int[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L945" class="blob-num js-line-number" data-line-number="945"></td>
        <td id="LC945" class="blob-code blob-code-inner js-file-line">    dmn_sz_out_int[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">dst_grid_size</span>;</td>
      </tr>
      <tr>
        <td id="L946" class="blob-num js-line-number" data-line-number="946"></td>
        <td id="LC946" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !bug */</span></td>
      </tr>
      <tr>
        <td id="L947" class="blob-num js-line-number" data-line-number="947"></td>
        <td id="LC947" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="L948" class="blob-num js-line-number" data-line-number="948"></td>
        <td id="LC948" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> col_nbr_in; <span class="pl-c">/* [idx] Number of columns in source grid */</span></td>
      </tr>
      <tr>
        <td id="L949" class="blob-num js-line-number" data-line-number="949"></td>
        <td id="LC949" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_nbr_in; <span class="pl-c">/* [idx] Number of longitudes in rectangular source grid */</span></td>
      </tr>
      <tr>
        <td id="L950" class="blob-num js-line-number" data-line-number="950"></td>
        <td id="LC950" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_nbr_in; <span class="pl-c">/* [idx] Number of latitudes  in rectangular source grid */</span></td>
      </tr>
      <tr>
        <td id="L951" class="blob-num js-line-number" data-line-number="951"></td>
        <td id="LC951" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-c1">size_t</span> grd_sz_in=rgr_map.<span class="pl-smi">src_grid_size</span>; <span class="pl-c">/* [nbr] Number of elements in single layer of input grid */</span></td>
      </tr>
      <tr>
        <td id="L952" class="blob-num js-line-number" data-line-number="952"></td>
        <td id="LC952" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-c1">size_t</span> grd_sz_out=rgr_map.<span class="pl-smi">dst_grid_size</span>; <span class="pl-c">/* [nbr] Number of elements in single layer of output grid */</span></td>
      </tr>
      <tr>
        <td id="L953" class="blob-num js-line-number" data-line-number="953"></td>
        <td id="LC953" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_in_1D){</td>
      </tr>
      <tr>
        <td id="L954" class="blob-num js-line-number" data-line-number="954"></td>
        <td id="LC954" class="blob-code blob-code-inner js-file-line">    col_nbr_in=dmn_sz_in_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L955" class="blob-num js-line-number" data-line-number="955"></td>
        <td id="LC955" class="blob-code blob-code-inner js-file-line">    lon_nbr_in=dmn_sz_in_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L956" class="blob-num js-line-number" data-line-number="956"></td>
        <td id="LC956" class="blob-code blob-code-inner js-file-line">    lat_nbr_in=dmn_sz_in_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L957" class="blob-num js-line-number" data-line-number="957"></td>
        <td id="LC957" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_in_2D){</td>
      </tr>
      <tr>
        <td id="L958" class="blob-num js-line-number" data-line-number="958"></td>
        <td id="LC958" class="blob-code blob-code-inner js-file-line">    col_nbr_in=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L959" class="blob-num js-line-number" data-line-number="959"></td>
        <td id="LC959" class="blob-code blob-code-inner js-file-line">    lon_nbr_in=dmn_sz_in_int[lon_psn_src];</td>
      </tr>
      <tr>
        <td id="L960" class="blob-num js-line-number" data-line-number="960"></td>
        <td id="LC960" class="blob-code blob-code-inner js-file-line">    lat_nbr_in=dmn_sz_in_int[lat_psn_src];</td>
      </tr>
      <tr>
        <td id="L961" class="blob-num js-line-number" data-line-number="961"></td>
        <td id="LC961" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Sanity-check */</span></td>
      </tr>
      <tr>
        <td id="L962" class="blob-num js-line-number" data-line-number="962"></td>
        <td id="LC962" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(lat_nbr_in*lon_nbr_in == (<span class="pl-k">long</span>)grd_sz_in);</td>
      </tr>
      <tr>
        <td id="L963" class="blob-num js-line-number" data-line-number="963"></td>
        <td id="LC963" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !src_grid_rank */</span></td>
      </tr>
      <tr>
        <td id="L964" class="blob-num js-line-number" data-line-number="964"></td>
        <td id="LC964" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L965" class="blob-num js-line-number" data-line-number="965"></td>
        <td id="LC965" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> bnd_tm_nbr_out=<span class="pl-c1">2</span>; <span class="pl-c">/* [nbr] Number of boundaries for output time */</span></td>
      </tr>
      <tr>
        <td id="L966" class="blob-num js-line-number" data-line-number="966"></td>
        <td id="LC966" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> bnd_nbr_out=int_CEWI; <span class="pl-c">/* [nbr] Number of boundaries for output time and rectangular grid coordinates, and number of vertices for output non-rectangular grid coordinates */</span></td>
      </tr>
      <tr>
        <td id="L967" class="blob-num js-line-number" data-line-number="967"></td>
        <td id="LC967" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> col_nbr_out=long_CEWI; <span class="pl-c">/* [nbr] Number of columns in destination grid */</span></td>
      </tr>
      <tr>
        <td id="L968" class="blob-num js-line-number" data-line-number="968"></td>
        <td id="LC968" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_nbr_out=long_CEWI; <span class="pl-c">/* [nbr] Number of longitudes in rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L969" class="blob-num js-line-number" data-line-number="969"></td>
        <td id="LC969" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_nbr_out=long_CEWI; <span class="pl-c">/* [nbr] Number of latitudes  in rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L970" class="blob-num js-line-number" data-line-number="970"></td>
        <td id="LC970" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L971" class="blob-num js-line-number" data-line-number="971"></td>
        <td id="LC971" class="blob-code blob-code-inner js-file-line">    bnd_nbr_out=rgr_map.<span class="pl-smi">dst_grid_corners</span>;</td>
      </tr>
      <tr>
        <td id="L972" class="blob-num js-line-number" data-line-number="972"></td>
        <td id="LC972" class="blob-code blob-code-inner js-file-line">    col_nbr_out=dmn_sz_out_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L973" class="blob-num js-line-number" data-line-number="973"></td>
        <td id="LC973" class="blob-code blob-code-inner js-file-line">    lat_nbr_out=dmn_sz_out_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L974" class="blob-num js-line-number" data-line-number="974"></td>
        <td id="LC974" class="blob-code blob-code-inner js-file-line">    lon_nbr_out=dmn_sz_out_int[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L975" class="blob-num js-line-number" data-line-number="975"></td>
        <td id="LC975" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Sanity-check */</span></td>
      </tr>
      <tr>
        <td id="L976" class="blob-num js-line-number" data-line-number="976"></td>
        <td id="LC976" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(col_nbr_out == (<span class="pl-k">long</span>)grd_sz_out);</td>
      </tr>
      <tr>
        <td id="L977" class="blob-num js-line-number" data-line-number="977"></td>
        <td id="LC977" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L978" class="blob-num js-line-number" data-line-number="978"></td>
        <td id="LC978" class="blob-code blob-code-inner js-file-line">    col_nbr_out=lat_nbr_out*lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L979" class="blob-num js-line-number" data-line-number="979"></td>
        <td id="LC979" class="blob-code blob-code-inner js-file-line">    lat_nbr_out=dmn_sz_out_int[lat_psn_dst];</td>
      </tr>
      <tr>
        <td id="L980" class="blob-num js-line-number" data-line-number="980"></td>
        <td id="LC980" class="blob-code blob-code-inner js-file-line">    lon_nbr_out=dmn_sz_out_int[lon_psn_dst];</td>
      </tr>
      <tr>
        <td id="L981" class="blob-num js-line-number" data-line-number="981"></td>
        <td id="LC981" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Sanity-check */</span></td>
      </tr>
      <tr>
        <td id="L982" class="blob-num js-line-number" data-line-number="982"></td>
        <td id="LC982" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(lat_nbr_out*lon_nbr_out == (<span class="pl-k">long</span>)grd_sz_out);</td>
      </tr>
      <tr>
        <td id="L983" class="blob-num js-line-number" data-line-number="983"></td>
        <td id="LC983" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !dst_grid_rank */</span></td>
      </tr>
      <tr>
        <td id="L984" class="blob-num js-line-number" data-line-number="984"></td>
        <td id="LC984" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L985" class="blob-num js-line-number" data-line-number="985"></td>
        <td id="LC985" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Ensure coordinates are in degrees not radians for simplicity and CF-compliance</span></td>
      </tr>
      <tr>
        <td id="L986" class="blob-num js-line-number" data-line-number="986"></td>
        <td id="LC986" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NB: ${DATA}/scrip/rmp_T42_to_POP43_conserv.nc has [xy]?_a in degrees and [xy]?_b in radians! */</span></td>
      </tr>
      <tr>
        <td id="L987" class="blob-num js-line-number" data-line-number="987"></td>
        <td id="LC987" class="blob-code blob-code-inner js-file-line">  nco_bool flg_crd_rdn=False; <span class="pl-c">/* [flg] Destination coordinates are in radians not degrees */</span></td>
      </tr>
      <tr>
        <td id="L988" class="blob-num js-line-number" data-line-number="988"></td>
        <td id="LC988" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> unt_sng[]=<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L989" class="blob-num js-line-number" data-line-number="989"></td>
        <td id="LC989" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_att_flg</span>(in_id,dst_grd_ctr_lat_id,unt_sng,&amp;att_typ,&amp;att_sz);</td>
      </tr>
      <tr>
        <td id="L990" class="blob-num js-line-number" data-line-number="990"></td>
        <td id="LC990" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd == NC_NOERR &amp;&amp; att_typ == NC_CHAR){</td>
      </tr>
      <tr>
        <td id="L991" class="blob-num js-line-number" data-line-number="991"></td>
        <td id="LC991" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((att_sz+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(att_typ));</td>
      </tr>
      <tr>
        <td id="L992" class="blob-num js-line-number" data-line-number="992"></td>
        <td id="LC992" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_get_att</span>(in_id,dst_grd_ctr_lat_id,unt_sng,att_val,att_typ);</td>
      </tr>
      <tr>
        <td id="L993" class="blob-num js-line-number" data-line-number="993"></td>
        <td id="LC993" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NUL-terminate attribute before using strstr() */</span></td>
      </tr>
      <tr>
        <td id="L994" class="blob-num js-line-number" data-line-number="994"></td>
        <td id="LC994" class="blob-code blob-code-inner js-file-line">    att_val[att_sz]=<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</td>
      </tr>
      <tr>
        <td id="L995" class="blob-num js-line-number" data-line-number="995"></td>
        <td id="LC995" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Match &quot;radian&quot; and &quot;radians&quot; */</span></td>
      </tr>
      <tr>
        <td id="L996" class="blob-num js-line-number" data-line-number="996"></td>
        <td id="LC996" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span>radian<span class="pl-pds">&quot;</span></span>)) flg_crd_rdn=True;</td>
      </tr>
      <tr>
        <td id="L997" class="blob-num js-line-number" data-line-number="997"></td>
        <td id="LC997" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L998" class="blob-num js-line-number" data-line-number="998"></td>
        <td id="LC998" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end rcd &amp;&amp; att_typ */</span></td>
      </tr>
      <tr>
        <td id="L999" class="blob-num js-line-number" data-line-number="999"></td>
        <td id="LC999" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1000" class="blob-num js-line-number" data-line-number="1000"></td>
        <td id="LC1000" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_out_crv=False; <span class="pl-c">/* [flg] Curvilinear coordinates */</span></td>
      </tr>
      <tr>
        <td id="L1001" class="blob-num js-line-number" data-line-number="1001"></td>
        <td id="LC1001" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_out_rct=False; <span class="pl-c">/* [flg] Rectangular coordinates */</span></td>
      </tr>
      <tr>
        <td id="L1002" class="blob-num js-line-number" data-line-number="1002"></td>
        <td id="LC1002" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> nc_type crd_typ_out=NC_DOUBLE;</td>
      </tr>
      <tr>
        <td id="L1003" class="blob-num js-line-number" data-line-number="1003"></td>
        <td id="LC1003" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L1004" class="blob-num js-line-number" data-line-number="1004"></td>
        <td id="LC1004" class="blob-code blob-code-inner js-file-line">    lon_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1005" class="blob-num js-line-number" data-line-number="1005"></td>
        <td id="LC1005" class="blob-code blob-code-inner js-file-line">    lat_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1006" class="blob-num js-line-number" data-line-number="1006"></td>
        <td id="LC1006" class="blob-code blob-code-inner js-file-line">    lon_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">dst_grid_corners</span>*grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1007" class="blob-num js-line-number" data-line-number="1007"></td>
        <td id="LC1007" class="blob-code blob-code-inner js-file-line">    lat_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">dst_grid_corners</span>*grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1008" class="blob-num js-line-number" data-line-number="1008"></td>
        <td id="LC1008" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1009" class="blob-num js-line-number" data-line-number="1009"></td>
        <td id="LC1009" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1010" class="blob-num js-line-number" data-line-number="1010"></td>
        <td id="LC1010" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L1011" class="blob-num js-line-number" data-line-number="1011"></td>
        <td id="LC1011" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_ctr_lon_id,dmn_srt,dmn_cnt,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1012" class="blob-num js-line-number" data-line-number="1012"></td>
        <td id="LC1012" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_ctr_lat_id,dmn_srt,dmn_cnt,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1013" class="blob-num js-line-number" data-line-number="1013"></td>
        <td id="LC1013" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1014" class="blob-num js-line-number" data-line-number="1014"></td>
        <td id="LC1014" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L1015" class="blob-num js-line-number" data-line-number="1015"></td>
        <td id="LC1015" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=rgr_map.<span class="pl-smi">dst_grid_corners</span>;</td>
      </tr>
      <tr>
        <td id="L1016" class="blob-num js-line-number" data-line-number="1016"></td>
        <td id="LC1016" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_crn_lon_id,dmn_srt,dmn_cnt,lon_crn_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1017" class="blob-num js-line-number" data-line-number="1017"></td>
        <td id="LC1017" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_crn_lat_id,dmn_srt,dmn_cnt,lat_crn_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1018" class="blob-num js-line-number" data-line-number="1018"></td>
        <td id="LC1018" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1019" class="blob-num js-line-number" data-line-number="1019"></td>
        <td id="LC1019" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* User may specify curvilinear grid (with --rgr crv=&#39;y&#39;). If not specified, manually test output grid for curvilinearity... */</span></td>
      </tr>
      <tr>
        <td id="L1020" class="blob-num js-line-number" data-line-number="1020"></td>
        <td id="LC1020" class="blob-code blob-code-inner js-file-line">    flg_grd_out_crv=rgr-&gt;flg_crv; <span class="pl-c">/* [flg] Curvilinear coordinates */</span></td>
      </tr>
      <tr>
        <td id="L1021" class="blob-num js-line-number" data-line-number="1021"></td>
        <td id="LC1021" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L1022" class="blob-num js-line-number" data-line-number="1022"></td>
        <td id="LC1022" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO Output grid specified to be <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),flg_grd_out_crv ? <span class="pl-s"><span class="pl-pds">&quot;</span>Curvilinear<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>Rectangular<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1023" class="blob-num js-line-number" data-line-number="1023"></td>
        <td id="LC1023" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1024" class="blob-num js-line-number" data-line-number="1024"></td>
        <td id="LC1024" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">long</span> idx_tst=long_CEWI; <span class="pl-c">/* [idx] Index of first latitude or longitude */</span></td>
      </tr>
      <tr>
        <td id="L1025" class="blob-num js-line-number" data-line-number="1025"></td>
        <td id="LC1025" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1026" class="blob-num js-line-number" data-line-number="1026"></td>
        <td id="LC1026" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(idx%lon_nbr_out == <span class="pl-c1">0</span>) idx_tst=idx;</td>
      </tr>
      <tr>
        <td id="L1027" class="blob-num js-line-number" data-line-number="1027"></td>
        <td id="LC1027" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(lat_ctr_out[idx] != lat_ctr_out[idx_tst]) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1028" class="blob-num js-line-number" data-line-number="1028"></td>
        <td id="LC1028" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">// (void)fprintf(stdout,&quot;%s: DEBUG lat_ctr_out[%li] = %g, lat_ctr_out[%li] = %g\n&quot;,nco_prg_nm_get(),idx,lat_ctr_out[idx],idx_tst,lat_ctr_out[idx_tst]);</span></td>
      </tr>
      <tr>
        <td id="L1029" class="blob-num js-line-number" data-line-number="1029"></td>
        <td id="LC1029" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* fxm: also test lon */</span></td>
      </tr>
      <tr>
        <td id="L1030" class="blob-num js-line-number" data-line-number="1030"></td>
        <td id="LC1030" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !rectangular */</span></td>
      </tr>
      <tr>
        <td id="L1031" class="blob-num js-line-number" data-line-number="1031"></td>
        <td id="LC1031" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(idx != (<span class="pl-k">long</span>)grd_sz_out) flg_grd_out_crv=True; <span class="pl-k">else</span> flg_grd_out_rct=True;</td>
      </tr>
      <tr>
        <td id="L1032" class="blob-num js-line-number" data-line-number="1032"></td>
        <td id="LC1032" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO Output grid detected to be <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),flg_grd_out_crv ? <span class="pl-s"><span class="pl-pds">&quot;</span>Curvilinear<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>Rectangular<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1033" class="blob-num js-line-number" data-line-number="1033"></td>
        <td id="LC1033" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L1034" class="blob-num js-line-number" data-line-number="1034"></td>
        <td id="LC1034" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1035" class="blob-num js-line-number" data-line-number="1035"></td>
        <td id="LC1035" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_crv) bnd_nbr_out=rgr_map.<span class="pl-smi">dst_grid_corners</span>;</td>
      </tr>
      <tr>
        <td id="L1036" class="blob-num js-line-number" data-line-number="1036"></td>
        <td id="LC1036" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_rct) bnd_nbr_out=<span class="pl-c1">2</span>; <span class="pl-c">/* NB: Assumes rectangular latitude and longitude and is invalid for other quadrilaterals */</span></td>
      </tr>
      <tr>
        <td id="L1037" class="blob-num js-line-number" data-line-number="1037"></td>
        <td id="LC1037" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_2D */</span></td>
      </tr>
      <tr>
        <td id="L1038" class="blob-num js-line-number" data-line-number="1038"></td>
        <td id="LC1038" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1039" class="blob-num js-line-number" data-line-number="1039"></td>
        <td id="LC1039" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_scl){</td>
      </tr>
      <tr>
        <td id="L1040" class="blob-num js-line-number" data-line-number="1040"></td>
        <td id="LC1040" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> grid conversion type = <span class="pl-c1">%s</span> with expected input and prescribed output grid sizes: <span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_rgr_grd_sng</span>(nco_rgr_typ));</td>
      </tr>
      <tr>
        <td id="L1041" class="blob-num js-line-number" data-line-number="1041"></td>
        <td id="LC1041" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_in = <span class="pl-c1">%li</span>, lon_in = <span class="pl-c1">%li</span>, col_in = <span class="pl-c1">%li</span>, lat_out = <span class="pl-c1">%li</span>, lon_out = <span class="pl-c1">%li</span>, col_out = <span class="pl-c1">%li</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_nbr_in,lon_nbr_in,col_nbr_in,lat_nbr_out,lon_nbr_out,col_nbr_out);</td>
      </tr>
      <tr>
        <td id="L1042" class="blob-num js-line-number" data-line-number="1042"></td>
        <td id="LC1042" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L1043" class="blob-num js-line-number" data-line-number="1043"></td>
        <td id="LC1043" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1044" class="blob-num js-line-number" data-line-number="1044"></td>
        <td id="LC1044" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space for and obtain coordinates */</span></td>
      </tr>
      <tr>
        <td id="L1045" class="blob-num js-line-number" data-line-number="1045"></td>
        <td id="LC1045" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1046" class="blob-num js-line-number" data-line-number="1046"></td>
        <td id="LC1046" class="blob-code blob-code-inner js-file-line">    lon_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1047" class="blob-num js-line-number" data-line-number="1047"></td>
        <td id="LC1047" class="blob-code blob-code-inner js-file-line">    lat_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1048" class="blob-num js-line-number" data-line-number="1048"></td>
        <td id="LC1048" class="blob-code blob-code-inner js-file-line">    lon_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr_out*bnd_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1049" class="blob-num js-line-number" data-line-number="1049"></td>
        <td id="LC1049" class="blob-code blob-code-inner js-file-line">    lat_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr_out*bnd_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1050" class="blob-num js-line-number" data-line-number="1050"></td>
        <td id="LC1050" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1051" class="blob-num js-line-number" data-line-number="1051"></td>
        <td id="LC1051" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1052" class="blob-num js-line-number" data-line-number="1052"></td>
        <td id="LC1052" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1053" class="blob-num js-line-number" data-line-number="1053"></td>
        <td id="LC1053" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_ctr_out) lat_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ctr_out);</td>
      </tr>
      <tr>
        <td id="L1054" class="blob-num js-line-number" data-line-number="1054"></td>
        <td id="LC1054" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_ctr_out) lon_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ctr_out);</td>
      </tr>
      <tr>
        <td id="L1055" class="blob-num js-line-number" data-line-number="1055"></td>
        <td id="LC1055" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_crn_out) lat_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_crn_out);</td>
      </tr>
      <tr>
        <td id="L1056" class="blob-num js-line-number" data-line-number="1056"></td>
        <td id="LC1056" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_crn_out) lon_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_crn_out);</td>
      </tr>
      <tr>
        <td id="L1057" class="blob-num js-line-number" data-line-number="1057"></td>
        <td id="LC1057" class="blob-code blob-code-inner js-file-line">    lon_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1058" class="blob-num js-line-number" data-line-number="1058"></td>
        <td id="LC1058" class="blob-code blob-code-inner js-file-line">    lat_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1059" class="blob-num js-line-number" data-line-number="1059"></td>
        <td id="LC1059" class="blob-code blob-code-inner js-file-line">    lon_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">dst_grid_corners</span>*lon_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1060" class="blob-num js-line-number" data-line-number="1060"></td>
        <td id="LC1060" class="blob-code blob-code-inner js-file-line">    lat_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(rgr_map.<span class="pl-smi">dst_grid_corners</span>*lat_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1061" class="blob-num js-line-number" data-line-number="1061"></td>
        <td id="LC1061" class="blob-code blob-code-inner js-file-line">    lat_wgt_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1062" class="blob-num js-line-number" data-line-number="1062"></td>
        <td id="LC1062" class="blob-code blob-code-inner js-file-line">    lon_ntf_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lon_nbr_out+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1063" class="blob-num js-line-number" data-line-number="1063"></td>
        <td id="LC1063" class="blob-code blob-code-inner js-file-line">    lat_ntf_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr_out+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1064" class="blob-num js-line-number" data-line-number="1064"></td>
        <td id="LC1064" class="blob-code blob-code-inner js-file-line">    lon_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr_out*bnd_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1065" class="blob-num js-line-number" data-line-number="1065"></td>
        <td id="LC1065" class="blob-code blob-code-inner js-file-line">    lat_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr_out*bnd_nbr_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1066" class="blob-num js-line-number" data-line-number="1066"></td>
        <td id="LC1066" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1067" class="blob-num js-line-number" data-line-number="1067"></td>
        <td id="LC1067" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1068" class="blob-num js-line-number" data-line-number="1068"></td>
        <td id="LC1068" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Arrays unroll into all longitudes for first latitude, then second latitude, ...</span></td>
      </tr>
      <tr>
        <td id="L1069" class="blob-num js-line-number" data-line-number="1069"></td>
        <td id="LC1069" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Obtain longitudes by reading first block contiguously (unstrided)</span></td>
      </tr>
      <tr>
        <td id="L1070" class="blob-num js-line-number" data-line-number="1070"></td>
        <td id="LC1070" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Obtain latitudes by reading unrolled data with stride of lon_nbr */</span></td>
      </tr>
      <tr>
        <td id="L1071" class="blob-num js-line-number" data-line-number="1071"></td>
        <td id="LC1071" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1072" class="blob-num js-line-number" data-line-number="1072"></td>
        <td id="LC1072" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1073" class="blob-num js-line-number" data-line-number="1073"></td>
        <td id="LC1073" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1074" class="blob-num js-line-number" data-line-number="1074"></td>
        <td id="LC1074" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_ctr_lon_id,dmn_srt,dmn_cnt,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1075" class="blob-num js-line-number" data-line-number="1075"></td>
        <td id="LC1075" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1076" class="blob-num js-line-number" data-line-number="1076"></td>
        <td id="LC1076" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1077" class="blob-num js-line-number" data-line-number="1077"></td>
        <td id="LC1077" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_ctr_lat_id,dmn_srt,dmn_cnt,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1078" class="blob-num js-line-number" data-line-number="1078"></td>
        <td id="LC1078" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1079" class="blob-num js-line-number" data-line-number="1079"></td>
        <td id="LC1079" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1080" class="blob-num js-line-number" data-line-number="1080"></td>
        <td id="LC1080" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1081" class="blob-num js-line-number" data-line-number="1081"></td>
        <td id="LC1081" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_crn_lon_id,dmn_srt,dmn_cnt,lon_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1082" class="blob-num js-line-number" data-line-number="1082"></td>
        <td id="LC1082" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1083" class="blob-num js-line-number" data-line-number="1083"></td>
        <td id="LC1083" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1084" class="blob-num js-line-number" data-line-number="1084"></td>
        <td id="LC1084" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1085" class="blob-num js-line-number" data-line-number="1085"></td>
        <td id="LC1085" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_crn_lat_id,dmn_srt,dmn_cnt,lat_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1086" class="blob-num js-line-number" data-line-number="1086"></td>
        <td id="LC1086" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_crd_rdn){</td>
      </tr>
      <tr>
        <td id="L1087" class="blob-num js-line-number" data-line-number="1087"></td>
        <td id="LC1087" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;col_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1088" class="blob-num js-line-number" data-line-number="1088"></td>
        <td id="LC1088" class="blob-code blob-code-inner js-file-line">	lon_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1089" class="blob-num js-line-number" data-line-number="1089"></td>
        <td id="LC1089" class="blob-code blob-code-inner js-file-line">	lat_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1090" class="blob-num js-line-number" data-line-number="1090"></td>
        <td id="LC1090" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L1091" class="blob-num js-line-number" data-line-number="1091"></td>
        <td id="LC1091" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;col_nbr_out*bnd_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1092" class="blob-num js-line-number" data-line-number="1092"></td>
        <td id="LC1092" class="blob-code blob-code-inner js-file-line">	lon_bnd_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1093" class="blob-num js-line-number" data-line-number="1093"></td>
        <td id="LC1093" class="blob-code blob-code-inner js-file-line">	lat_bnd_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1094" class="blob-num js-line-number" data-line-number="1094"></td>
        <td id="LC1094" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L1095" class="blob-num js-line-number" data-line-number="1095"></td>
        <td id="LC1095" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !rdn */</span></td>
      </tr>
      <tr>
        <td id="L1096" class="blob-num js-line-number" data-line-number="1096"></td>
        <td id="LC1096" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Is 1D interface information usable? Yes, unless if all interfaces are zeros</span></td>
      </tr>
      <tr>
        <td id="L1097" class="blob-num js-line-number" data-line-number="1097"></td>
        <td id="LC1097" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       NB: fxm Better algorithm for &quot;usable&quot; is that not all interfaces in any cell are equal */</span></td>
      </tr>
      <tr>
        <td id="L1098" class="blob-num js-line-number" data-line-number="1098"></td>
        <td id="LC1098" class="blob-code blob-code-inner js-file-line">    flg_bnd_1D_usable=True;</td>
      </tr>
      <tr>
        <td id="L1099" class="blob-num js-line-number" data-line-number="1099"></td>
        <td id="LC1099" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;col_nbr_out*bnd_nbr_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1100" class="blob-num js-line-number" data-line-number="1100"></td>
        <td id="LC1100" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(lon_bnd_out[idx] != <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1101" class="blob-num js-line-number" data-line-number="1101"></td>
        <td id="LC1101" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(idx == col_nbr_out*bnd_nbr_out){</td>
      </tr>
      <tr>
        <td id="L1102" class="blob-num js-line-number" data-line-number="1102"></td>
        <td id="LC1102" class="blob-code blob-code-inner js-file-line">      flg_bnd_1D_usable=False;</td>
      </tr>
      <tr>
        <td id="L1103" class="blob-num js-line-number" data-line-number="1103"></td>
        <td id="LC1103" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1104" class="blob-num js-line-number" data-line-number="1104"></td>
        <td id="LC1104" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;col_nbr_out*bnd_nbr_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1105" class="blob-num js-line-number" data-line-number="1105"></td>
        <td id="LC1105" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(lat_bnd_out[idx] != <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1106" class="blob-num js-line-number" data-line-number="1106"></td>
        <td id="LC1106" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(idx == col_nbr_out*bnd_nbr_out) flg_bnd_1D_usable=False;</td>
      </tr>
      <tr>
        <td id="L1107" class="blob-num js-line-number" data-line-number="1107"></td>
        <td id="LC1107" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !usable */</span></td>
      </tr>
      <tr>
        <td id="L1108" class="blob-num js-line-number" data-line-number="1108"></td>
        <td id="LC1108" class="blob-code blob-code-inner js-file-line">      </td>
      </tr>
      <tr>
        <td id="L1109" class="blob-num js-line-number" data-line-number="1109"></td>
        <td id="LC1109" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L1110" class="blob-num js-line-number" data-line-number="1110"></td>
        <td id="LC1110" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1111" class="blob-num js-line-number" data-line-number="1111"></td>
        <td id="LC1111" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, vertices = <span class="pl-pds">&quot;</span></span>,idx,lat_ctr_out[idx]);</td>
      </tr>
      <tr>
        <td id="L1112" class="blob-num js-line-number" data-line-number="1112"></td>
        <td id="LC1112" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(bnd_idx=<span class="pl-c1">0</span>;bnd_idx&lt;bnd_nbr_out;bnd_idx++)</td>
      </tr>
      <tr>
        <td id="L1113" class="blob-num js-line-number" data-line-number="1113"></td>
        <td id="LC1113" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%g%s</span><span class="pl-pds">&quot;</span></span>,bnd_idx == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>[<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,lat_bnd_out[bnd_nbr_out*idx+bnd_idx],bnd_idx == bnd_nbr_out-<span class="pl-c1">1</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1114" class="blob-num js-line-number" data-line-number="1114"></td>
        <td id="LC1114" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L1115" class="blob-num js-line-number" data-line-number="1115"></td>
        <td id="LC1115" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1116" class="blob-num js-line-number" data-line-number="1116"></td>
        <td id="LC1116" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lon[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, vertices = <span class="pl-pds">&quot;</span></span>,idx,lon_ctr_out[idx]);</td>
      </tr>
      <tr>
        <td id="L1117" class="blob-num js-line-number" data-line-number="1117"></td>
        <td id="LC1117" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(bnd_idx=<span class="pl-c1">0</span>;bnd_idx&lt;bnd_nbr_out;bnd_idx++)</td>
      </tr>
      <tr>
        <td id="L1118" class="blob-num js-line-number" data-line-number="1118"></td>
        <td id="LC1118" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%g%s</span><span class="pl-pds">&quot;</span></span>,bnd_idx == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>[<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,lon_bnd_out[bnd_nbr_out*idx+bnd_idx],bnd_idx == bnd_nbr_out-<span class="pl-c1">1</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1119" class="blob-num js-line-number" data-line-number="1119"></td>
        <td id="LC1119" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end loop over lon */</span></td>
      </tr>
      <tr>
        <td id="L1120" class="blob-num js-line-number" data-line-number="1120"></td>
        <td id="LC1120" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L1121" class="blob-num js-line-number" data-line-number="1121"></td>
        <td id="LC1121" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1122" class="blob-num js-line-number" data-line-number="1122"></td>
        <td id="LC1122" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1123" class="blob-num js-line-number" data-line-number="1123"></td>
        <td id="LC1123" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1124" class="blob-num js-line-number" data-line-number="1124"></td>
        <td id="LC1124" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* fxm: sub-sample these from the already-read ctr/crn arrays */</span></td>
      </tr>
      <tr>
        <td id="L1125" class="blob-num js-line-number" data-line-number="1125"></td>
        <td id="LC1125" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1126" class="blob-num js-line-number" data-line-number="1126"></td>
        <td id="LC1126" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1127" class="blob-num js-line-number" data-line-number="1127"></td>
        <td id="LC1127" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_ctr_lon_id,dmn_srt,dmn_cnt,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1128" class="blob-num js-line-number" data-line-number="1128"></td>
        <td id="LC1128" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1129" class="blob-num js-line-number" data-line-number="1129"></td>
        <td id="LC1129" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1130" class="blob-num js-line-number" data-line-number="1130"></td>
        <td id="LC1130" class="blob-code blob-code-inner js-file-line">    dmn_srd[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1131" class="blob-num js-line-number" data-line-number="1131"></td>
        <td id="LC1131" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vars</span>(in_id,dst_grd_ctr_lat_id,dmn_srt,dmn_cnt,dmn_srd,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1132" class="blob-num js-line-number" data-line-number="1132"></td>
        <td id="LC1132" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1133" class="blob-num js-line-number" data-line-number="1133"></td>
        <td id="LC1133" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1134" class="blob-num js-line-number" data-line-number="1134"></td>
        <td id="LC1134" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=rgr_map.<span class="pl-smi">dst_grid_corners</span>;</td>
      </tr>
      <tr>
        <td id="L1135" class="blob-num js-line-number" data-line-number="1135"></td>
        <td id="LC1135" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,dst_grd_crn_lon_id,dmn_srt,dmn_cnt,lon_crn_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1136" class="blob-num js-line-number" data-line-number="1136"></td>
        <td id="LC1136" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1137" class="blob-num js-line-number" data-line-number="1137"></td>
        <td id="LC1137" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1138" class="blob-num js-line-number" data-line-number="1138"></td>
        <td id="LC1138" class="blob-code blob-code-inner js-file-line">    dmn_srd[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1139" class="blob-num js-line-number" data-line-number="1139"></td>
        <td id="LC1139" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1140" class="blob-num js-line-number" data-line-number="1140"></td>
        <td id="LC1140" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=rgr_map.<span class="pl-smi">dst_grid_corners</span>;</td>
      </tr>
      <tr>
        <td id="L1141" class="blob-num js-line-number" data-line-number="1141"></td>
        <td id="LC1141" class="blob-code blob-code-inner js-file-line">    dmn_srd[<span class="pl-c1">1</span>]=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L1142" class="blob-num js-line-number" data-line-number="1142"></td>
        <td id="LC1142" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vars</span>(in_id,dst_grd_crn_lat_id,dmn_srt,dmn_cnt,dmn_srd,lat_crn_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1143" class="blob-num js-line-number" data-line-number="1143"></td>
        <td id="LC1143" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_crd_rdn){</td>
      </tr>
      <tr>
        <td id="L1144" class="blob-num js-line-number" data-line-number="1144"></td>
        <td id="LC1144" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++) lon_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1145" class="blob-num js-line-number" data-line-number="1145"></td>
        <td id="LC1145" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1146" class="blob-num js-line-number" data-line-number="1146"></td>
        <td id="LC1146" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out*rgr_map.<span class="pl-smi">dst_grid_corners</span>;idx++) lon_crn_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1147" class="blob-num js-line-number" data-line-number="1147"></td>
        <td id="LC1147" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out*rgr_map.<span class="pl-smi">dst_grid_corners</span>;idx++) lat_crn_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1148" class="blob-num js-line-number" data-line-number="1148"></td>
        <td id="LC1148" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !rdn */</span></td>
      </tr>
      <tr>
        <td id="L1149" class="blob-num js-line-number" data-line-number="1149"></td>
        <td id="LC1149" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1150" class="blob-num js-line-number" data-line-number="1150"></td>
        <td id="LC1150" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1151" class="blob-num js-line-number" data-line-number="1151"></td>
        <td id="LC1151" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L1152" class="blob-num js-line-number" data-line-number="1152"></td>
        <td id="LC1152" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_crd_rdn){</td>
      </tr>
      <tr>
        <td id="L1153" class="blob-num js-line-number" data-line-number="1153"></td>
        <td id="LC1153" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++) lon_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1154" class="blob-num js-line-number" data-line-number="1154"></td>
        <td id="LC1154" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++) lat_ctr_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1155" class="blob-num js-line-number" data-line-number="1155"></td>
        <td id="LC1155" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out*rgr_map.<span class="pl-smi">dst_grid_corners</span>;idx++) lon_crn_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1156" class="blob-num js-line-number" data-line-number="1156"></td>
        <td id="LC1156" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out*rgr_map.<span class="pl-smi">dst_grid_corners</span>;idx++) lat_crn_out[idx]*=rdn2dgr;</td>
      </tr>
      <tr>
        <td id="L1157" class="blob-num js-line-number" data-line-number="1157"></td>
        <td id="LC1157" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !rdn */</span></td>
      </tr>
      <tr>
        <td id="L1158" class="blob-num js-line-number" data-line-number="1158"></td>
        <td id="LC1158" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L1159" class="blob-num js-line-number" data-line-number="1159"></td>
        <td id="LC1159" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1160" class="blob-num js-line-number" data-line-number="1160"></td>
        <td id="LC1160" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space for and obtain area, fraction, and mask, which are needed for both 1D and 2D grids */</span></td>
      </tr>
      <tr>
        <td id="L1161" class="blob-num js-line-number" data-line-number="1161"></td>
        <td id="LC1161" class="blob-code blob-code-inner js-file-line">  area_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1162" class="blob-num js-line-number" data-line-number="1162"></td>
        <td id="LC1162" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1163" class="blob-num js-line-number" data-line-number="1163"></td>
        <td id="LC1163" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L1164" class="blob-num js-line-number" data-line-number="1164"></td>
        <td id="LC1164" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,area_dst_id,dmn_srt,dmn_cnt,area_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1165" class="blob-num js-line-number" data-line-number="1165"></td>
        <td id="LC1165" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1166" class="blob-num js-line-number" data-line-number="1166"></td>
        <td id="LC1166" class="blob-code blob-code-inner js-file-line">  frc_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(crd_typ_out));</td>
      </tr>
      <tr>
        <td id="L1167" class="blob-num js-line-number" data-line-number="1167"></td>
        <td id="LC1167" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1168" class="blob-num js-line-number" data-line-number="1168"></td>
        <td id="LC1168" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L1169" class="blob-num js-line-number" data-line-number="1169"></td>
        <td id="LC1169" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,frc_dst_id,dmn_srt,dmn_cnt,frc_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L1170" class="blob-num js-line-number" data-line-number="1170"></td>
        <td id="LC1170" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1171" class="blob-num js-line-number" data-line-number="1171"></td>
        <td id="LC1171" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_dst_id != NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L1172" class="blob-num js-line-number" data-line-number="1172"></td>
        <td id="LC1172" class="blob-code blob-code-inner js-file-line">    msk_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_out*<span class="pl-c1">nco_typ_lng</span>(NC_INT));</td>
      </tr>
      <tr>
        <td id="L1173" class="blob-num js-line-number" data-line-number="1173"></td>
        <td id="LC1173" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1174" class="blob-num js-line-number" data-line-number="1174"></td>
        <td id="LC1174" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L1175" class="blob-num js-line-number" data-line-number="1175"></td>
        <td id="LC1175" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,msk_dst_id,dmn_srt,dmn_cnt,msk_out,NC_INT);</td>
      </tr>
      <tr>
        <td id="L1176" class="blob-num js-line-number" data-line-number="1176"></td>
        <td id="LC1176" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !msk */</span></td>
      </tr>
      <tr>
        <td id="L1177" class="blob-num js-line-number" data-line-number="1177"></td>
        <td id="LC1177" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L1178" class="blob-num js-line-number" data-line-number="1178"></td>
        <td id="LC1178" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Derive 2D interface boundaries from lat and lon grid-center values</span></td>
      </tr>
      <tr>
        <td id="L1179" class="blob-num js-line-number" data-line-number="1179"></td>
        <td id="LC1179" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NB: Procedures to derive interfaces from midpoints on rectangular grids are theoretically possible </span></td>
      </tr>
      <tr>
        <td id="L1180" class="blob-num js-line-number" data-line-number="1180"></td>
        <td id="LC1180" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     However, ESMF often outputs interfaces values (e.g., yv_b) for midpoint coordinates (e.g., yc_b)</span></td>
      </tr>
      <tr>
        <td id="L1181" class="blob-num js-line-number" data-line-number="1181"></td>
        <td id="LC1181" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     For example, ACME standard map from ne120np4 to 181x360 has yc_b[0] = yv_b[0] = -90.0</span></td>
      </tr>
      <tr>
        <td id="L1182" class="blob-num js-line-number" data-line-number="1182"></td>
        <td id="LC1182" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Latitude = -90 is, by definition, not a midpoint coordinate</span></td>
      </tr>
      <tr>
        <td id="L1183" class="blob-num js-line-number" data-line-number="1183"></td>
        <td id="LC1183" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     This appears to be an artifact of the non-physical representation of the FV grid, i.e.,</span></td>
      </tr>
      <tr>
        <td id="L1184" class="blob-num js-line-number" data-line-number="1184"></td>
        <td id="LC1184" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     a grid center located at the pole where longitudes collapse in the model, but cannot be</span></td>
      </tr>
      <tr>
        <td id="L1185" class="blob-num js-line-number" data-line-number="1185"></td>
        <td id="LC1185" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     represented as collapsed on a rectangular 2D grid with non-zero areas.</span></td>
      </tr>
      <tr>
        <td id="L1186" class="blob-num js-line-number" data-line-number="1186"></td>
        <td id="LC1186" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Unfortunately, ESMF supports this nonsense by labeling the grid center as at the pole</span></td>
      </tr>
      <tr>
        <td id="L1187" class="blob-num js-line-number" data-line-number="1187"></td>
        <td id="LC1187" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     so that applications can easily diagnose an FV grid when they read-in datasets.</span></td>
      </tr>
      <tr>
        <td id="L1188" class="blob-num js-line-number" data-line-number="1188"></td>
        <td id="LC1188" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     A superior application could diagnose FV just fine from actual non-polar gridcell centers</span></td>
      </tr>
      <tr>
        <td id="L1189" class="blob-num js-line-number" data-line-number="1189"></td>
        <td id="LC1189" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Maybe ESMF could introduce a flag or something to indicate/avoid this special case?</span></td>
      </tr>
      <tr>
        <td id="L1190" class="blob-num js-line-number" data-line-number="1190"></td>
        <td id="LC1190" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Safer to read boundary interfaces directly from grid corner/vertice arrays in map file</span></td>
      </tr>
      <tr>
        <td id="L1191" class="blob-num js-line-number" data-line-number="1191"></td>
        <td id="LC1191" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     </span></td>
      </tr>
      <tr>
        <td id="L1192" class="blob-num js-line-number" data-line-number="1192"></td>
        <td id="LC1192" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Derivation of boundaries xv_b, yv_b from _correct_ xc_b, yc_b is follows</span></td>
      </tr>
      <tr>
        <td id="L1193" class="blob-num js-line-number" data-line-number="1193"></td>
        <td id="LC1193" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Do not implement this procedure until resolving midpoint/center issue described above:</span></td>
      </tr>
      <tr>
        <td id="L1194" class="blob-num js-line-number" data-line-number="1194"></td>
        <td id="LC1194" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     lon_ntf_out[0]=0.5*(lon_ctr_out[0]+lon_ctr_out[lon_nbr_out-1])-180.0; // Extrapolation</span></td>
      </tr>
      <tr>
        <td id="L1195" class="blob-num js-line-number" data-line-number="1195"></td>
        <td id="LC1195" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     lat_ntf_out[0]=lat_ctr_out[0]-0.5*(lat_ctr_out[1]-lat_ctr_out[0]); // Extrapolation</span></td>
      </tr>
      <tr>
        <td id="L1196" class="blob-num js-line-number" data-line-number="1196"></td>
        <td id="LC1196" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     for(idx=1;idx&lt;lon_nbr_out;idx++) lon_ntf_out[idx]=0.5*(lon_ctr_out[idx-1]+lon_ctr_out[idx]);</span></td>
      </tr>
      <tr>
        <td id="L1197" class="blob-num js-line-number" data-line-number="1197"></td>
        <td id="LC1197" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     for(idx=1;idx&lt;lat_nbr_out;idx++) lat_ntf_out[idx]=0.5*(lat_ctr_out[idx-1]+lat_ctr_out[idx]);</span></td>
      </tr>
      <tr>
        <td id="L1198" class="blob-num js-line-number" data-line-number="1198"></td>
        <td id="LC1198" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     lon_ntf_out[lon_nbr_out]=lon_ntf_out[0]+360.0;</span></td>
      </tr>
      <tr>
        <td id="L1199" class="blob-num js-line-number" data-line-number="1199"></td>
        <td id="LC1199" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     lat_ntf_out[lat_nbr_out]=lat_ctr_out[lat_nbr_out-1]+0.5*(lat_ctr_out[lat_nbr_out-1]-lat_ctr_out[lat_nbr_out-2]); */</span></td>
      </tr>
      <tr>
        <td id="L1200" class="blob-num js-line-number" data-line-number="1200"></td>
        <td id="LC1200" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1201" class="blob-num js-line-number" data-line-number="1201"></td>
        <td id="LC1201" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1202" class="blob-num js-line-number" data-line-number="1202"></td>
        <td id="LC1202" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lon_spn; <span class="pl-c">/* [dgr] Longitude span */</span></td>
      </tr>
      <tr>
        <td id="L1203" class="blob-num js-line-number" data-line-number="1203"></td>
        <td id="LC1203" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_spn; <span class="pl-c">/* [dgr] Latitude span */</span></td>
      </tr>
      <tr>
        <td id="L1204" class="blob-num js-line-number" data-line-number="1204"></td>
        <td id="LC1204" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1205" class="blob-num js-line-number" data-line-number="1205"></td>
        <td id="LC1205" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Obtain 1-D rectangular interfaces from unrolled 1-D vertice arrays */</span></td>
      </tr>
      <tr>
        <td id="L1206" class="blob-num js-line-number" data-line-number="1206"></td>
        <td id="LC1206" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++) lon_ntf_out[idx]=lon_crn_out[rgr_map.<span class="pl-smi">dst_grid_corners</span>*idx];</td>
      </tr>
      <tr>
        <td id="L1207" class="blob-num js-line-number" data-line-number="1207"></td>
        <td id="LC1207" class="blob-code blob-code-inner js-file-line">    lon_ntf_out[lon_nbr_out]=lon_crn_out[rgr_map.<span class="pl-smi">dst_grid_corners</span>*lon_nbr_out-(rgr_map.<span class="pl-smi">dst_grid_corners</span>-<span class="pl-c1">1L</span>)];</td>
      </tr>
      <tr>
        <td id="L1208" class="blob-num js-line-number" data-line-number="1208"></td>
        <td id="LC1208" class="blob-code blob-code-inner js-file-line">    lon_spn=lon_ntf_out[lon_nbr_out]-lon_ntf_out[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L1209" class="blob-num js-line-number" data-line-number="1209"></td>
        <td id="LC1209" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_ntf_out[idx]=lat_crn_out[rgr_map.<span class="pl-smi">dst_grid_corners</span>*idx];</td>
      </tr>
      <tr>
        <td id="L1210" class="blob-num js-line-number" data-line-number="1210"></td>
        <td id="LC1210" class="blob-code blob-code-inner js-file-line">    lat_ntf_out[lat_nbr_out]=lat_crn_out[rgr_map.<span class="pl-smi">dst_grid_corners</span>*lat_nbr_out-<span class="pl-c1">1L</span>];</td>
      </tr>
      <tr>
        <td id="L1211" class="blob-num js-line-number" data-line-number="1211"></td>
        <td id="LC1211" class="blob-code blob-code-inner js-file-line">    lat_spn=lat_ntf_out[lat_nbr_out]-lat_ntf_out[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L1212" class="blob-num js-line-number" data-line-number="1212"></td>
        <td id="LC1212" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1213" class="blob-num js-line-number" data-line-number="1213"></td>
        <td id="LC1213" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Place 1-D rectangular interfaces into 2-D coordinate boundaries */</span></td>
      </tr>
      <tr>
        <td id="L1214" class="blob-num js-line-number" data-line-number="1214"></td>
        <td id="LC1214" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1215" class="blob-num js-line-number" data-line-number="1215"></td>
        <td id="LC1215" class="blob-code blob-code-inner js-file-line">      lon_bnd_out[<span class="pl-c1">2</span>*idx]=lon_ntf_out[idx];</td>
      </tr>
      <tr>
        <td id="L1216" class="blob-num js-line-number" data-line-number="1216"></td>
        <td id="LC1216" class="blob-code blob-code-inner js-file-line">      lon_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lon_ntf_out[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L1217" class="blob-num js-line-number" data-line-number="1217"></td>
        <td id="LC1217" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over longitude */</span></td>
      </tr>
      <tr>
        <td id="L1218" class="blob-num js-line-number" data-line-number="1218"></td>
        <td id="LC1218" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1219" class="blob-num js-line-number" data-line-number="1219"></td>
        <td id="LC1219" class="blob-code blob-code-inner js-file-line">      lat_bnd_out[<span class="pl-c1">2</span>*idx]=lat_ntf_out[idx];</td>
      </tr>
      <tr>
        <td id="L1220" class="blob-num js-line-number" data-line-number="1220"></td>
        <td id="LC1220" class="blob-code blob-code-inner js-file-line">      lat_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lat_ntf_out[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L1221" class="blob-num js-line-number" data-line-number="1221"></td>
        <td id="LC1221" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over latitude */</span></td>
      </tr>
      <tr>
        <td id="L1222" class="blob-num js-line-number" data-line-number="1222"></td>
        <td id="LC1222" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1223" class="blob-num js-line-number" data-line-number="1223"></td>
        <td id="LC1223" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L1224" class="blob-num js-line-number" data-line-number="1224"></td>
        <td id="LC1224" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lon[<span class="pl-c1">%li</span>] = [<span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,idx,lon_bnd_out[<span class="pl-c1">2</span>*idx],lon_ctr_out[idx],lon_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L1225" class="blob-num js-line-number" data-line-number="1225"></td>
        <td id="LC1225" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = [<span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,idx,lat_bnd_out[<span class="pl-c1">2</span>*idx],lat_ctr_out[idx],lat_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L1226" class="blob-num js-line-number" data-line-number="1226"></td>
        <td id="LC1226" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L1227" class="blob-num js-line-number" data-line-number="1227"></td>
        <td id="LC1227" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1228" class="blob-num js-line-number" data-line-number="1228"></td>
        <td id="LC1228" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Global or regional grid? */</span></td>
      </tr>
      <tr>
        <td id="L1229" class="blob-num js-line-number" data-line-number="1229"></td>
        <td id="LC1229" class="blob-code blob-code-inner js-file-line">    nco_grd_xtn_enm nco_grd_xtn; <span class="pl-c">/* [enm] Extent of grid */</span></td>
      </tr>
      <tr>
        <td id="L1230" class="blob-num js-line-number" data-line-number="1230"></td>
        <td id="LC1230" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_spn == <span class="pl-c1">360.0</span> &amp;&amp; lat_spn == <span class="pl-c1">180.0</span>) nco_grd_xtn=nco_grd_xtn_glb; <span class="pl-k">else</span> nco_grd_xtn=nco_grd_xtn_rgn;</td>
      </tr>
      <tr>
        <td id="L1231" class="blob-num js-line-number" data-line-number="1231"></td>
        <td id="LC1231" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Diagnose type of latitude output grid by testing second latitude center against formulae */</span></td>
      </tr>
      <tr>
        <td id="L1232" class="blob-num js-line-number" data-line-number="1232"></td>
        <td id="LC1232" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">double</span> lat_ctr_tst_eqa=lat_ntf_out[<span class="pl-c1">0</span>]+lat_spn*<span class="pl-c1">1.5</span>/lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1233" class="blob-num js-line-number" data-line-number="1233"></td>
        <td id="LC1233" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">double</span> lat_ctr_tst_fv=lat_ntf_out[<span class="pl-c1">0</span>]+lat_spn/(lat_nbr_out-<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="L1234" class="blob-num js-line-number" data-line-number="1234"></td>
        <td id="LC1234" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_ctr_tst_gss;</td>
      </tr>
      <tr>
        <td id="L1235" class="blob-num js-line-number" data-line-number="1235"></td>
        <td id="LC1235" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* In diagnosing grids, agreement with input to single-precision is &quot;good enough for government work&quot;</span></td>
      </tr>
      <tr>
        <td id="L1236" class="blob-num js-line-number" data-line-number="1236"></td>
        <td id="LC1236" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Hence some comparisons cast from double to float before comparison</span></td>
      </tr>
      <tr>
        <td id="L1237" class="blob-num js-line-number" data-line-number="1237"></td>
        <td id="LC1237" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       20150526: T42 grid from SCRIP and related maps are only accurate to ~eight digits</span></td>
      </tr>
      <tr>
        <td id="L1238" class="blob-num js-line-number" data-line-number="1238"></td>
        <td id="LC1238" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       20150611: map_ne120np4_to_fv801x1600_bilin.150418.nc has yc_b[1600]=-89.775000006 not expected exact value lat_ctr[1]=-89.775000000000006 */</span></td>
      </tr>
      <tr>
        <td id="L1239" class="blob-num js-line-number" data-line-number="1239"></td>
        <td id="LC1239" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_eqa) nco_grd_lat_typ=nco_grd_lat_eqa;</td>
      </tr>
      <tr>
        <td id="L1240" class="blob-num js-line-number" data-line-number="1240"></td>
        <td id="LC1240" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_fv) nco_grd_lat_typ=nco_grd_lat_fv;</td>
      </tr>
      <tr>
        <td id="L1241" class="blob-num js-line-number" data-line-number="1241"></td>
        <td id="LC1241" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> *wgt_Gss_out=<span class="pl-c1">NULL</span>; <span class="pl-c">// [frc] Gaussian weights double precision</span></td>
      </tr>
      <tr>
        <td id="L1242" class="blob-num js-line-number" data-line-number="1242"></td>
        <td id="LC1242" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_nil){</td>
      </tr>
      <tr>
        <td id="L1243" class="blob-num js-line-number" data-line-number="1243"></td>
        <td id="LC1243" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Check for Gaussian grid */</span></td>
      </tr>
      <tr>
        <td id="L1244" class="blob-num js-line-number" data-line-number="1244"></td>
        <td id="LC1244" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">double</span> *lat_sin_out; <span class="pl-c">// [frc] Sine of Gaussian latitudes double precision</span></td>
      </tr>
      <tr>
        <td id="L1245" class="blob-num js-line-number" data-line-number="1245"></td>
        <td id="LC1245" class="blob-code blob-code-inner js-file-line">      lat_sin_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L1246" class="blob-num js-line-number" data-line-number="1246"></td>
        <td id="LC1246" class="blob-code blob-code-inner js-file-line">      wgt_Gss_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L1247" class="blob-num js-line-number" data-line-number="1247"></td>
        <td id="LC1247" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_lat_wgt_gss</span>(lat_nbr_out,lat_sin_out,wgt_Gss_out);</td>
      </tr>
      <tr>
        <td id="L1248" class="blob-num js-line-number" data-line-number="1248"></td>
        <td id="LC1248" class="blob-code blob-code-inner js-file-line">      lat_ctr_tst_gss=rdn2dgr*<span class="pl-c1">asin</span>(lat_sin_out[<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L1249" class="blob-num js-line-number" data-line-number="1249"></td>
        <td id="LC1249" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Gaussian weights on output grid will be double-precision accurate</span></td>
      </tr>
      <tr>
        <td id="L1250" class="blob-num js-line-number" data-line-number="1250"></td>
        <td id="LC1250" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Grid itself is kept as user-specified so area diagnosed by ESMF_RegridWeightGen may be slightly inconsistent with weights */</span></td>
      </tr>
      <tr>
        <td id="L1251" class="blob-num js-line-number" data-line-number="1251"></td>
        <td id="LC1251" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports lat_ctr_out[1] = <span class="pl-c1">%g</span>, lat_ctr_tst_gss = <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_ctr_out[<span class="pl-c1">1</span>],lat_ctr_tst_gss);</td>
      </tr>
      <tr>
        <td id="L1252" class="blob-num js-line-number" data-line-number="1252"></td>
        <td id="LC1252" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_gss) nco_grd_lat_typ=nco_grd_lat_gss;</td>
      </tr>
      <tr>
        <td id="L1253" class="blob-num js-line-number" data-line-number="1253"></td>
        <td id="LC1253" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(lat_sin_out) lat_sin_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_sin_out);</td>
      </tr>
      <tr>
        <td id="L1254" class="blob-num js-line-number" data-line-number="1254"></td>
        <td id="LC1254" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !Gaussian */</span></td>
      </tr>
      <tr>
        <td id="L1255" class="blob-num js-line-number" data-line-number="1255"></td>
        <td id="LC1255" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_nil){</td>
      </tr>
      <tr>
        <td id="L1256" class="blob-num js-line-number" data-line-number="1256"></td>
        <td id="LC1256" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* If still of unknown type, this 2D grid may be weird</span></td>
      </tr>
      <tr>
        <td id="L1257" class="blob-num js-line-number" data-line-number="1257"></td>
        <td id="LC1257" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 This occurs, e.g., with POP3 destination grid</span></td>
      </tr>
      <tr>
        <td id="L1258" class="blob-num js-line-number" data-line-number="1258"></td>
        <td id="LC1258" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Change gridtype from nil (which means not-yet-set) to unknown (which means none of the others matched) */</span></td>
      </tr>
      <tr>
        <td id="L1259" class="blob-num js-line-number" data-line-number="1259"></td>
        <td id="LC1259" class="blob-code blob-code-inner js-file-line">      nco_grd_lat_typ=nco_grd_lat_unk;</td>
      </tr>
      <tr>
        <td id="L1260" class="blob-num js-line-number" data-line-number="1260"></td>
        <td id="LC1260" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !nil */</span></td>
      </tr>
      <tr>
        <td id="L1261" class="blob-num js-line-number" data-line-number="1261"></td>
        <td id="LC1261" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1262" class="blob-num js-line-number" data-line-number="1262"></td>
        <td id="LC1262" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Currently grd_lat_typ and grd_2D_typ are equivalent, though that may be relaxed in future */</span></td>
      </tr>
      <tr>
        <td id="L1263" class="blob-num js-line-number" data-line-number="1263"></td>
        <td id="LC1263" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_unk) nco_grd_2D_typ=nco_grd_2D_unk;</td>
      </tr>
      <tr>
        <td id="L1264" class="blob-num js-line-number" data-line-number="1264"></td>
        <td id="LC1264" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_gss) nco_grd_2D_typ=nco_grd_2D_gss;</td>
      </tr>
      <tr>
        <td id="L1265" class="blob-num js-line-number" data-line-number="1265"></td>
        <td id="LC1265" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_fv) nco_grd_2D_typ=nco_grd_2D_fv;</td>
      </tr>
      <tr>
        <td id="L1266" class="blob-num js-line-number" data-line-number="1266"></td>
        <td id="LC1266" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(nco_grd_lat_typ == nco_grd_lat_eqa) nco_grd_2D_typ=nco_grd_2D_eqa;</td>
      </tr>
      <tr>
        <td id="L1267" class="blob-num js-line-number" data-line-number="1267"></td>
        <td id="LC1267" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-c1">assert</span>(False);</td>
      </tr>
      <tr>
        <td id="L1268" class="blob-num js-line-number" data-line-number="1268"></td>
        <td id="LC1268" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1269" class="blob-num js-line-number" data-line-number="1269"></td>
        <td id="LC1269" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_grd_lon_typ == nco_grd_lon_nil){</td>
      </tr>
      <tr>
        <td id="L1270" class="blob-num js-line-number" data-line-number="1270"></td>
        <td id="LC1270" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* NB: Longitude grid diagnosis is susceptible to mistakes when input mapfile embeds common faulty grids, e.g., ACME *150418* FV maps</span></td>
      </tr>
      <tr>
        <td id="L1271" class="blob-num js-line-number" data-line-number="1271"></td>
        <td id="LC1271" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 map_ne30np4_to_fv129x256_aave.150418.nc is diagnosed as regional grid of unknown type because of input grid flaws</span></td>
      </tr>
      <tr>
        <td id="L1272" class="blob-num js-line-number" data-line-number="1272"></td>
        <td id="LC1272" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 map_ne30np4_to_fv129x256_aave.20150901.nc is (correctly) diagnosed as global grid of with lon_Grn_ctr */</span></td>
      </tr>
      <tr>
        <td id="L1273" class="blob-num js-line-number" data-line-number="1273"></td>
        <td id="LC1273" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(     (<span class="pl-k">float</span>)lon_ctr_out[<span class="pl-c1">0</span>] ==   <span class="pl-c1">0.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr_out[<span class="pl-c1">0</span>]+lon_spn/lon_nbr_out)) nco_grd_lon_typ=nco_grd_lon_Grn_ctr;</td>
      </tr>
      <tr>
        <td id="L1274" class="blob-num js-line-number" data-line-number="1274"></td>
        <td id="LC1274" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ctr_out[<span class="pl-c1">0</span>] == <span class="pl-c1">180.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr_out[<span class="pl-c1">0</span>]+lon_spn/lon_nbr_out)) nco_grd_lon_typ=nco_grd_lon_180_ctr;</td>
      </tr>
      <tr>
        <td id="L1275" class="blob-num js-line-number" data-line-number="1275"></td>
        <td id="LC1275" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ntf_out[<span class="pl-c1">0</span>] ==   <span class="pl-c1">0.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ntf_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ntf_out[<span class="pl-c1">0</span>]+lon_spn/lon_nbr_out)) nco_grd_lon_typ=nco_grd_lon_Grn_wst;</td>
      </tr>
      <tr>
        <td id="L1276" class="blob-num js-line-number" data-line-number="1276"></td>
        <td id="LC1276" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ntf_out[<span class="pl-c1">0</span>] == <span class="pl-c1">180.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ntf_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ntf_out[<span class="pl-c1">0</span>]+lon_spn/lon_nbr_out)) nco_grd_lon_typ=nco_grd_lon_180_wst;</td>
      </tr>
      <tr>
        <td id="L1277" class="blob-num js-line-number" data-line-number="1277"></td>
        <td id="LC1277" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ctr_out[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr_out[<span class="pl-c1">0</span>]+lon_spn/lon_nbr_out)) nco_grd_lon_typ=nco_grd_lon_bb;</td>
      </tr>
      <tr>
        <td id="L1278" class="blob-num js-line-number" data-line-number="1278"></td>
        <td id="LC1278" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> nco_grd_lon_typ=nco_grd_lon_unk;</td>
      </tr>
      <tr>
        <td id="L1279" class="blob-num js-line-number" data-line-number="1279"></td>
        <td id="LC1279" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !nco_grd_lon_typ */</span></td>
      </tr>
      <tr>
        <td id="L1280" class="blob-num js-line-number" data-line-number="1280"></td>
        <td id="LC1280" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1281" class="blob-num js-line-number" data-line-number="1281"></td>
        <td id="LC1281" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed output latitude grid-type: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_lat_sng</span>(nco_grd_lat_typ));</td>
      </tr>
      <tr>
        <td id="L1282" class="blob-num js-line-number" data-line-number="1282"></td>
        <td id="LC1282" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed output longitude grid-type: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_lon_sng</span>(nco_grd_lon_typ));</td>
      </tr>
      <tr>
        <td id="L1283" class="blob-num js-line-number" data-line-number="1283"></td>
        <td id="LC1283" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed output grid-extent: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_xtn_sng</span>(nco_grd_xtn));</td>
      </tr>
      <tr>
        <td id="L1284" class="blob-num js-line-number" data-line-number="1284"></td>
        <td id="LC1284" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1285" class="blob-num js-line-number" data-line-number="1285"></td>
        <td id="LC1285" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(nco_grd_lat_typ){</td>
      </tr>
      <tr>
        <td id="L1286" class="blob-num js-line-number" data-line-number="1286"></td>
        <td id="LC1286" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_eqa:</td>
      </tr>
      <tr>
        <td id="L1287" class="blob-num js-line-number" data-line-number="1287"></td>
        <td id="LC1287" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_fv:</td>
      </tr>
      <tr>
        <td id="L1288" class="blob-num js-line-number" data-line-number="1288"></td>
        <td id="LC1288" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_wgt_out[idx]=<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">2</span>*idx]);</td>
      </tr>
      <tr>
        <td id="L1289" class="blob-num js-line-number" data-line-number="1289"></td>
        <td id="LC1289" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1290" class="blob-num js-line-number" data-line-number="1290"></td>
        <td id="LC1290" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_gss:</td>
      </tr>
      <tr>
        <td id="L1291" class="blob-num js-line-number" data-line-number="1291"></td>
        <td id="LC1291" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_wgt_out[idx]=wgt_Gss_out[idx];</td>
      </tr>
      <tr>
        <td id="L1292" class="blob-num js-line-number" data-line-number="1292"></td>
        <td id="LC1292" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(wgt_Gss_out) wgt_Gss_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(wgt_Gss_out);</td>
      </tr>
      <tr>
        <td id="L1293" class="blob-num js-line-number" data-line-number="1293"></td>
        <td id="LC1293" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1294" class="blob-num js-line-number" data-line-number="1294"></td>
        <td id="LC1294" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_unk:</td>
      </tr>
      <tr>
        <td id="L1295" class="blob-num js-line-number" data-line-number="1295"></td>
        <td id="LC1295" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_wgt_out[idx]=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L1296" class="blob-num js-line-number" data-line-number="1296"></td>
        <td id="LC1296" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports unknown output latitude grid-type. Unable to guess what latitude weights should be.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1297" class="blob-num js-line-number" data-line-number="1297"></td>
        <td id="LC1297" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1298" class="blob-num js-line-number" data-line-number="1298"></td>
        <td id="LC1298" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L1299" class="blob-num js-line-number" data-line-number="1299"></td>
        <td id="LC1299" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1300" class="blob-num js-line-number" data-line-number="1300"></td>
        <td id="LC1300" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end nco_grd_lat_typ switch */</span></td>
      </tr>
      <tr>
        <td id="L1301" class="blob-num js-line-number" data-line-number="1301"></td>
        <td id="LC1301" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1302" class="blob-num js-line-number" data-line-number="1302"></td>
        <td id="LC1302" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Fuzzy test of latitude weight normalization */</span></td>
      </tr>
      <tr>
        <td id="L1303" class="blob-num js-line-number" data-line-number="1303"></td>
        <td id="LC1303" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_wgt_ttl_xpc; <span class="pl-c">/* [frc] Expected sum of latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L1304" class="blob-num js-line-number" data-line-number="1304"></td>
        <td id="LC1304" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L1305" class="blob-num js-line-number" data-line-number="1305"></td>
        <td id="LC1305" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) lat_wgt_ttl+=lat_wgt_out[idx];</td>
      </tr>
      <tr>
        <td id="L1306" class="blob-num js-line-number" data-line-number="1306"></td>
        <td id="LC1306" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl_xpc=<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">2</span>*(lat_nbr_out-<span class="pl-c1">1</span>)+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L1307" class="blob-num js-line-number" data-line-number="1307"></td>
        <td id="LC1307" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(nco_grd_lat_typ != nco_grd_lat_unk) <span class="pl-c1">assert</span>(<span class="pl-c1">1.0</span>-lat_wgt_ttl/lat_wgt_ttl_xpc &lt; eps_rlt);</td>
      </tr>
      <tr>
        <td id="L1308" class="blob-num js-line-number" data-line-number="1308"></td>
        <td id="LC1308" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1309" class="blob-num js-line-number" data-line-number="1309"></td>
        <td id="LC1309" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1310" class="blob-num js-line-number" data-line-number="1310"></td>
        <td id="LC1310" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* When possible, ensure area_out is non-zero</span></td>
      </tr>
      <tr>
        <td id="L1311" class="blob-num js-line-number" data-line-number="1311"></td>
        <td id="LC1311" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150722: ESMF documentation says &quot;The grid area array is only output when the conservative remapping option is used&quot;</span></td>
      </tr>
      <tr>
        <td id="L1312" class="blob-num js-line-number" data-line-number="1312"></td>
        <td id="LC1312" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Actually, ESMF does (always?) output area, but area == 0.0 unless conservative remapping is used</span></td>
      </tr>
      <tr>
        <td id="L1313" class="blob-num js-line-number" data-line-number="1313"></td>
        <td id="LC1313" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150721: ESMF bilinear interpolation map ${DATA}/maps/map_ne30np4_to_fv257x512_bilin.150418.nc has area == 0.0</span></td>
      </tr>
      <tr>
        <td id="L1314" class="blob-num js-line-number" data-line-number="1314"></td>
        <td id="LC1314" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150710: Tempest regionally refined grids like bilinearly interpolated CONUS for ACME RRM has area_out == 0</span></td>
      </tr>
      <tr>
        <td id="L1315" class="blob-num js-line-number" data-line-number="1315"></td>
        <td id="LC1315" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150821: ESMF always outputs area_out == 0.0 for bilinear interpolation</span></td>
      </tr>
      <tr>
        <td id="L1316" class="blob-num js-line-number" data-line-number="1316"></td>
        <td id="LC1316" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Check whether NCO must diagnose and provide its own area_out */</span></td>
      </tr>
      <tr>
        <td id="L1317" class="blob-num js-line-number" data-line-number="1317"></td>
        <td id="LC1317" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* If area_out contains any zero... */</span></td>
      </tr>
      <tr>
        <td id="L1318" class="blob-num js-line-number" data-line-number="1318"></td>
        <td id="LC1318" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1319" class="blob-num js-line-number" data-line-number="1319"></td>
        <td id="LC1319" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(area_out[idx] == <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1320" class="blob-num js-line-number" data-line-number="1320"></td>
        <td id="LC1320" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(idx != (<span class="pl-k">long</span>)grd_sz_out){</td>
      </tr>
      <tr>
        <td id="L1321" class="blob-num js-line-number" data-line-number="1321"></td>
        <td id="LC1321" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO Output grid detected with zero-valued output area(s) at idx = <span class="pl-c1">%ld</span> (and likely others, too).<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),idx);</td>
      </tr>
      <tr>
        <td id="L1322" class="blob-num js-line-number" data-line-number="1322"></td>
        <td id="LC1322" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !zero */</span></td>
      </tr>
      <tr>
        <td id="L1323" class="blob-num js-line-number" data-line-number="1323"></td>
        <td id="LC1323" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1324" class="blob-num js-line-number" data-line-number="1324"></td>
        <td id="LC1324" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1325" class="blob-num js-line-number" data-line-number="1325"></td>
        <td id="LC1325" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(area_out[idx] != <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1326" class="blob-num js-line-number" data-line-number="1326"></td>
        <td id="LC1326" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(idx == (<span class="pl-k">long</span>)grd_sz_out){</td>
      </tr>
      <tr>
        <td id="L1327" class="blob-num js-line-number" data-line-number="1327"></td>
        <td id="LC1327" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports area_out from mapfile is everywhere zero. This is expected for bilinearly interpolated output maps produced by ESMF_RegridWeightGen. <span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1328" class="blob-num js-line-number" data-line-number="1328"></td>
        <td id="LC1328" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_2D &amp;&amp; flg_grd_out_rct &amp;&amp; (bnd_nbr_out == <span class="pl-c1">2</span> || bnd_nbr_out == <span class="pl-c1">4</span>)){</td>
      </tr>
      <tr>
        <td id="L1329" class="blob-num js-line-number" data-line-number="1329"></td>
        <td id="LC1329" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>Since the destination grid provides cell bounds information, NCO will diagnose area (and output it as a variable named <span class="pl-cce">\&quot;</span><span class="pl-c1">%s</span><span class="pl-cce">\&quot;</span>) from the destination gridcell boundaries. NCO diagnoses quadrilateral area for rectangular output grids from a formula that assumes that cell boundaries follow arcs of constant latitude and longitude. This differs from the area of cells with boundaries that follow great circle arcs (used by, e.g., ESMF_RegridWeightGen and Tempest). Be warned that NCO correctly diagnoses area for all convex polygons, yet not for most concave polygons. To determine whether the diagnosed areas are fully consistent with the output grid, one must know such exact details. If your grid has analytic areas that NCO does not yet diagnose correctly from provided cell boundaries, please contact us.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,rgr-&gt;area_nm);</td>
      </tr>
      <tr>
        <td id="L1330" class="blob-num js-line-number" data-line-number="1330"></td>
        <td id="LC1330" class="blob-code blob-code-inner js-file-line">      flg_dgn_area_out=True;</td>
      </tr>
      <tr>
        <td id="L1331" class="blob-num js-line-number" data-line-number="1331"></td>
        <td id="LC1331" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_out_2D &amp;&amp; flg_grd_out_crv &amp;&amp; (bnd_nbr_out == <span class="pl-c1">2</span> || bnd_nbr_out == <span class="pl-c1">4</span>)){</td>
      </tr>
      <tr>
        <td id="L1332" class="blob-num js-line-number" data-line-number="1332"></td>
        <td id="LC1332" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>Since the destination grid provides cell bounds information, NCO will diagnose area (and output it as a variable named <span class="pl-cce">\&quot;</span><span class="pl-c1">%s</span><span class="pl-cce">\&quot;</span>) from the destination gridcell boundaries. NCO diagnoses quadrilateral area for curvilinear output grids from formulae that assume that cell boundaries follow great circle arcs (as do, e.g., ESMF_RegridWeightGen and Tempest). This differs from the area of cells with boundaries that follow lines of constant latitude or longitude. Be warned that NCO correctly diagnoses area for all convex polygons, yet not for most concave polygons. To determine whether the diagnosed areas are fully consistent with the output grid, one must know such exact details. If your grid has analytic areas that NCO does not yet diagnose correctly from provided cell boundaries, please contact us.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,rgr-&gt;area_nm);</td>
      </tr>
      <tr>
        <td id="L1333" class="blob-num js-line-number" data-line-number="1333"></td>
        <td id="LC1333" class="blob-code blob-code-inner js-file-line">      flg_dgn_area_out=True;</td>
      </tr>
      <tr>
        <td id="L1334" class="blob-num js-line-number" data-line-number="1334"></td>
        <td id="LC1334" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_out_1D &amp;&amp; flg_bnd_1D_usable){</td>
      </tr>
      <tr>
        <td id="L1335" class="blob-num js-line-number" data-line-number="1335"></td>
        <td id="LC1335" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>Since the destination grid provides cell bounds information, NCO will diagnose area (and output it as a variable name <span class="pl-cce">\&quot;</span><span class="pl-c1">%s</span><span class="pl-cce">\&quot;</span>) from the destination gridcell boundaries. NCO diagnoses spherical polygon area for unstructured output grids from formulae that assume that cell boundaries follow great circle arcs (as do, e.g., ESMFRegridWeightGen and Tempest). This differs from the area of cells with boundaries that follow lines of constant latitude or longitude. Be warned that NCO correctly diagnoses area for all convex polygons, yet not for most concave polygons. To determine whether the diagnosed areas are fully consistent with the output grid, one must know such exact details. If your grid has analytic areas that NCO does not yet diagnose correctly from provided cell boundaries, please contact us.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,rgr-&gt;area_nm);</td>
      </tr>
      <tr>
        <td id="L1336" class="blob-num js-line-number" data-line-number="1336"></td>
        <td id="LC1336" class="blob-code blob-code-inner js-file-line">      flg_dgn_area_out=True;</td>
      </tr>
      <tr>
        <td id="L1337" class="blob-num js-line-number" data-line-number="1337"></td>
        <td id="LC1337" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span>{ <span class="pl-c">/* !1D */</span></td>
      </tr>
      <tr>
        <td id="L1338" class="blob-num js-line-number" data-line-number="1338"></td>
        <td id="LC1338" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>However, NCO cannot find enough boundary information, or it is too stupid about spherical trigonometry, to diagnose area_out. NCO will output an area variable (named <span class="pl-cce">\&quot;</span><span class="pl-c1">%s</span><span class="pl-cce">\&quot;</span>) copied from the input mapfile. This area will be everywhere zero.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,rgr-&gt;area_nm);</td>
      </tr>
      <tr>
        <td id="L1339" class="blob-num js-line-number" data-line-number="1339"></td>
        <td id="LC1339" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !2D */</span></td>
      </tr>
      <tr>
        <td id="L1340" class="blob-num js-line-number" data-line-number="1340"></td>
        <td id="LC1340" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !area */</span></td>
      </tr>
      <tr>
        <td id="L1341" class="blob-num js-line-number" data-line-number="1341"></td>
        <td id="LC1341" class="blob-code blob-code-inner js-file-line">      </td>
      </tr>
      <tr>
        <td id="L1342" class="blob-num js-line-number" data-line-number="1342"></td>
        <td id="LC1342" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_dgn_area_out){</td>
      </tr>
      <tr>
        <td id="L1343" class="blob-num js-line-number" data-line-number="1343"></td>
        <td id="LC1343" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_1D &amp;&amp; flg_bnd_1D_usable){</td>
      </tr>
      <tr>
        <td id="L1344" class="blob-num js-line-number" data-line-number="1344"></td>
        <td id="LC1344" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>INFO: Diagnosing area_out for 1D grid<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1345" class="blob-num js-line-number" data-line-number="1345"></td>
        <td id="LC1345" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Area of unstructured grids requires spherical trigonometry */</span></td>
      </tr>
      <tr>
        <td id="L1346" class="blob-num js-line-number" data-line-number="1346"></td>
        <td id="LC1346" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_sph_plg_area</span>(lat_bnd_out,lon_bnd_out,col_nbr_out,bnd_nbr_out,area_out);</td>
      </tr>
      <tr>
        <td id="L1347" class="blob-num js-line-number" data-line-number="1347"></td>
        <td id="LC1347" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !1D */</span></td>
      </tr>
      <tr>
        <td id="L1348" class="blob-num js-line-number" data-line-number="1348"></td>
        <td id="LC1348" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L1349" class="blob-num js-line-number" data-line-number="1349"></td>
        <td id="LC1349" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>INFO: Diagnosing area_out for curvilinear grid<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1350" class="blob-num js-line-number" data-line-number="1350"></td>
        <td id="LC1350" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Area of curvilinear grids requires spherical trigonometry */</span></td>
      </tr>
      <tr>
        <td id="L1351" class="blob-num js-line-number" data-line-number="1351"></td>
        <td id="LC1351" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_sph_plg_area</span>(lat_crn_out,lon_crn_out,grd_sz_out,bnd_nbr_out,area_out);</td>
      </tr>
      <tr>
        <td id="L1352" class="blob-num js-line-number" data-line-number="1352"></td>
        <td id="LC1352" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L1353" class="blob-num js-line-number" data-line-number="1353"></td>
        <td id="LC1353" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_rct &amp;&amp; nco_grd_2D_typ != nco_grd_2D_unk){</td>
      </tr>
      <tr>
        <td id="L1354" class="blob-num js-line-number" data-line-number="1354"></td>
        <td id="LC1354" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Mr. Enenstein and George O. Abell taught me the area of spherical zones</span></td>
      </tr>
      <tr>
        <td id="L1355" class="blob-num js-line-number" data-line-number="1355"></td>
        <td id="LC1355" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Spherical zone area is exact and faithful to underlying rectangular equi-angular grid</span></td>
      </tr>
      <tr>
        <td id="L1356" class="blob-num js-line-number" data-line-number="1356"></td>
        <td id="LC1356" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 However, ESMF and Tempest both appear to always approximate spherical polygons as connected by great circle arcs</span></td>
      </tr>
      <tr>
        <td id="L1357" class="blob-num js-line-number" data-line-number="1357"></td>
        <td id="LC1357" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 fxm: Distinguish spherical zone shapes (e.g., equi-angular) from great circle arcs (e.g., unstructured polygons) */</span></td>
      </tr>
      <tr>
        <td id="L1358" class="blob-num js-line-number" data-line-number="1358"></td>
        <td id="LC1358" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr_out;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L1359" class="blob-num js-line-number" data-line-number="1359"></td>
        <td id="LC1359" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr_out;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L1360" class="blob-num js-line-number" data-line-number="1360"></td>
        <td id="LC1360" class="blob-code blob-code-inner js-file-line">	  area_out[lat_idx*lon_nbr_out+lon_idx]=dgr2rdn*(lon_bnd_out[<span class="pl-c1">2</span>*lon_idx+<span class="pl-c1">1</span>]-lon_bnd_out[<span class="pl-c1">2</span>*lon_idx])*(<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">2</span>*lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd_out[<span class="pl-c1">2</span>*lat_idx]));</td>
      </tr>
      <tr>
        <td id="L1361" class="blob-num js-line-number" data-line-number="1361"></td>
        <td id="LC1361" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !spherical zones */</span></td>
      </tr>
      <tr>
        <td id="L1362" class="blob-num js-line-number" data-line-number="1362"></td>
        <td id="LC1362" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_dgn_area_out */</span></td>
      </tr>
      <tr>
        <td id="L1363" class="blob-num js-line-number" data-line-number="1363"></td>
        <td id="LC1363" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1364" class="blob-num js-line-number" data-line-number="1364"></td>
        <td id="LC1364" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;tst == -<span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L1365" class="blob-num js-line-number" data-line-number="1365"></td>
        <td id="LC1365" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Passing --rgr tst=-1 causes regridder to fail here </span></td>
      </tr>
      <tr>
        <td id="L1366" class="blob-num js-line-number" data-line-number="1366"></td>
        <td id="LC1366" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       This failure should cause host climo script to abort */</span></td>
      </tr>
      <tr>
        <td id="L1367" class="blob-num js-line-number" data-line-number="1367"></td>
        <td id="LC1367" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports regridder instructed to fail here. This tests failure mode in climo scripts...<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1368" class="blob-num js-line-number" data-line-number="1368"></td>
        <td id="LC1368" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1369" class="blob-num js-line-number" data-line-number="1369"></td>
        <td id="LC1369" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !tst */</span></td>
      </tr>
      <tr>
        <td id="L1370" class="blob-num js-line-number" data-line-number="1370"></td>
        <td id="LC1370" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1371" class="blob-num js-line-number" data-line-number="1371"></td>
        <td id="LC1371" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Verify frc_out is sometimes non-zero</span></td>
      </tr>
      <tr>
        <td id="L1372" class="blob-num js-line-number" data-line-number="1372"></td>
        <td id="LC1372" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF: &quot;For bilinear and patch remapping, the destination grid frac array [brac_b] is one where the grid point participates in the remapping and zero otherwise. For bilinear and patch remapping, the source grid frac array is always set to zero.&quot; */</span></td>
      </tr>
      <tr>
        <td id="L1373" class="blob-num js-line-number" data-line-number="1373"></td>
        <td id="LC1373" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1374" class="blob-num js-line-number" data-line-number="1374"></td>
        <td id="LC1374" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(frc_out[idx] != <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1375" class="blob-num js-line-number" data-line-number="1375"></td>
        <td id="LC1375" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(idx == (<span class="pl-k">long</span>)grd_sz_out){</td>
      </tr>
      <tr>
        <td id="L1376" class="blob-num js-line-number" data-line-number="1376"></td>
        <td id="LC1376" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports frc_out contains all zeros<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1377" class="blob-num js-line-number" data-line-number="1377"></td>
        <td id="LC1377" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1378" class="blob-num js-line-number" data-line-number="1378"></td>
        <td id="LC1378" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !always zero */</span></td>
      </tr>
      <tr>
        <td id="L1379" class="blob-num js-line-number" data-line-number="1379"></td>
        <td id="LC1379" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Test whether frc_out is ever zero... */</span></td>
      </tr>
      <tr>
        <td id="L1380" class="blob-num js-line-number" data-line-number="1380"></td>
        <td id="LC1380" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1381" class="blob-num js-line-number" data-line-number="1381"></td>
        <td id="LC1381" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(frc_out[idx] == <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1382" class="blob-num js-line-number" data-line-number="1382"></td>
        <td id="LC1382" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std)</td>
      </tr>
      <tr>
        <td id="L1383" class="blob-num js-line-number" data-line-number="1383"></td>
        <td id="LC1383" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(idx != (<span class="pl-k">long</span>)grd_sz_out)</td>
      </tr>
      <tr>
        <td id="L1384" class="blob-num js-line-number" data-line-number="1384"></td>
        <td id="LC1384" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports frc_out contains zero-elements (e.g., at 1D idx=<span class="pl-c1">%ld</span>)<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,idx);</td>
      </tr>
      <tr>
        <td id="L1385" class="blob-num js-line-number" data-line-number="1385"></td>
        <td id="LC1385" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Normalizing by frc_out is redundant iff frc_out == 1.0, so we can save time without sacrificing accuracy</span></td>
      </tr>
      <tr>
        <td id="L1386" class="blob-num js-line-number" data-line-number="1386"></td>
        <td id="LC1386" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     However, frc_out is often (e.g., for CS &lt;-&gt; RLL maps) close but not equal to unity (an ESMF_Regrid_Weight_Gen issue?)</span></td>
      </tr>
      <tr>
        <td id="L1387" class="blob-num js-line-number" data-line-number="1387"></td>
        <td id="LC1387" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Hence, decide whether to normalize by frc_out by diagnosing the furthest excursion of frc_out from unity */</span></td>
      </tr>
      <tr>
        <td id="L1388" class="blob-num js-line-number" data-line-number="1388"></td>
        <td id="LC1388" class="blob-code blob-code-inner js-file-line">  nco_bool flg_frc_out_one=True;</td>
      </tr>
      <tr>
        <td id="L1389" class="blob-num js-line-number" data-line-number="1389"></td>
        <td id="LC1389" class="blob-code blob-code-inner js-file-line">  nco_bool flg_frc_out_wrt=False;</td>
      </tr>
      <tr>
        <td id="L1390" class="blob-num js-line-number" data-line-number="1390"></td>
        <td id="LC1390" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> frc_out_dff_one; <span class="pl-c">/* [frc] Deviation of frc_out from 1.0 */</span></td>
      </tr>
      <tr>
        <td id="L1391" class="blob-num js-line-number" data-line-number="1391"></td>
        <td id="LC1391" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> frc_out_dff_one_max=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Maximum deviation of frc_out from 1.0 */</span></td>
      </tr>
      <tr>
        <td id="L1392" class="blob-num js-line-number" data-line-number="1392"></td>
        <td id="LC1392" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx_max_dvn; <span class="pl-c">/* [idx] Index of maximum deviation from 1.0 */</span></td>
      </tr>
      <tr>
        <td id="L1393" class="blob-num js-line-number" data-line-number="1393"></td>
        <td id="LC1393" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;(<span class="pl-k">long</span>)grd_sz_out;idx++){</td>
      </tr>
      <tr>
        <td id="L1394" class="blob-num js-line-number" data-line-number="1394"></td>
        <td id="LC1394" class="blob-code blob-code-inner js-file-line">    frc_out_dff_one=<span class="pl-c1">fabs</span>(frc_out[idx]-<span class="pl-c1">1.0</span>);</td>
      </tr>
      <tr>
        <td id="L1395" class="blob-num js-line-number" data-line-number="1395"></td>
        <td id="LC1395" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(frc_out_dff_one &gt; frc_out_dff_one_max){</td>
      </tr>
      <tr>
        <td id="L1396" class="blob-num js-line-number" data-line-number="1396"></td>
        <td id="LC1396" class="blob-code blob-code-inner js-file-line">      frc_out_dff_one_max=frc_out_dff_one;</td>
      </tr>
      <tr>
        <td id="L1397" class="blob-num js-line-number" data-line-number="1397"></td>
        <td id="LC1397" class="blob-code blob-code-inner js-file-line">      idx_max_dvn=idx;</td>
      </tr>
      <tr>
        <td id="L1398" class="blob-num js-line-number" data-line-number="1398"></td>
        <td id="LC1398" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !max */</span></td>
      </tr>
      <tr>
        <td id="L1399" class="blob-num js-line-number" data-line-number="1399"></td>
        <td id="LC1399" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L1400" class="blob-num js-line-number" data-line-number="1400"></td>
        <td id="LC1400" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(frc_out_dff_one_max &gt; eps_rlt) flg_frc_out_one=False;</td>
      </tr>
      <tr>
        <td id="L1401" class="blob-num js-line-number" data-line-number="1401"></td>
        <td id="LC1401" class="blob-code blob-code-inner js-file-line">  nco_bool flg_frc_nrm=False; <span class="pl-c">/* [flg] Must normalize by frc_out because frc_out is not always unity and specified normalization is destarea or none */</span></td>
      </tr>
      <tr>
        <td id="L1402" class="blob-num js-line-number" data-line-number="1402"></td>
        <td id="LC1402" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!flg_frc_out_one &amp;&amp; nco_rgr_mth_typ == nco_rgr_mth_conservative &amp;&amp; (nco_rgr_nrm_typ == nco_rgr_nrm_destarea || nco_rgr_nrm_typ == nco_rgr_nrm_none)){</td>
      </tr>
      <tr>
        <td id="L1403" class="blob-num js-line-number" data-line-number="1403"></td>
        <td id="LC1403" class="blob-code blob-code-inner js-file-line">    flg_frc_nrm=True;</td>
      </tr>
      <tr>
        <td id="L1404" class="blob-num js-line-number" data-line-number="1404"></td>
        <td id="LC1404" class="blob-code blob-code-inner js-file-line">    flg_frc_out_wrt=True;</td>
      </tr>
      <tr>
        <td id="L1405" class="blob-num js-line-number" data-line-number="1405"></td>
        <td id="LC1405" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports global metadata specifies conservative remapping with normalization of type = <span class="pl-c1">%s</span>. Furthermore, destination fractions frc_dst = dst_frac = frac_b = frc_out contain non-unity elements (maximum deviation from unity of <span class="pl-c1">%g</span> occurs for frc_out[<span class="pl-c1">%ld</span>] = <span class="pl-c1">%g</span>). Thus normalization issues cannot be ignored. Will apply <span class="pl-cce">\&#39;</span>destarea<span class="pl-cce">\&#39;</span> normalization (i.e., divide by non-zero frc_out[dst_idx]) to all regridded arrays.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_rgr_nrm_sng</span>(nco_rgr_nrm_typ),frc_out_dff_one_max,idx_max_dvn,frc_out[idx_max_dvn]);</td>
      </tr>
      <tr>
        <td id="L1406" class="blob-num js-line-number" data-line-number="1406"></td>
        <td id="LC1406" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !sometimes non-unity */</span></td>
      </tr>
      <tr>
        <td id="L1407" class="blob-num js-line-number" data-line-number="1407"></td>
        <td id="LC1407" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_frc_nrm &amp;&amp; rgr-&gt;flg_rnr){</td>
      </tr>
      <tr>
        <td id="L1408" class="blob-num js-line-number" data-line-number="1408"></td>
        <td id="LC1408" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports manual request (with --rnr) to renormalize fields with non-unity frc_dst = dst_frac = frac_b at same time global metadata specifies normalization type = <span class="pl-c1">%s</span>. Normalizing twice may be an error, depending on intent of each. Call Charlie and tell him how NCO should handle this :)<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_rgr_nrm_sng</span>(nco_rgr_nrm_typ));</td>
      </tr>
      <tr>
        <td id="L1409" class="blob-num js-line-number" data-line-number="1409"></td>
        <td id="LC1409" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1410" class="blob-num js-line-number" data-line-number="1410"></td>
        <td id="LC1410" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_rnr */</span></td>
      </tr>
      <tr>
        <td id="L1411" class="blob-num js-line-number" data-line-number="1411"></td>
        <td id="LC1411" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1412" class="blob-num js-line-number" data-line-number="1412"></td>
        <td id="LC1412" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Detailed summary of 2D grids now available including quality-checked coordinates and area */</span></td>
      </tr>
      <tr>
        <td id="L1413" class="blob-num js-line-number" data-line-number="1413"></td>
        <td id="LC1413" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr){</td>
      </tr>
      <tr>
        <td id="L1414" class="blob-num js-line-number" data-line-number="1414"></td>
        <td id="LC1414" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L1415" class="blob-num js-line-number" data-line-number="1415"></td>
        <td id="LC1415" class="blob-code blob-code-inner js-file-line">    area_out_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L1416" class="blob-num js-line-number" data-line-number="1416"></td>
        <td id="LC1416" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1417" class="blob-num js-line-number" data-line-number="1417"></td>
        <td id="LC1417" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports destination rectangular latitude grid:<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1418" class="blob-num js-line-number" data-line-number="1418"></td>
        <td id="LC1418" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++)</td>
      </tr>
      <tr>
        <td id="L1419" class="blob-num js-line-number" data-line-number="1419"></td>
        <td id="LC1419" class="blob-code blob-code-inner js-file-line">	lat_wgt_ttl+=lat_wgt_out[idx];</td>
      </tr>
      <tr>
        <td id="L1420" class="blob-num js-line-number" data-line-number="1420"></td>
        <td id="LC1420" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1421" class="blob-num js-line-number" data-line-number="1421"></td>
        <td id="LC1421" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr_out;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L1422" class="blob-num js-line-number" data-line-number="1422"></td>
        <td id="LC1422" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr_out;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L1423" class="blob-num js-line-number" data-line-number="1423"></td>
        <td id="LC1423" class="blob-code blob-code-inner js-file-line">	area_out_ttl+=area_out[lat_idx*lon_nbr_out+lon_idx];</td>
      </tr>
      <tr>
        <td id="L1424" class="blob-num js-line-number" data-line-number="1424"></td>
        <td id="LC1424" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_wgt_ttl = <span class="pl-c1">%20.15f</span>, frc_lat_wgt = <span class="pl-c1">%20.15f</span>, area_ttl = <span class="pl-c1">%20.15f</span>, frc_area = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_wgt_ttl,lat_wgt_ttl/<span class="pl-c1">2.0</span>,area_out_ttl,area_out_ttl/(<span class="pl-c1">4.0</span>*M_PI));</td>
      </tr>
      <tr>
        <td id="L1425" class="blob-num js-line-number" data-line-number="1425"></td>
        <td id="LC1425" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1426" class="blob-num js-line-number" data-line-number="1426"></td>
        <td id="LC1426" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr_out;idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lon[<span class="pl-c1">%li</span>] = [<span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,idx,lon_bnd_out[<span class="pl-c1">2</span>*idx],lon_ctr_out[idx],lon_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L1427" class="blob-num js-line-number" data-line-number="1427"></td>
        <td id="LC1427" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = [<span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>, <span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,idx,lat_bnd_out[<span class="pl-c1">2</span>*idx],lat_ctr_out[idx],lat_bnd_out[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L1428" class="blob-num js-line-number" data-line-number="1428"></td>
        <td id="LC1428" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr_out;idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>], wgt[<span class="pl-c1">%li</span>] = <span class="pl-c1">%20.15f</span>, <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,idx,idx,lat_ctr_out[idx],lat_wgt_out[idx]);</td>
      </tr>
      <tr>
        <td id="L1429" class="blob-num js-line-number" data-line-number="1429"></td>
        <td id="LC1429" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1430" class="blob-num js-line-number" data-line-number="1430"></td>
        <td id="LC1430" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt; nco_dbg_crr)</td>
      </tr>
      <tr>
        <td id="L1431" class="blob-num js-line-number" data-line-number="1431"></td>
        <td id="LC1431" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr_out;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L1432" class="blob-num js-line-number" data-line-number="1432"></td>
        <td id="LC1432" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr_out;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L1433" class="blob-num js-line-number" data-line-number="1433"></td>
        <td id="LC1433" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, lon[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, area[<span class="pl-c1">%li</span>,<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_idx,lat_ctr_out[lat_idx],lon_idx,lon_ctr_out[lon_idx],lat_idx,lon_idx,area_out[lat_idx*lon_nbr_out+lon_idx]);</td>
      </tr>
      <tr>
        <td id="L1434" class="blob-num js-line-number" data-line-number="1434"></td>
        <td id="LC1434" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_out_ttl &gt; <span class="pl-c1">0.0</span>);</td>
      </tr>
      <tr>
        <td id="L1435" class="blob-num js-line-number" data-line-number="1435"></td>
        <td id="LC1435" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_out_ttl &lt;= <span class="pl-c1">4.0</span>*M_PI);</td>
      </tr>
      <tr>
        <td id="L1436" class="blob-num js-line-number" data-line-number="1436"></td>
        <td id="LC1436" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L1437" class="blob-num js-line-number" data-line-number="1437"></td>
        <td id="LC1437" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1438" class="blob-num js-line-number" data-line-number="1438"></td>
        <td id="LC1438" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space for and obtain weights and addresses */</span></td>
      </tr>
      <tr>
        <td id="L1439" class="blob-num js-line-number" data-line-number="1439"></td>
        <td id="LC1439" class="blob-code blob-code-inner js-file-line">  wgt_raw=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc_dbg</span>(rgr_map.<span class="pl-smi">num_links</span>*<span class="pl-c1">nco_typ_lng</span>(NC_DOUBLE),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() value buffer for remapping weights<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1440" class="blob-num js-line-number" data-line-number="1440"></td>
        <td id="LC1440" class="blob-code blob-code-inner js-file-line">  col_src_adr=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc_dbg</span>(rgr_map.<span class="pl-smi">num_links</span>*<span class="pl-c1">nco_typ_lng</span>(NC_INT),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() value buffer for remapping addresses<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1441" class="blob-num js-line-number" data-line-number="1441"></td>
        <td id="LC1441" class="blob-code blob-code-inner js-file-line">  row_dst_adr=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc_dbg</span>(rgr_map.<span class="pl-smi">num_links</span>*<span class="pl-c1">nco_typ_lng</span>(NC_INT),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() value buffer for remapping addresses<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1442" class="blob-num js-line-number" data-line-number="1442"></td>
        <td id="LC1442" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1443" class="blob-num js-line-number" data-line-number="1443"></td>
        <td id="LC1443" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Obtain remap matrix addresses and weights from map file */</span></td>
      </tr>
      <tr>
        <td id="L1444" class="blob-num js-line-number" data-line-number="1444"></td>
        <td id="LC1444" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1445" class="blob-num js-line-number" data-line-number="1445"></td>
        <td id="LC1445" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">num_links</span>;</td>
      </tr>
      <tr>
        <td id="L1446" class="blob-num js-line-number" data-line-number="1446"></td>
        <td id="LC1446" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,col_src_adr_id,dmn_srt,dmn_cnt,col_src_adr,NC_INT);</td>
      </tr>
      <tr>
        <td id="L1447" class="blob-num js-line-number" data-line-number="1447"></td>
        <td id="LC1447" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_get_vara</span>(in_id,row_dst_adr_id,dmn_srt,dmn_cnt,row_dst_adr,NC_INT);</td>
      </tr>
      <tr>
        <td id="L1448" class="blob-num js-line-number" data-line-number="1448"></td>
        <td id="LC1448" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1449" class="blob-num js-line-number" data-line-number="1449"></td>
        <td id="LC1449" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=rgr_map.<span class="pl-smi">num_links</span>;</td>
      </tr>
      <tr>
        <td id="L1450" class="blob-num js-line-number" data-line-number="1450"></td>
        <td id="LC1450" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_mpf_typ != nco_rgr_mpf_SCRIP){</td>
      </tr>
      <tr>
        <td id="L1451" class="blob-num js-line-number" data-line-number="1451"></td>
        <td id="LC1451" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,wgt_raw_id,dmn_srt,dmn_cnt,wgt_raw,NC_DOUBLE);</td>
      </tr>
      <tr>
        <td id="L1452" class="blob-num js-line-number" data-line-number="1452"></td>
        <td id="LC1452" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span> <span class="pl-k">if</span>(nco_rgr_mpf_typ == nco_rgr_mpf_SCRIP){</td>
      </tr>
      <tr>
        <td id="L1453" class="blob-num js-line-number" data-line-number="1453"></td>
        <td id="LC1453" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* SCRIP mapfiles stored 2D weight array remap_matrix[num_links,num_wgts]</span></td>
      </tr>
      <tr>
        <td id="L1454" class="blob-num js-line-number" data-line-number="1454"></td>
        <td id="LC1454" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Apply only first weight for first-order conservative accuracy (i.e., area overlap)</span></td>
      </tr>
      <tr>
        <td id="L1455" class="blob-num js-line-number" data-line-number="1455"></td>
        <td id="LC1455" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Applying all three weights for second-order conservative accuracy (by including gradients from centroid to vertices) */</span></td>
      </tr>
      <tr>
        <td id="L1456" class="blob-num js-line-number" data-line-number="1456"></td>
        <td id="LC1456" class="blob-code blob-code-inner js-file-line">    dmn_srd[<span class="pl-c1">0</span>]=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L1457" class="blob-num js-line-number" data-line-number="1457"></td>
        <td id="LC1457" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L1458" class="blob-num js-line-number" data-line-number="1458"></td>
        <td id="LC1458" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L1459" class="blob-num js-line-number" data-line-number="1459"></td>
        <td id="LC1459" class="blob-code blob-code-inner js-file-line">    dmn_srd[<span class="pl-c1">1</span>]=rgr_map.<span class="pl-smi">num_wgts</span>;</td>
      </tr>
      <tr>
        <td id="L1460" class="blob-num js-line-number" data-line-number="1460"></td>
        <td id="LC1460" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vars</span>(in_id,wgt_raw_id,dmn_srt,dmn_cnt,dmn_srd,wgt_raw,NC_DOUBLE);</td>
      </tr>
      <tr>
        <td id="L1461" class="blob-num js-line-number" data-line-number="1461"></td>
        <td id="LC1461" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !SCRIP */</span></td>
      </tr>
      <tr>
        <td id="L1462" class="blob-num js-line-number" data-line-number="1462"></td>
        <td id="LC1462" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1463" class="blob-num js-line-number" data-line-number="1463"></td>
        <td id="LC1463" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Pre-subtract one from row/column addresses (stored, by convention, as Fortran indices) to optimize access with C indices */</span></td>
      </tr>
      <tr>
        <td id="L1464" class="blob-num js-line-number" data-line-number="1464"></td>
        <td id="LC1464" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> lnk_nbr; <span class="pl-c">/* [nbr] Number of links */</span></td>
      </tr>
      <tr>
        <td id="L1465" class="blob-num js-line-number" data-line-number="1465"></td>
        <td id="LC1465" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> lnk_idx; <span class="pl-c">/* [idx] Link index */</span></td>
      </tr>
      <tr>
        <td id="L1466" class="blob-num js-line-number" data-line-number="1466"></td>
        <td id="LC1466" class="blob-code blob-code-inner js-file-line">  lnk_nbr=rgr_map.<span class="pl-smi">num_links</span>;</td>
      </tr>
      <tr>
        <td id="L1467" class="blob-num js-line-number" data-line-number="1467"></td>
        <td id="LC1467" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++) row_dst_adr[lnk_idx]--;</td>
      </tr>
      <tr>
        <td id="L1468" class="blob-num js-line-number" data-line-number="1468"></td>
        <td id="LC1468" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++) col_src_adr[lnk_idx]--;</td>
      </tr>
      <tr>
        <td id="L1469" class="blob-num js-line-number" data-line-number="1469"></td>
        <td id="LC1469" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_io){</td>
      </tr>
      <tr>
        <td id="L1470" class="blob-num js-line-number" data-line-number="1470"></td>
        <td id="LC1470" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>idx row_dst col_src wgt_raw<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1471" class="blob-num js-line-number" data-line-number="1471"></td>
        <td id="LC1471" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%li</span> <span class="pl-c1">%d</span> <span class="pl-c1">%d</span> <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lnk_idx,row_dst_adr[lnk_idx],col_src_adr[lnk_idx],wgt_raw[lnk_idx]);</td>
      </tr>
      <tr>
        <td id="L1472" class="blob-num js-line-number" data-line-number="1472"></td>
        <td id="LC1472" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L1473" class="blob-num js-line-number" data-line-number="1473"></td>
        <td id="LC1473" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1474" class="blob-num js-line-number" data-line-number="1474"></td>
        <td id="LC1474" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free memory associated with input file */</span></td>
      </tr>
      <tr>
        <td id="L1475" class="blob-num js-line-number" data-line-number="1475"></td>
        <td id="LC1475" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_srt) dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_srt);</td>
      </tr>
      <tr>
        <td id="L1476" class="blob-num js-line-number" data-line-number="1476"></td>
        <td id="LC1476" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_cnt) dmn_cnt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_cnt);</td>
      </tr>
      <tr>
        <td id="L1477" class="blob-num js-line-number" data-line-number="1477"></td>
        <td id="LC1477" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_srd) dmn_srd=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_srd);</td>
      </tr>
      <tr>
        <td id="L1478" class="blob-num js-line-number" data-line-number="1478"></td>
        <td id="LC1478" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1479" class="blob-num js-line-number" data-line-number="1479"></td>
        <td id="LC1479" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Close input netCDF file */</span></td>
      </tr>
      <tr>
        <td id="L1480" class="blob-num js-line-number" data-line-number="1480"></td>
        <td id="LC1480" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">nco_close</span>(in_id);</td>
      </tr>
      <tr>
        <td id="L1481" class="blob-num js-line-number" data-line-number="1481"></td>
        <td id="LC1481" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1482" class="blob-num js-line-number" data-line-number="1482"></td>
        <td id="LC1482" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Remove local copy of file */</span></td>
      </tr>
      <tr>
        <td id="L1483" class="blob-num js-line-number" data-line-number="1483"></td>
        <td id="LC1483" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(FL_RTR_RMT_LCN &amp;&amp; RM_RMT_FL_PST_PRC) (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_rm</span>(fl_in);</td>
      </tr>
      <tr>
        <td id="L1484" class="blob-num js-line-number" data-line-number="1484"></td>
        <td id="LC1484" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1485" class="blob-num js-line-number" data-line-number="1485"></td>
        <td id="LC1485" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Above this line, fl_in and in_id refer to map file</span></td>
      </tr>
      <tr>
        <td id="L1486" class="blob-num js-line-number" data-line-number="1486"></td>
        <td id="LC1486" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Below this line, fl_in and in_id refer to input file to be regridded */</span></td>
      </tr>
      <tr>
        <td id="L1487" class="blob-num js-line-number" data-line-number="1487"></td>
        <td id="LC1487" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1488" class="blob-num js-line-number" data-line-number="1488"></td>
        <td id="LC1488" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Initialize */</span></td>
      </tr>
      <tr>
        <td id="L1489" class="blob-num js-line-number" data-line-number="1489"></td>
        <td id="LC1489" class="blob-code blob-code-inner js-file-line">  in_id=rgr-&gt;in_id;</td>
      </tr>
      <tr>
        <td id="L1490" class="blob-num js-line-number" data-line-number="1490"></td>
        <td id="LC1490" class="blob-code blob-code-inner js-file-line">  out_id=rgr-&gt;out_id;</td>
      </tr>
      <tr>
        <td id="L1491" class="blob-num js-line-number" data-line-number="1491"></td>
        <td id="LC1491" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1492" class="blob-num js-line-number" data-line-number="1492"></td>
        <td id="LC1492" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Sanity check that input data file matches expectations from mapfile */</span></td>
      </tr>
      <tr>
        <td id="L1493" class="blob-num js-line-number" data-line-number="1493"></td>
        <td id="LC1493" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *col_nm_in=rgr-&gt;col_nm_in; <span class="pl-c">/* [sng] Name to recognize as input horizontal spatial dimension on unstructured grid */</span></td>
      </tr>
      <tr>
        <td id="L1494" class="blob-num js-line-number" data-line-number="1494"></td>
        <td id="LC1494" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_nm_in=rgr-&gt;lat_nm_in; <span class="pl-c">/* [sng] Name of input dimension to recognize as latitude */</span></td>
      </tr>
      <tr>
        <td id="L1495" class="blob-num js-line-number" data-line-number="1495"></td>
        <td id="LC1495" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_nm_in=rgr-&gt;lon_nm_in; <span class="pl-c">/* [sng] Name of input dimension to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L1496" class="blob-num js-line-number" data-line-number="1496"></td>
        <td id="LC1496" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_col; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L1497" class="blob-num js-line-number" data-line-number="1497"></td>
        <td id="LC1497" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_lat; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L1498" class="blob-num js-line-number" data-line-number="1498"></td>
        <td id="LC1498" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_lon; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L1499" class="blob-num js-line-number" data-line-number="1499"></td>
        <td id="LC1499" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_in_1D){</td>
      </tr>
      <tr>
        <td id="L1500" class="blob-num js-line-number" data-line-number="1500"></td>
        <td id="LC1500" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> col_nbr_in_dat; <span class="pl-c">/* [nbr] Number of columns in input datafile */</span></td>
      </tr>
      <tr>
        <td id="L1501" class="blob-num js-line-number" data-line-number="1501"></td>
        <td id="LC1501" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimid</span>(in_id,col_nm_in,&amp;dmn_id_col);</td>
      </tr>
      <tr>
        <td id="L1502" class="blob-num js-line-number" data-line-number="1502"></td>
        <td id="LC1502" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_col,&amp;col_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1503" class="blob-num js-line-number" data-line-number="1503"></td>
        <td id="LC1503" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(col_nbr_in != col_nbr_in_dat){</td>
      </tr>
      <tr>
        <td id="L1504" class="blob-num js-line-number" data-line-number="1504"></td>
        <td id="LC1504" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports mapfile and data file dimension sizes disagree: mapfile col_nbr_in = <span class="pl-c1">%ld</span> != <span class="pl-c1">%ld</span> = col_nbr_in from datafile. HINT: Check that source grid (i.e., <span class="pl-cce">\&quot;</span>grid A<span class="pl-cce">\&quot;</span>) used to create mapfile matches grid on which data are stored in input datafile.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,col_nbr_in,col_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1505" class="blob-num js-line-number" data-line-number="1505"></td>
        <td id="LC1505" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1506" class="blob-num js-line-number" data-line-number="1506"></td>
        <td id="LC1506" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !err */</span></td>
      </tr>
      <tr>
        <td id="L1507" class="blob-num js-line-number" data-line-number="1507"></td>
        <td id="LC1507" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !1D */</span></td>
      </tr>
      <tr>
        <td id="L1508" class="blob-num js-line-number" data-line-number="1508"></td>
        <td id="LC1508" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_in_2D){</td>
      </tr>
      <tr>
        <td id="L1509" class="blob-num js-line-number" data-line-number="1509"></td>
        <td id="LC1509" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> lat_nbr_in_dat; <span class="pl-c">/* [nbr] Number of latitudes in input datafile */</span></td>
      </tr>
      <tr>
        <td id="L1510" class="blob-num js-line-number" data-line-number="1510"></td>
        <td id="LC1510" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,lat_nm_in,&amp;dmn_id_lat);</td>
      </tr>
      <tr>
        <td id="L1511" class="blob-num js-line-number" data-line-number="1511"></td>
        <td id="LC1511" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1512" class="blob-num js-line-number" data-line-number="1512"></td>
        <td id="LC1512" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1513" class="blob-num js-line-number" data-line-number="1513"></td>
        <td id="LC1513" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1514" class="blob-num js-line-number" data-line-number="1514"></td>
        <td id="LC1514" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1515" class="blob-num js-line-number" data-line-number="1515"></td>
        <td id="LC1515" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1516" class="blob-num js-line-number" data-line-number="1516"></td>
        <td id="LC1516" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>south_north<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>south_north<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1517" class="blob-num js-line-number" data-line-number="1517"></td>
        <td id="LC1517" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>south_north_stag<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>south_north_stag<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1518" class="blob-num js-line-number" data-line-number="1518"></td>
        <td id="LC1518" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>YDim:location<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>YDim:location<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1519" class="blob-num js-line-number" data-line-number="1519"></td>
        <td id="LC1519" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nj<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nj<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1520" class="blob-num js-line-number" data-line-number="1520"></td>
        <td id="LC1520" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nTimes<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nTimes<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1521" class="blob-num js-line-number" data-line-number="1521"></td>
        <td id="LC1521" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1522" class="blob-num js-line-number" data-line-number="1522"></td>
        <td id="LC1522" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1523" class="blob-num js-line-number" data-line-number="1523"></td>
        <td id="LC1523" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1524" class="blob-num js-line-number" data-line-number="1524"></td>
        <td id="LC1524" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports unable to find latitude dimension in input file. Tried the usual suspects. HINT: Inform regridder of latitude dimension name with --rgr lat_nm=name<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1525" class="blob-num js-line-number" data-line-number="1525"></td>
        <td id="LC1525" class="blob-code blob-code-inner js-file-line">	<span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1526" class="blob-num js-line-number" data-line-number="1526"></td>
        <td id="LC1526" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L1527" class="blob-num js-line-number" data-line-number="1527"></td>
        <td id="LC1527" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1528" class="blob-num js-line-number" data-line-number="1528"></td>
        <td id="LC1528" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_lat,&amp;lat_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1529" class="blob-num js-line-number" data-line-number="1529"></td>
        <td id="LC1529" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_nbr_in != lat_nbr_in_dat){</td>
      </tr>
      <tr>
        <td id="L1530" class="blob-num js-line-number" data-line-number="1530"></td>
        <td id="LC1530" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports mapfile and data file dimension sizes disagree: mapfile lat_nbr_in = <span class="pl-c1">%ld</span> != <span class="pl-c1">%ld</span> = lat_nbr_in from datafile. HINT: Check that source grid (i.e., <span class="pl-cce">\&quot;</span>grid A<span class="pl-cce">\&quot;</span>) used to create mapfile matches grid on which data are stored in input datafile.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_nbr_in,lat_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1531" class="blob-num js-line-number" data-line-number="1531"></td>
        <td id="LC1531" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1532" class="blob-num js-line-number" data-line-number="1532"></td>
        <td id="LC1532" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !err */</span></td>
      </tr>
      <tr>
        <td id="L1533" class="blob-num js-line-number" data-line-number="1533"></td>
        <td id="LC1533" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> lon_nbr_in_dat; <span class="pl-c">/* [nbr] Number of longitudes in input datafile */</span></td>
      </tr>
      <tr>
        <td id="L1534" class="blob-num js-line-number" data-line-number="1534"></td>
        <td id="LC1534" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,lon_nm_in,&amp;dmn_id_lon);</td>
      </tr>
      <tr>
        <td id="L1535" class="blob-num js-line-number" data-line-number="1535"></td>
        <td id="LC1535" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1536" class="blob-num js-line-number" data-line-number="1536"></td>
        <td id="LC1536" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1537" class="blob-num js-line-number" data-line-number="1537"></td>
        <td id="LC1537" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1538" class="blob-num js-line-number" data-line-number="1538"></td>
        <td id="LC1538" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1539" class="blob-num js-line-number" data-line-number="1539"></td>
        <td id="LC1539" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1540" class="blob-num js-line-number" data-line-number="1540"></td>
        <td id="LC1540" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>west_east<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>west_east<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1541" class="blob-num js-line-number" data-line-number="1541"></td>
        <td id="LC1541" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>west_east_stag<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>west_east_stag<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1542" class="blob-num js-line-number" data-line-number="1542"></td>
        <td id="LC1542" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>XDim:location<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>XDim:location<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1543" class="blob-num js-line-number" data-line-number="1543"></td>
        <td id="LC1543" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>ni<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ni<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1544" class="blob-num js-line-number" data-line-number="1544"></td>
        <td id="LC1544" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nXtrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nXtrack<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1545" class="blob-num js-line-number" data-line-number="1545"></td>
        <td id="LC1545" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1546" class="blob-num js-line-number" data-line-number="1546"></td>
        <td id="LC1546" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1547" class="blob-num js-line-number" data-line-number="1547"></td>
        <td id="LC1547" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1548" class="blob-num js-line-number" data-line-number="1548"></td>
        <td id="LC1548" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports unable to find longitude dimension in input file. Tried the usual suspects. HINT: Inform regridder of longitude dimension name with --rgr lon_nm=name<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1549" class="blob-num js-line-number" data-line-number="1549"></td>
        <td id="LC1549" class="blob-code blob-code-inner js-file-line">	<span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1550" class="blob-num js-line-number" data-line-number="1550"></td>
        <td id="LC1550" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L1551" class="blob-num js-line-number" data-line-number="1551"></td>
        <td id="LC1551" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1552" class="blob-num js-line-number" data-line-number="1552"></td>
        <td id="LC1552" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_lon,&amp;lon_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1553" class="blob-num js-line-number" data-line-number="1553"></td>
        <td id="LC1553" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_nbr_in != lon_nbr_in_dat){</td>
      </tr>
      <tr>
        <td id="L1554" class="blob-num js-line-number" data-line-number="1554"></td>
        <td id="LC1554" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports mapfile and data file dimension sizes disagree: mapfile lon_nbr_in = <span class="pl-c1">%ld</span> != <span class="pl-c1">%ld</span> = lon_nbr_in from datafile. HINT: Check that source grid (i.e., <span class="pl-cce">\&quot;</span>grid A<span class="pl-cce">\&quot;</span>) used to create mapfile matches grid on which data are stored in input datafile.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lon_nbr_in,lon_nbr_in_dat);</td>
      </tr>
      <tr>
        <td id="L1555" class="blob-num js-line-number" data-line-number="1555"></td>
        <td id="LC1555" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L1556" class="blob-num js-line-number" data-line-number="1556"></td>
        <td id="LC1556" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !err */</span></td>
      </tr>
      <tr>
        <td id="L1557" class="blob-num js-line-number" data-line-number="1557"></td>
        <td id="LC1557" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !2D */</span></td>
      </tr>
      <tr>
        <td id="L1558" class="blob-num js-line-number" data-line-number="1558"></td>
        <td id="LC1558" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1559" class="blob-num js-line-number" data-line-number="1559"></td>
        <td id="LC1559" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Do not extract grid variables (that are also extensive variables) like lon, lat, and area</span></td>
      </tr>
      <tr>
        <td id="L1560" class="blob-num js-line-number" data-line-number="1560"></td>
        <td id="LC1560" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     If necessary, use remap data to diagnose them from scratch</span></td>
      </tr>
      <tr>
        <td id="L1561" class="blob-num js-line-number" data-line-number="1561"></td>
        <td id="LC1561" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Other extensive variables (like counts, population) will be extracted and summed not averaged */</span></td>
      </tr>
      <tr>
        <td id="L1562" class="blob-num js-line-number" data-line-number="1562"></td>
        <td id="LC1562" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> var_xcl_lst_nbr=<span class="pl-c1">21</span>; <span class="pl-c">/* [nbr] Number of objects on exclusion list */</span></td>
      </tr>
      <tr>
        <td id="L1563" class="blob-num js-line-number" data-line-number="1563"></td>
        <td id="LC1563" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Exception list source:</span></td>
      </tr>
      <tr>
        <td id="L1564" class="blob-num js-line-number" data-line-number="1564"></td>
        <td id="LC1564" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     CAM, CERES, CMIP5: lat, lon</span></td>
      </tr>
      <tr>
        <td id="L1565" class="blob-num js-line-number" data-line-number="1565"></td>
        <td id="LC1565" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     CAM, CMIP5: gw, lat_bnds, lon_bnds</span></td>
      </tr>
      <tr>
        <td id="L1566" class="blob-num js-line-number" data-line-number="1566"></td>
        <td id="LC1566" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     CAM-SE: area</span></td>
      </tr>
      <tr>
        <td id="L1567" class="blob-num js-line-number" data-line-number="1567"></td>
        <td id="LC1567" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     CICE: latt_bounds, lont_bounds, latu_bounds, lonu_bounds</span></td>
      </tr>
      <tr>
        <td id="L1568" class="blob-num js-line-number" data-line-number="1568"></td>
        <td id="LC1568" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF: gridcell_area</span></td>
      </tr>
      <tr>
        <td id="L1569" class="blob-num js-line-number" data-line-number="1569"></td>
        <td id="LC1569" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     MAR: LAT, LON</span></td>
      </tr>
      <tr>
        <td id="L1570" class="blob-num js-line-number" data-line-number="1570"></td>
        <td id="LC1570" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     MPAS-O: areaCell, latCell, lonCell</span></td>
      </tr>
      <tr>
        <td id="L1571" class="blob-num js-line-number" data-line-number="1571"></td>
        <td id="LC1571" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NCO: lat_vertices, lon_vertices</span></td>
      </tr>
      <tr>
        <td id="L1572" class="blob-num js-line-number" data-line-number="1572"></td>
        <td id="LC1572" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     UV-CDAT regridder: bounds_lat, bounds_lon</span></td>
      </tr>
      <tr>
        <td id="L1573" class="blob-num js-line-number" data-line-number="1573"></td>
        <td id="LC1573" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     WRF: XLAT, XLONG */</span></td>
      </tr>
      <tr>
        <td id="L1574" class="blob-num js-line-number" data-line-number="1574"></td>
        <td id="LC1574" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> *var_xcl_lst[]={<span class="pl-s"><span class="pl-pds">&quot;</span>/area<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/gridcell_area<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/gw<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/LAT<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lat<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/latitude<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/XLAT<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lat_bnds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lat_vertices<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/latt_bounds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/latu_bounds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/bounds_lat<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/LON<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lon<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/longitude<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/XLONG<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lon_bnds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lon_vertices<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lont_bounds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/lonu_bounds<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>/bounds_lon<span class="pl-pds">&quot;</span></span>};</td>
      </tr>
      <tr>
        <td id="L1575" class="blob-num js-line-number" data-line-number="1575"></td>
        <td id="LC1575" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_cpy_nbr=<span class="pl-c1">0</span>; <span class="pl-c">/* [nbr] Number of copied variables */</span></td>
      </tr>
      <tr>
        <td id="L1576" class="blob-num js-line-number" data-line-number="1576"></td>
        <td id="LC1576" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_rgr_nbr=<span class="pl-c1">0</span>; <span class="pl-c">/* [nbr] Number of regridded variables */</span></td>
      </tr>
      <tr>
        <td id="L1577" class="blob-num js-line-number" data-line-number="1577"></td>
        <td id="LC1577" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_xcl_nbr=<span class="pl-c1">0</span>; <span class="pl-c">/* [nbr] Number of deleted variables */</span></td>
      </tr>
      <tr>
        <td id="L1578" class="blob-num js-line-number" data-line-number="1578"></td>
        <td id="LC1578" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_crt_nbr=<span class="pl-c1">0</span>; <span class="pl-c">/* [nbr] Number of created variables */</span></td>
      </tr>
      <tr>
        <td id="L1579" class="blob-num js-line-number" data-line-number="1579"></td>
        <td id="LC1579" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_xtn_nbr=<span class="pl-c1">0</span>; <span class="pl-c">/* [nbr] Number of extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L1580" class="blob-num js-line-number" data-line-number="1580"></td>
        <td id="LC1580" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">unsigned</span> <span class="pl-k">int</span> idx_tbl; <span class="pl-c">/* [idx] Counter for traversal table */</span></td>
      </tr>
      <tr>
        <td id="L1581" class="blob-num js-line-number" data-line-number="1581"></td>
        <td id="LC1581" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> trv_nbr=trv_tbl-&gt;nbr; <span class="pl-c">/* [idx] Number of traversal table entries */</span></td>
      </tr>
      <tr>
        <td id="L1582" class="blob-num js-line-number" data-line-number="1582"></td>
        <td id="LC1582" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;var_xcl_lst_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L1583" class="blob-num js-line-number" data-line-number="1583"></td>
        <td id="LC1583" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++)</td>
      </tr>
      <tr>
        <td id="L1584" class="blob-num js-line-number" data-line-number="1584"></td>
        <td id="LC1584" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">nm_fll</span>,var_xcl_lst[idx])) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1585" class="blob-num js-line-number" data-line-number="1585"></td>
        <td id="LC1585" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(idx_tbl &lt; trv_nbr){</td>
      </tr>
      <tr>
        <td id="L1586" class="blob-num js-line-number" data-line-number="1586"></td>
        <td id="LC1586" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_xtr</span>){</td>
      </tr>
      <tr>
        <td id="L1587" class="blob-num js-line-number" data-line-number="1587"></td>
        <td id="LC1587" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO automatically omitting (not copying or regridding from input) pre-defined exclusion-list variable <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">nm_fll</span>);</td>
      </tr>
      <tr>
        <td id="L1588" class="blob-num js-line-number" data-line-number="1588"></td>
        <td id="LC1588" class="blob-code blob-code-inner js-file-line">	var_xcl_nbr++;</td>
      </tr>
      <tr>
        <td id="L1589" class="blob-num js-line-number" data-line-number="1589"></td>
        <td id="LC1589" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L1590" class="blob-num js-line-number" data-line-number="1590"></td>
        <td id="LC1590" class="blob-code blob-code-inner js-file-line">      trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_xtr</span>=False;</td>
      </tr>
      <tr>
        <td id="L1591" class="blob-num js-line-number" data-line-number="1591"></td>
        <td id="LC1591" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L1592" class="blob-num js-line-number" data-line-number="1592"></td>
        <td id="LC1592" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end loop */</span></td>
      </tr>
      <tr>
        <td id="L1593" class="blob-num js-line-number" data-line-number="1593"></td>
        <td id="LC1593" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L1594" class="blob-num js-line-number" data-line-number="1594"></td>
        <td id="LC1594" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *dmn_nm_cp; <span class="pl-c">/* [sng] Dimension name as char * to reduce indirection */</span></td>
      </tr>
      <tr>
        <td id="L1595" class="blob-num js-line-number" data-line-number="1595"></td>
        <td id="LC1595" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_idx; <span class="pl-c">/* [idx] Dimension index */</span></td>
      </tr>
      <tr>
        <td id="L1596" class="blob-num js-line-number" data-line-number="1596"></td>
        <td id="LC1596" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_nbr_in; <span class="pl-c">/* [nbr] Number of dimensions in input variable */</span></td>
      </tr>
      <tr>
        <td id="L1597" class="blob-num js-line-number" data-line-number="1597"></td>
        <td id="LC1597" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_nbr_out; <span class="pl-c">/* [nbr] Number of dimensions in output variable */</span></td>
      </tr>
      <tr>
        <td id="L1598" class="blob-num js-line-number" data-line-number="1598"></td>
        <td id="LC1598" class="blob-code blob-code-inner js-file-line">  nco_bool has_lon; <span class="pl-c">/* [flg] Contains longitude dimension */</span></td>
      </tr>
      <tr>
        <td id="L1599" class="blob-num js-line-number" data-line-number="1599"></td>
        <td id="LC1599" class="blob-code blob-code-inner js-file-line">  nco_bool has_lat; <span class="pl-c">/* [flg] Contains latitude dimension */</span></td>
      </tr>
      <tr>
        <td id="L1600" class="blob-num js-line-number" data-line-number="1600"></td>
        <td id="LC1600" class="blob-code blob-code-inner js-file-line">  trv_sct trv; <span class="pl-c">/* [sct] Traversal table object structure to reduce indirection */</span></td>
      </tr>
      <tr>
        <td id="L1601" class="blob-num js-line-number" data-line-number="1601"></td>
        <td id="LC1601" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define regridding flag for each variable */</span></td>
      </tr>
      <tr>
        <td id="L1602" class="blob-num js-line-number" data-line-number="1602"></td>
        <td id="LC1602" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++){</td>
      </tr>
      <tr>
        <td id="L1603" class="blob-num js-line-number" data-line-number="1603"></td>
        <td id="LC1603" class="blob-code blob-code-inner js-file-line">    trv=trv_tbl-&gt;lst[idx_tbl];</td>
      </tr>
      <tr>
        <td id="L1604" class="blob-num js-line-number" data-line-number="1604"></td>
        <td id="LC1604" class="blob-code blob-code-inner js-file-line">    dmn_nbr_in=trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">nbr_dmn</span>;</td>
      </tr>
      <tr>
        <td id="L1605" class="blob-num js-line-number" data-line-number="1605"></td>
        <td id="LC1605" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(trv.<span class="pl-smi">nco_typ</span> == nco_obj_typ_var &amp;&amp; trv.<span class="pl-smi">flg_xtr</span>){</td>
      </tr>
      <tr>
        <td id="L1606" class="blob-num js-line-number" data-line-number="1606"></td>
        <td id="LC1606" class="blob-code blob-code-inner js-file-line">      has_lon=False;</td>
      </tr>
      <tr>
        <td id="L1607" class="blob-num js-line-number" data-line-number="1607"></td>
        <td id="LC1607" class="blob-code blob-code-inner js-file-line">      has_lat=False;</td>
      </tr>
      <tr>
        <td id="L1608" class="blob-num js-line-number" data-line-number="1608"></td>
        <td id="LC1608" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(flg_grd_in_2D){</td>
      </tr>
      <tr>
        <td id="L1609" class="blob-num js-line-number" data-line-number="1609"></td>
        <td id="LC1609" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L1610" class="blob-num js-line-number" data-line-number="1610"></td>
        <td id="LC1610" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Pre-determine flags necessary during next loop */</span></td>
      </tr>
      <tr>
        <td id="L1611" class="blob-num js-line-number" data-line-number="1611"></td>
        <td id="LC1611" class="blob-code blob-code-inner js-file-line">	  dmn_nm_cp=trv.<span class="pl-smi">var_dmn</span>[dmn_idx].<span class="pl-smi">dmn_nm</span>;</td>
      </tr>
      <tr>
        <td id="L1612" class="blob-num js-line-number" data-line-number="1612"></td>
        <td id="LC1612" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* fxm: generalize to include any variable containing two coordinates with &quot;standard_name&quot; = &quot;latitude&quot; and &quot;longitude&quot; */</span></td>
      </tr>
      <tr>
        <td id="L1613" class="blob-num js-line-number" data-line-number="1613"></td>
        <td id="LC1613" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(!has_lon) has_lon=!<span class="pl-c1">strcmp</span>(dmn_nm_cp,lon_nm_in);</td>
      </tr>
      <tr>
        <td id="L1614" class="blob-num js-line-number" data-line-number="1614"></td>
        <td id="LC1614" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(!has_lat) has_lat=!<span class="pl-c1">strcmp</span>(dmn_nm_cp,lat_nm_in);</td>
      </tr>
      <tr>
        <td id="L1615" class="blob-num js-line-number" data-line-number="1615"></td>
        <td id="LC1615" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L1616" class="blob-num js-line-number" data-line-number="1616"></td>
        <td id="LC1616" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !flg_grd_in_2D */</span></td>
      </tr>
      <tr>
        <td id="L1617" class="blob-num js-line-number" data-line-number="1617"></td>
        <td id="LC1617" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L1618" class="blob-num js-line-number" data-line-number="1618"></td>
        <td id="LC1618" class="blob-code blob-code-inner js-file-line">	dmn_nm_cp=trv.<span class="pl-smi">var_dmn</span>[dmn_idx].<span class="pl-smi">dmn_nm</span>;</td>
      </tr>
      <tr>
        <td id="L1619" class="blob-num js-line-number" data-line-number="1619"></td>
        <td id="LC1619" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Regrid variables containing the horizontal spatial dimension on 1D grids, and both latitude and longitude on 2D grids */</span></td>
      </tr>
      <tr>
        <td id="L1620" class="blob-num js-line-number" data-line-number="1620"></td>
        <td id="LC1620" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm_cp,col_nm_in) || (has_lon &amp;&amp; has_lat)){</td>
      </tr>
      <tr>
        <td id="L1621" class="blob-num js-line-number" data-line-number="1621"></td>
        <td id="LC1621" class="blob-code blob-code-inner js-file-line">	  trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_rgr</span>=True;</td>
      </tr>
      <tr>
        <td id="L1622" class="blob-num js-line-number" data-line-number="1622"></td>
        <td id="LC1622" class="blob-code blob-code-inner js-file-line">	  var_rgr_nbr++;</td>
      </tr>
      <tr>
        <td id="L1623" class="blob-num js-line-number" data-line-number="1623"></td>
        <td id="LC1623" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L1624" class="blob-num js-line-number" data-line-number="1624"></td>
        <td id="LC1624" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L1625" class="blob-num js-line-number" data-line-number="1625"></td>
        <td id="LC1625" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L1626" class="blob-num js-line-number" data-line-number="1626"></td>
        <td id="LC1626" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(dmn_idx == dmn_nbr_in){</td>
      </tr>
      <tr>
        <td id="L1627" class="blob-num js-line-number" data-line-number="1627"></td>
        <td id="LC1627" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Not regridded, so must be omitted or copied... */</span></td>
      </tr>
      <tr>
        <td id="L1628" class="blob-num js-line-number" data-line-number="1628"></td>
        <td id="LC1628" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(flg_grd_in_2D &amp;&amp; (has_lon || has_lat)){</td>
      </tr>
      <tr>
        <td id="L1629" class="blob-num js-line-number" data-line-number="1629"></td>
        <td id="LC1629" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Single spatial dimensional variables on 2D input grids are likely extensive (e.g., grd_mrd_lng from bds)</span></td>
      </tr>
      <tr>
        <td id="L1630" class="blob-num js-line-number" data-line-number="1630"></td>
        <td id="LC1630" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   These could be salvaged with explicit rules or implicit assumptions */</span></td>
      </tr>
      <tr>
        <td id="L1631" class="blob-num js-line-number" data-line-number="1631"></td>
        <td id="LC1631" class="blob-code blob-code-inner js-file-line">	  trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_xtr</span>=False;</td>
      </tr>
      <tr>
        <td id="L1632" class="blob-num js-line-number" data-line-number="1632"></td>
        <td id="LC1632" class="blob-code blob-code-inner js-file-line">	  var_xcl_nbr++;</td>
      </tr>
      <tr>
        <td id="L1633" class="blob-num js-line-number" data-line-number="1633"></td>
        <td id="LC1633" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO automatically omitting (not copying or regridding from input) extensive-seeming (e.g., 1D spatial variable in 2D input grid, or 2D spatial variable without primary grid dimensions from multi-grid file (e.g., west_east_stag or south_north_stag instead of west_east or south_north)) variable <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">nm_fll</span>);</td>
      </tr>
      <tr>
        <td id="L1634" class="blob-num js-line-number" data-line-number="1634"></td>
        <td id="LC1634" class="blob-code blob-code-inner js-file-line">	}<span class="pl-k">else</span>{ <span class="pl-c">/* !omitted */</span></td>
      </tr>
      <tr>
        <td id="L1635" class="blob-num js-line-number" data-line-number="1635"></td>
        <td id="LC1635" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Copy all variables that are not regridded or omitted */</span></td>
      </tr>
      <tr>
        <td id="L1636" class="blob-num js-line-number" data-line-number="1636"></td>
        <td id="LC1636" class="blob-code blob-code-inner js-file-line">	  var_cpy_nbr++;</td>
      </tr>
      <tr>
        <td id="L1637" class="blob-num js-line-number" data-line-number="1637"></td>
        <td id="LC1637" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !omitted */</span></td>
      </tr>
      <tr>
        <td id="L1638" class="blob-num js-line-number" data-line-number="1638"></td>
        <td id="LC1638" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* endif not regridded */</span></td>
      </tr>
      <tr>
        <td id="L1639" class="blob-num js-line-number" data-line-number="1639"></td>
        <td id="LC1639" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end nco_obj_typ_var */</span></td>
      </tr>
      <tr>
        <td id="L1640" class="blob-num js-line-number" data-line-number="1640"></td>
        <td id="LC1640" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end idx_tbl */</span></td>
      </tr>
      <tr>
        <td id="L1641" class="blob-num js-line-number" data-line-number="1641"></td>
        <td id="LC1641" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!var_rgr_nbr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports no variables fit regridding criteria. The regridder expects something to regrid, and variables not regridded are copied straight to output. HINT: If the name(s) of the input horizontal spatial dimensions to be regridded (e.g., latitude and longitude or column) do not match NCO&#39;s preset defaults (case-insensitive unambiguous forms and abbreviations of <span class="pl-cce">\&quot;</span>latitude<span class="pl-cce">\&quot;</span>, <span class="pl-cce">\&quot;</span>longitude<span class="pl-cce">\&quot;</span>, and <span class="pl-cce">\&quot;</span>ncol<span class="pl-cce">\&quot;</span>, respectively) then change the dimension names that NCO looks for. Instructions are at http://nco.sf.net/nco.html#regrid, e.g., <span class="pl-cce">\&quot;</span>ncks --rgr col=lndgrid --rgr lat=north ...<span class="pl-cce">\&quot;</span>.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L1642" class="blob-num js-line-number" data-line-number="1642"></td>
        <td id="LC1642" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L1643" class="blob-num js-line-number" data-line-number="1643"></td>
        <td id="LC1643" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++){</td>
      </tr>
      <tr>
        <td id="L1644" class="blob-num js-line-number" data-line-number="1644"></td>
        <td id="LC1644" class="blob-code blob-code-inner js-file-line">    trv=trv_tbl-&gt;lst[idx_tbl];</td>
      </tr>
      <tr>
        <td id="L1645" class="blob-num js-line-number" data-line-number="1645"></td>
        <td id="LC1645" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(trv.<span class="pl-smi">flg_rgr</span>){</td>
      </tr>
      <tr>
        <td id="L1646" class="blob-num js-line-number" data-line-number="1646"></td>
        <td id="LC1646" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(<span class="pl-k">int</span> xtn_idx=<span class="pl-c1">0</span>;xtn_idx&lt;rgr-&gt;xtn_nbr;xtn_idx++){</td>
      </tr>
      <tr>
        <td id="L1647" class="blob-num js-line-number" data-line-number="1647"></td>
        <td id="LC1647" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* 20150927: Extensive variable treatments are still in alpha-development</span></td>
      </tr>
      <tr>
        <td id="L1648" class="blob-num js-line-number" data-line-number="1648"></td>
        <td id="LC1648" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Currently testing on AIRS TSurfStd_ct (by summing not averaging)</span></td>
      </tr>
      <tr>
        <td id="L1649" class="blob-num js-line-number" data-line-number="1649"></td>
        <td id="LC1649" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   In future may consider variables that need more complex (non-summing) extensive treatment</span></td>
      </tr>
      <tr>
        <td id="L1650" class="blob-num js-line-number" data-line-number="1650"></td>
        <td id="LC1650" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   MPAS-O has a zillion of these [xyz]Cell, cellsOnCell, fCell, indexToCellID, maxLevelCell, meshDensity</span></td>
      </tr>
      <tr>
        <td id="L1651" class="blob-num js-line-number" data-line-number="1651"></td>
        <td id="LC1651" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Not to mention the variables that depend on nEdges and nVertices... */</span></td>
      </tr>
      <tr>
        <td id="L1652" class="blob-num js-line-number" data-line-number="1652"></td>
        <td id="LC1652" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(trv.<span class="pl-smi">nm</span>,rgr-&gt;xtn_var[xtn_idx])){</td>
      </tr>
      <tr>
        <td id="L1653" class="blob-num js-line-number" data-line-number="1653"></td>
        <td id="LC1653" class="blob-code blob-code-inner js-file-line">          trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_xtn</span>=True;</td>
      </tr>
      <tr>
        <td id="L1654" class="blob-num js-line-number" data-line-number="1654"></td>
        <td id="LC1654" class="blob-code blob-code-inner js-file-line">	  var_xtn_nbr++;</td>
      </tr>
      <tr>
        <td id="L1655" class="blob-num js-line-number" data-line-number="1655"></td>
        <td id="LC1655" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO Variable <span class="pl-c1">%s</span> will be treated as extensive (summed not averaged)<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),trv.<span class="pl-smi">nm_fll</span>);</td>
      </tr>
      <tr>
        <td id="L1656" class="blob-num js-line-number" data-line-number="1656"></td>
        <td id="LC1656" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !strcmp */</span></td>
      </tr>
      <tr>
        <td id="L1657" class="blob-num js-line-number" data-line-number="1657"></td>
        <td id="LC1657" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !xtn_idx */</span></td>
      </tr>
      <tr>
        <td id="L1658" class="blob-num js-line-number" data-line-number="1658"></td>
        <td id="LC1658" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_rgr */</span></td>
      </tr>
      <tr>
        <td id="L1659" class="blob-num js-line-number" data-line-number="1659"></td>
        <td id="LC1659" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !idx_tbl */</span></td>
      </tr>
      <tr>
        <td id="L1660" class="blob-num js-line-number" data-line-number="1660"></td>
        <td id="LC1660" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L1661" class="blob-num js-line-number" data-line-number="1661"></td>
        <td id="LC1661" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr){</td>
      </tr>
      <tr>
        <td id="L1662" class="blob-num js-line-number" data-line-number="1662"></td>
        <td id="LC1662" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++){</td>
      </tr>
      <tr>
        <td id="L1663" class="blob-num js-line-number" data-line-number="1663"></td>
        <td id="LC1663" class="blob-code blob-code-inner js-file-line">      trv=trv_tbl-&gt;lst[idx_tbl];</td>
      </tr>
      <tr>
        <td id="L1664" class="blob-num js-line-number" data-line-number="1664"></td>
        <td id="LC1664" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(trv.<span class="pl-smi">nco_typ</span> == nco_obj_typ_var &amp;&amp; trv.<span class="pl-smi">flg_xtr</span>) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>Regrid <span class="pl-c1">%s</span>? <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,trv.<span class="pl-smi">nm</span>,trv.<span class="pl-smi">flg_rgr</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>Yes<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>No<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1665" class="blob-num js-line-number" data-line-number="1665"></td>
        <td id="LC1665" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end idx_tbl */</span></td>
      </tr>
      <tr>
        <td id="L1666" class="blob-num js-line-number" data-line-number="1666"></td>
        <td id="LC1666" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end dbg */</span></td>
      </tr>
      <tr>
        <td id="L1667" class="blob-num js-line-number" data-line-number="1667"></td>
        <td id="LC1667" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1668" class="blob-num js-line-number" data-line-number="1668"></td>
        <td id="LC1668" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Lay-out regridded file */</span></td>
      </tr>
      <tr>
        <td id="L1669" class="blob-num js-line-number" data-line-number="1669"></td>
        <td id="LC1669" class="blob-code blob-code-inner js-file-line">  aed_sct aed_mtd;</td>
      </tr>
      <tr>
        <td id="L1670" class="blob-num js-line-number" data-line-number="1670"></td>
        <td id="LC1670" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *area_nm_out;</td>
      </tr>
      <tr>
        <td id="L1671" class="blob-num js-line-number" data-line-number="1671"></td>
        <td id="LC1671" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_nm;</td>
      </tr>
      <tr>
        <td id="L1672" class="blob-num js-line-number" data-line-number="1672"></td>
        <td id="LC1672" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L1673" class="blob-num js-line-number" data-line-number="1673"></td>
        <td id="LC1673" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *bnd_tm_nm_out;</td>
      </tr>
      <tr>
        <td id="L1674" class="blob-num js-line-number" data-line-number="1674"></td>
        <td id="LC1674" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *col_nm_out;</td>
      </tr>
      <tr>
        <td id="L1675" class="blob-num js-line-number" data-line-number="1675"></td>
        <td id="LC1675" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *frc_nm_out;</td>
      </tr>
      <tr>
        <td id="L1676" class="blob-num js-line-number" data-line-number="1676"></td>
        <td id="LC1676" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L1677" class="blob-num js-line-number" data-line-number="1677"></td>
        <td id="LC1677" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L1678" class="blob-num js-line-number" data-line-number="1678"></td>
        <td id="LC1678" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_wgt_nm;</td>
      </tr>
      <tr>
        <td id="L1679" class="blob-num js-line-number" data-line-number="1679"></td>
        <td id="LC1679" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L1680" class="blob-num js-line-number" data-line-number="1680"></td>
        <td id="LC1680" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L1681" class="blob-num js-line-number" data-line-number="1681"></td>
        <td id="LC1681" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_bnd; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L1682" class="blob-num js-line-number" data-line-number="1682"></td>
        <td id="LC1682" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_bnd_tm; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L1683" class="blob-num js-line-number" data-line-number="1683"></td>
        <td id="LC1683" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> area_out_id; <span class="pl-c">/* [id] Variable ID for area */</span></td>
      </tr>
      <tr>
        <td id="L1684" class="blob-num js-line-number" data-line-number="1684"></td>
        <td id="LC1684" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> frc_out_id; <span class="pl-c">/* [id] Variable ID for fraction */</span></td>
      </tr>
      <tr>
        <td id="L1685" class="blob-num js-line-number" data-line-number="1685"></td>
        <td id="LC1685" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_out_id; <span class="pl-c">/* [id] Variable ID for longitude */</span></td>
      </tr>
      <tr>
        <td id="L1686" class="blob-num js-line-number" data-line-number="1686"></td>
        <td id="LC1686" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_out_id; <span class="pl-c">/* [id] Variable ID for latitude */</span></td>
      </tr>
      <tr>
        <td id="L1687" class="blob-num js-line-number" data-line-number="1687"></td>
        <td id="LC1687" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_wgt_id; <span class="pl-c">/* [id] Variable ID for latitude weight */</span></td>
      </tr>
      <tr>
        <td id="L1688" class="blob-num js-line-number" data-line-number="1688"></td>
        <td id="LC1688" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_bnd_id; <span class="pl-c">/* [id] Variable ID for lon_bnds/lon_vertices */</span></td>
      </tr>
      <tr>
        <td id="L1689" class="blob-num js-line-number" data-line-number="1689"></td>
        <td id="LC1689" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_bnd_id; <span class="pl-c">/* [id] Variable ID for lat_bnds/lat_vertices */</span></td>
      </tr>
      <tr>
        <td id="L1690" class="blob-num js-line-number" data-line-number="1690"></td>
        <td id="LC1690" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_ids_out[dmn_nbr_grd_max]; <span class="pl-c">/* [id] Dimension IDs array for output variable */</span></td>
      </tr>
      <tr>
        <td id="L1691" class="blob-num js-line-number" data-line-number="1691"></td>
        <td id="LC1691" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_srt_out[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L1692" class="blob-num js-line-number" data-line-number="1692"></td>
        <td id="LC1692" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_cnt_tuo[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L1693" class="blob-num js-line-number" data-line-number="1693"></td>
        <td id="LC1693" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1694" class="blob-num js-line-number" data-line-number="1694"></td>
        <td id="LC1694" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Name output dimensions/variables */</span></td>
      </tr>
      <tr>
        <td id="L1695" class="blob-num js-line-number" data-line-number="1695"></td>
        <td id="LC1695" class="blob-code blob-code-inner js-file-line">  area_nm_out=rgr-&gt;area_nm;</td>
      </tr>
      <tr>
        <td id="L1696" class="blob-num js-line-number" data-line-number="1696"></td>
        <td id="LC1696" class="blob-code blob-code-inner js-file-line">  bnd_nm_out=rgr-&gt;bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1697" class="blob-num js-line-number" data-line-number="1697"></td>
        <td id="LC1697" class="blob-code blob-code-inner js-file-line">  bnd_tm_nm_out=rgr-&gt;bnd_tm_nm;</td>
      </tr>
      <tr>
        <td id="L1698" class="blob-num js-line-number" data-line-number="1698"></td>
        <td id="LC1698" class="blob-code blob-code-inner js-file-line">  frc_nm_out=rgr-&gt;frc_nm;</td>
      </tr>
      <tr>
        <td id="L1699" class="blob-num js-line-number" data-line-number="1699"></td>
        <td id="LC1699" class="blob-code blob-code-inner js-file-line">  lat_bnd_nm_out=rgr-&gt;lat_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1700" class="blob-num js-line-number" data-line-number="1700"></td>
        <td id="LC1700" class="blob-code blob-code-inner js-file-line">  lat_wgt_nm=rgr-&gt;lat_wgt_nm;</td>
      </tr>
      <tr>
        <td id="L1701" class="blob-num js-line-number" data-line-number="1701"></td>
        <td id="LC1701" class="blob-code blob-code-inner js-file-line">  lon_bnd_nm_out=rgr-&gt;lon_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1702" class="blob-num js-line-number" data-line-number="1702"></td>
        <td id="LC1702" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use explicitly specified output names, if any, otherwise use input names (either explicitly specified or discovered by fuzzing) */</span></td>
      </tr>
      <tr>
        <td id="L1703" class="blob-num js-line-number" data-line-number="1703"></td>
        <td id="LC1703" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;col_nm_out) col_nm_out=rgr-&gt;col_nm_out; <span class="pl-k">else</span> col_nm_out=col_nm_in;</td>
      </tr>
      <tr>
        <td id="L1704" class="blob-num js-line-number" data-line-number="1704"></td>
        <td id="LC1704" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lat_nm_out) lat_nm_out=rgr-&gt;lat_nm_out; <span class="pl-k">else</span> lat_nm_out=lat_nm_in;</td>
      </tr>
      <tr>
        <td id="L1705" class="blob-num js-line-number" data-line-number="1705"></td>
        <td id="LC1705" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rgr-&gt;lon_nm_out) lon_nm_out=rgr-&gt;lon_nm_out; <span class="pl-k">else</span> lon_nm_out=lon_nm_in;</td>
      </tr>
      <tr>
        <td id="L1706" class="blob-num js-line-number" data-line-number="1706"></td>
        <td id="LC1706" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1707" class="blob-num js-line-number" data-line-number="1707"></td>
        <td id="LC1707" class="blob-code blob-code-inner js-file-line">    bnd_nm_out=rgr-&gt;vrt_nm;</td>
      </tr>
      <tr>
        <td id="L1708" class="blob-num js-line-number" data-line-number="1708"></td>
        <td id="LC1708" class="blob-code blob-code-inner js-file-line">    lat_bnd_nm_out=rgr-&gt;lat_vrt_nm;</td>
      </tr>
      <tr>
        <td id="L1709" class="blob-num js-line-number" data-line-number="1709"></td>
        <td id="LC1709" class="blob-code blob-code-inner js-file-line">    lon_bnd_nm_out=rgr-&gt;lon_vrt_nm;</td>
      </tr>
      <tr>
        <td id="L1710" class="blob-num js-line-number" data-line-number="1710"></td>
        <td id="LC1710" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1711" class="blob-num js-line-number" data-line-number="1711"></td>
        <td id="LC1711" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L1712" class="blob-num js-line-number" data-line-number="1712"></td>
        <td id="LC1712" class="blob-code blob-code-inner js-file-line">    bnd_nm_out=rgr-&gt;bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1713" class="blob-num js-line-number" data-line-number="1713"></td>
        <td id="LC1713" class="blob-code blob-code-inner js-file-line">    lat_bnd_nm_out=rgr-&gt;lat_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1714" class="blob-num js-line-number" data-line-number="1714"></td>
        <td id="LC1714" class="blob-code blob-code-inner js-file-line">    lon_bnd_nm_out=rgr-&gt;lon_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L1715" class="blob-num js-line-number" data-line-number="1715"></td>
        <td id="LC1715" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_2D */</span></td>
      </tr>
      <tr>
        <td id="L1716" class="blob-num js-line-number" data-line-number="1716"></td>
        <td id="LC1716" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1717" class="blob-num js-line-number" data-line-number="1717"></td>
        <td id="LC1717" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Persistent metadata */</span></td>
      </tr>
      <tr>
        <td id="L1718" class="blob-num js-line-number" data-line-number="1718"></td>
        <td id="LC1718" class="blob-code blob-code-inner js-file-line">  aed_sct aed_mtd_crd;</td>
      </tr>
      <tr>
        <td id="L1719" class="blob-num js-line-number" data-line-number="1719"></td>
        <td id="LC1719" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_val_crd=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L1720" class="blob-num js-line-number" data-line-number="1720"></td>
        <td id="LC1720" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_nm_crd=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L1721" class="blob-num js-line-number" data-line-number="1721"></td>
        <td id="LC1721" class="blob-code blob-code-inner js-file-line">  att_nm_crd=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>coordinates<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1722" class="blob-num js-line-number" data-line-number="1722"></td>
        <td id="LC1722" class="blob-code blob-code-inner js-file-line">  aed_mtd_crd.<span class="pl-smi">att_nm</span>=att_nm_crd;</td>
      </tr>
      <tr>
        <td id="L1723" class="blob-num js-line-number" data-line-number="1723"></td>
        <td id="LC1723" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D) aed_mtd_crd.<span class="pl-smi">mode</span>=aed_overwrite; <span class="pl-k">else</span> aed_mtd_crd.<span class="pl-smi">mode</span>=aed_delete;</td>
      </tr>
      <tr>
        <td id="L1724" class="blob-num js-line-number" data-line-number="1724"></td>
        <td id="LC1724" class="blob-code blob-code-inner js-file-line">  aed_mtd_crd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L1725" class="blob-num js-line-number" data-line-number="1725"></td>
        <td id="LC1725" class="blob-code blob-code-inner js-file-line">  aed_mtd_crd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(lat_nm_out)+<span class="pl-c1">strlen</span>(lon_nm_out)+<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L1726" class="blob-num js-line-number" data-line-number="1726"></td>
        <td id="LC1726" class="blob-code blob-code-inner js-file-line">  att_val_crd=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>(aed_mtd_crd.<span class="pl-smi">sz</span>*<span class="pl-c1">nco_typ_lng</span>(aed_mtd_crd.<span class="pl-smi">type</span>)+<span class="pl-c1">1L</span>);</td>
      </tr>
      <tr>
        <td id="L1727" class="blob-num js-line-number" data-line-number="1727"></td>
        <td id="LC1727" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">sprintf</span>(att_val_crd,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span> <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>,lat_nm_out,lon_nm_out);</td>
      </tr>
      <tr>
        <td id="L1728" class="blob-num js-line-number" data-line-number="1728"></td>
        <td id="LC1728" class="blob-code blob-code-inner js-file-line">  aed_mtd_crd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val_crd;</td>
      </tr>
      <tr>
        <td id="L1729" class="blob-num js-line-number" data-line-number="1729"></td>
        <td id="LC1729" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1730" class="blob-num js-line-number" data-line-number="1730"></td>
        <td id="LC1730" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define new horizontal dimensions before all else */</span></td>
      </tr>
      <tr>
        <td id="L1731" class="blob-num js-line-number" data-line-number="1731"></td>
        <td id="LC1731" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1732" class="blob-num js-line-number" data-line-number="1732"></td>
        <td id="LC1732" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_def_dim</span>(out_id,col_nm_out,col_nbr_out,&amp;dmn_id_col);</td>
      </tr>
      <tr>
        <td id="L1733" class="blob-num js-line-number" data-line-number="1733"></td>
        <td id="LC1733" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1734" class="blob-num js-line-number" data-line-number="1734"></td>
        <td id="LC1734" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L1735" class="blob-num js-line-number" data-line-number="1735"></td>
        <td id="LC1735" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_def_dim</span>(out_id,lat_nm_out,lat_nbr_out,&amp;dmn_id_lat);</td>
      </tr>
      <tr>
        <td id="L1736" class="blob-num js-line-number" data-line-number="1736"></td>
        <td id="LC1736" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_def_dim</span>(out_id,lon_nm_out,lon_nbr_out,&amp;dmn_id_lon);</td>
      </tr>
      <tr>
        <td id="L1737" class="blob-num js-line-number" data-line-number="1737"></td>
        <td id="LC1737" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_2D */</span></td>
      </tr>
      <tr>
        <td id="L1738" class="blob-num js-line-number" data-line-number="1738"></td>
        <td id="LC1738" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,bnd_tm_nm_out,&amp;dmn_id_bnd_tm);</td>
      </tr>
      <tr>
        <td id="L1739" class="blob-num js-line-number" data-line-number="1739"></td>
        <td id="LC1739" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* If dimension has not been defined, define it */</span></td>
      </tr>
      <tr>
        <td id="L1740" class="blob-num js-line-number" data-line-number="1740"></td>
        <td id="LC1740" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd != NC_NOERR) rcd=<span class="pl-c1">nco_def_dim</span>(out_id,bnd_tm_nm_out,bnd_tm_nbr_out,&amp;dmn_id_bnd_tm);</td>
      </tr>
      <tr>
        <td id="L1741" class="blob-num js-line-number" data-line-number="1741"></td>
        <td id="LC1741" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,bnd_nm_out,&amp;dmn_id_bnd);</td>
      </tr>
      <tr>
        <td id="L1742" class="blob-num js-line-number" data-line-number="1742"></td>
        <td id="LC1742" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* If dimension has not been defined, define it */</span></td>
      </tr>
      <tr>
        <td id="L1743" class="blob-num js-line-number" data-line-number="1743"></td>
        <td id="LC1743" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd != NC_NOERR) rcd=<span class="pl-c1">nco_def_dim</span>(out_id,bnd_nm_out,bnd_nbr_out,&amp;dmn_id_bnd);</td>
      </tr>
      <tr>
        <td id="L1744" class="blob-num js-line-number" data-line-number="1744"></td>
        <td id="LC1744" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1745" class="blob-num js-line-number" data-line-number="1745"></td>
        <td id="LC1745" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> dmn_nm[NC_MAX_NAME]; <span class="pl-c">/* [sng] Dimension name */</span></td>
      </tr>
      <tr>
        <td id="L1746" class="blob-num js-line-number" data-line-number="1746"></td>
        <td id="LC1746" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *var_nm; <span class="pl-c">/* [sng] Variable name */</span></td>
      </tr>
      <tr>
        <td id="L1747" class="blob-num js-line-number" data-line-number="1747"></td>
        <td id="LC1747" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_id_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [id] Dimension IDs */</span></td>
      </tr>
      <tr>
        <td id="L1748" class="blob-num js-line-number" data-line-number="1748"></td>
        <td id="LC1748" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_id_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [id] Dimension IDs */</span></td>
      </tr>
      <tr>
        <td id="L1749" class="blob-num js-line-number" data-line-number="1749"></td>
        <td id="LC1749" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_id_in; <span class="pl-c">/* [id] Variable ID */</span></td>
      </tr>
      <tr>
        <td id="L1750" class="blob-num js-line-number" data-line-number="1750"></td>
        <td id="LC1750" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_id_out; <span class="pl-c">/* [id] Variable ID */</span></td>
      </tr>
      <tr>
        <td id="L1751" class="blob-num js-line-number" data-line-number="1751"></td>
        <td id="LC1751" class="blob-code blob-code-inner js-file-line">  nc_type var_typ_out; <span class="pl-c">/* [enm] Variable type to write to disk */</span></td>
      </tr>
      <tr>
        <td id="L1752" class="blob-num js-line-number" data-line-number="1752"></td>
        <td id="LC1752" class="blob-code blob-code-inner js-file-line">  nc_type var_typ_rgr; <span class="pl-c">/* [enm] Variable type used during regridding */</span></td>
      </tr>
      <tr>
        <td id="L1753" class="blob-num js-line-number" data-line-number="1753"></td>
        <td id="LC1753" class="blob-code blob-code-inner js-file-line">  nco_bool PCK_ATT_CPY=True; <span class="pl-c">/* [flg] Copy attributes &quot;scale_factor&quot;, &quot;add_offset&quot; */</span></td>
      </tr>
      <tr>
        <td id="L1754" class="blob-num js-line-number" data-line-number="1754"></td>
        <td id="LC1754" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1755" class="blob-num js-line-number" data-line-number="1755"></td>
        <td id="LC1755" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define new coordinates and variables in regridded file */</span></td>
      </tr>
      <tr>
        <td id="L1756" class="blob-num js-line-number" data-line-number="1756"></td>
        <td id="LC1756" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1757" class="blob-num js-line-number" data-line-number="1757"></td>
        <td id="LC1757" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_col,&amp;lat_out_id);</td>
      </tr>
      <tr>
        <td id="L1758" class="blob-num js-line-number" data-line-number="1758"></td>
        <td id="LC1758" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1759" class="blob-num js-line-number" data-line-number="1759"></td>
        <td id="LC1759" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_col,&amp;lon_out_id);</td>
      </tr>
      <tr>
        <td id="L1760" class="blob-num js-line-number" data-line-number="1760"></td>
        <td id="LC1760" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1761" class="blob-num js-line-number" data-line-number="1761"></td>
        <td id="LC1761" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_col;</td>
      </tr>
      <tr>
        <td id="L1762" class="blob-num js-line-number" data-line-number="1762"></td>
        <td id="LC1762" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L1763" class="blob-num js-line-number" data-line-number="1763"></td>
        <td id="LC1763" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1764" class="blob-num js-line-number" data-line-number="1764"></td>
        <td id="LC1764" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1765" class="blob-num js-line-number" data-line-number="1765"></td>
        <td id="LC1765" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_col;</td>
      </tr>
      <tr>
        <td id="L1766" class="blob-num js-line-number" data-line-number="1766"></td>
        <td id="LC1766" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L1767" class="blob-num js-line-number" data-line-number="1767"></td>
        <td id="LC1767" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1768" class="blob-num js-line-number" data-line-number="1768"></td>
        <td id="LC1768" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1769" class="blob-num js-line-number" data-line-number="1769"></td>
        <td id="LC1769" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_col,&amp;area_out_id);</td>
      </tr>
      <tr>
        <td id="L1770" class="blob-num js-line-number" data-line-number="1770"></td>
        <td id="LC1770" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1771" class="blob-num js-line-number" data-line-number="1771"></td>
        <td id="LC1771" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L1772" class="blob-num js-line-number" data-line-number="1772"></td>
        <td id="LC1772" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,frc_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_col,&amp;frc_out_id);</td>
      </tr>
      <tr>
        <td id="L1773" class="blob-num js-line-number" data-line-number="1773"></td>
        <td id="LC1773" class="blob-code blob-code-inner js-file-line">      var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1774" class="blob-num js-line-number" data-line-number="1774"></td>
        <td id="LC1774" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L1775" class="blob-num js-line-number" data-line-number="1775"></td>
        <td id="LC1775" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1776" class="blob-num js-line-number" data-line-number="1776"></td>
        <td id="LC1776" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L1777" class="blob-num js-line-number" data-line-number="1777"></td>
        <td id="LC1777" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L1778" class="blob-num js-line-number" data-line-number="1778"></td>
        <td id="LC1778" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L1779" class="blob-num js-line-number" data-line-number="1779"></td>
        <td id="LC1779" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lat_out_id);</td>
      </tr>
      <tr>
        <td id="L1780" class="blob-num js-line-number" data-line-number="1780"></td>
        <td id="LC1780" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1781" class="blob-num js-line-number" data-line-number="1781"></td>
        <td id="LC1781" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lon_out_id);</td>
      </tr>
      <tr>
        <td id="L1782" class="blob-num js-line-number" data-line-number="1782"></td>
        <td id="LC1782" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1783" class="blob-num js-line-number" data-line-number="1783"></td>
        <td id="LC1783" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;area_out_id);</td>
      </tr>
      <tr>
        <td id="L1784" class="blob-num js-line-number" data-line-number="1784"></td>
        <td id="LC1784" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1785" class="blob-num js-line-number" data-line-number="1785"></td>
        <td id="LC1785" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L1786" class="blob-num js-line-number" data-line-number="1786"></td>
        <td id="LC1786" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,frc_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;frc_out_id);</td>
      </tr>
      <tr>
        <td id="L1787" class="blob-num js-line-number" data-line-number="1787"></td>
        <td id="LC1787" class="blob-code blob-code-inner js-file-line">      var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1788" class="blob-num js-line-number" data-line-number="1788"></td>
        <td id="LC1788" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L1789" class="blob-num js-line-number" data-line-number="1789"></td>
        <td id="LC1789" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L1790" class="blob-num js-line-number" data-line-number="1790"></td>
        <td id="LC1790" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L1791" class="blob-num js-line-number" data-line-number="1791"></td>
        <td id="LC1791" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">2</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L1792" class="blob-num js-line-number" data-line-number="1792"></td>
        <td id="LC1792" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm_out,crd_typ_out,dmn_nbr_3D,dmn_ids_out,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1793" class="blob-num js-line-number" data-line-number="1793"></td>
        <td id="LC1793" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1794" class="blob-num js-line-number" data-line-number="1794"></td>
        <td id="LC1794" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm_out,crd_typ_out,dmn_nbr_3D,dmn_ids_out,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1795" class="blob-num js-line-number" data-line-number="1795"></td>
        <td id="LC1795" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1796" class="blob-num js-line-number" data-line-number="1796"></td>
        <td id="LC1796" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L1797" class="blob-num js-line-number" data-line-number="1797"></td>
        <td id="LC1797" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L1798" class="blob-num js-line-number" data-line-number="1798"></td>
        <td id="LC1798" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_lat,&amp;lat_out_id);</td>
      </tr>
      <tr>
        <td id="L1799" class="blob-num js-line-number" data-line-number="1799"></td>
        <td id="LC1799" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1800" class="blob-num js-line-number" data-line-number="1800"></td>
        <td id="LC1800" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_lon,&amp;lon_out_id);</td>
      </tr>
      <tr>
        <td id="L1801" class="blob-num js-line-number" data-line-number="1801"></td>
        <td id="LC1801" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1802" class="blob-num js-line-number" data-line-number="1802"></td>
        <td id="LC1802" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L1803" class="blob-num js-line-number" data-line-number="1803"></td>
        <td id="LC1803" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L1804" class="blob-num js-line-number" data-line-number="1804"></td>
        <td id="LC1804" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1805" class="blob-num js-line-number" data-line-number="1805"></td>
        <td id="LC1805" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1806" class="blob-num js-line-number" data-line-number="1806"></td>
        <td id="LC1806" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L1807" class="blob-num js-line-number" data-line-number="1807"></td>
        <td id="LC1807" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L1808" class="blob-num js-line-number" data-line-number="1808"></td>
        <td id="LC1808" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L1809" class="blob-num js-line-number" data-line-number="1809"></td>
        <td id="LC1809" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1810" class="blob-num js-line-number" data-line-number="1810"></td>
        <td id="LC1810" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_wgt_nm,crd_typ_out,dmn_nbr_1D,&amp;dmn_id_lat,&amp;lat_wgt_id);</td>
      </tr>
      <tr>
        <td id="L1811" class="blob-num js-line-number" data-line-number="1811"></td>
        <td id="LC1811" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1812" class="blob-num js-line-number" data-line-number="1812"></td>
        <td id="LC1812" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L1813" class="blob-num js-line-number" data-line-number="1813"></td>
        <td id="LC1813" class="blob-code blob-code-inner js-file-line">    dmn_ids_out[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L1814" class="blob-num js-line-number" data-line-number="1814"></td>
        <td id="LC1814" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;area_out_id);</td>
      </tr>
      <tr>
        <td id="L1815" class="blob-num js-line-number" data-line-number="1815"></td>
        <td id="LC1815" class="blob-code blob-code-inner js-file-line">    var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1816" class="blob-num js-line-number" data-line-number="1816"></td>
        <td id="LC1816" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L1817" class="blob-num js-line-number" data-line-number="1817"></td>
        <td id="LC1817" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,frc_nm_out,crd_typ_out,dmn_nbr_2D,dmn_ids_out,&amp;frc_out_id);</td>
      </tr>
      <tr>
        <td id="L1818" class="blob-num js-line-number" data-line-number="1818"></td>
        <td id="LC1818" class="blob-code blob-code-inner js-file-line">      var_crt_nbr++;</td>
      </tr>
      <tr>
        <td id="L1819" class="blob-num js-line-number" data-line-number="1819"></td>
        <td id="LC1819" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L1820" class="blob-num js-line-number" data-line-number="1820"></td>
        <td id="LC1820" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L1821" class="blob-num js-line-number" data-line-number="1821"></td>
        <td id="LC1821" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1822" class="blob-num js-line-number" data-line-number="1822"></td>
        <td id="LC1822" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Pre-allocate dimension ID and cnt/srt space */</span></td>
      </tr>
      <tr>
        <td id="L1823" class="blob-num js-line-number" data-line-number="1823"></td>
        <td id="LC1823" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_nbr_max; <span class="pl-c">/* [nbr] Maximum number of dimensions variable can have in input or output */</span></td>
      </tr>
      <tr>
        <td id="L1824" class="blob-num js-line-number" data-line-number="1824"></td>
        <td id="LC1824" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_in_fst; <span class="pl-c">/* [idx] Offset of input- relative to output-dimension due to non-MRV dimension insertion */</span></td>
      </tr>
      <tr>
        <td id="L1825" class="blob-num js-line-number" data-line-number="1825"></td>
        <td id="LC1825" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_nbr_rec; <span class="pl-c">/* [nbr] Number of unlimited dimensions */</span></td>
      </tr>
      <tr>
        <td id="L1826" class="blob-num js-line-number" data-line-number="1826"></td>
        <td id="LC1826" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_ids_rec=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [id] Unlimited dimension IDs */</span></td>
      </tr>
      <tr>
        <td id="L1827" class="blob-num js-line-number" data-line-number="1827"></td>
        <td id="LC1827" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//int dmn_idx_in_out_pre_rgr[dmn_nbr_max];</span></td>
      </tr>
      <tr>
        <td id="L1828" class="blob-num js-line-number" data-line-number="1828"></td>
        <td id="LC1828" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_ndims</span>(in_id,&amp;dmn_nbr_max);</td>
      </tr>
      <tr>
        <td id="L1829" class="blob-num js-line-number" data-line-number="1829"></td>
        <td id="LC1829" class="blob-code blob-code-inner js-file-line">  dmn_nbr_max++; <span class="pl-c">/* Safety in case regridding adds dimension */</span></td>
      </tr>
      <tr>
        <td id="L1830" class="blob-num js-line-number" data-line-number="1830"></td>
        <td id="LC1830" class="blob-code blob-code-inner js-file-line">  dmn_id_in=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L1831" class="blob-num js-line-number" data-line-number="1831"></td>
        <td id="LC1831" class="blob-code blob-code-inner js-file-line">  dmn_id_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L1832" class="blob-num js-line-number" data-line-number="1832"></td>
        <td id="LC1832" class="blob-code blob-code-inner js-file-line">  dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L1833" class="blob-num js-line-number" data-line-number="1833"></td>
        <td id="LC1833" class="blob-code blob-code-inner js-file-line">  dmn_cnt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L1834" class="blob-num js-line-number" data-line-number="1834"></td>
        <td id="LC1834" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1835" class="blob-num js-line-number" data-line-number="1835"></td>
        <td id="LC1835" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Identify all record-dimensions in input file */</span></td>
      </tr>
      <tr>
        <td id="L1836" class="blob-num js-line-number" data-line-number="1836"></td>
        <td id="LC1836" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_unlimdims</span>(in_id,&amp;dmn_nbr_rec,dmn_ids_rec);</td>
      </tr>
      <tr>
        <td id="L1837" class="blob-num js-line-number" data-line-number="1837"></td>
        <td id="LC1837" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_nbr_rec &gt; <span class="pl-c1">0</span>){</td>
      </tr>
      <tr>
        <td id="L1838" class="blob-num js-line-number" data-line-number="1838"></td>
        <td id="LC1838" class="blob-code blob-code-inner js-file-line">    dmn_ids_rec=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_rec*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L1839" class="blob-num js-line-number" data-line-number="1839"></td>
        <td id="LC1839" class="blob-code blob-code-inner js-file-line">    rcd+=<span class="pl-c1">nco_inq_unlimdims</span>(in_id,&amp;dmn_nbr_rec,dmn_ids_rec);</td>
      </tr>
      <tr>
        <td id="L1840" class="blob-num js-line-number" data-line-number="1840"></td>
        <td id="LC1840" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !dmn_nbr_rec */</span></td>
      </tr>
      <tr>
        <td id="L1841" class="blob-num js-line-number" data-line-number="1841"></td>
        <td id="LC1841" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L1842" class="blob-num js-line-number" data-line-number="1842"></td>
        <td id="LC1842" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define regridded and copied variables in output file */</span></td>
      </tr>
      <tr>
        <td id="L1843" class="blob-num js-line-number" data-line-number="1843"></td>
        <td id="LC1843" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++){</td>
      </tr>
      <tr>
        <td id="L1844" class="blob-num js-line-number" data-line-number="1844"></td>
        <td id="LC1844" class="blob-code blob-code-inner js-file-line">    trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_mrv</span>=True;</td>
      </tr>
      <tr>
        <td id="L1845" class="blob-num js-line-number" data-line-number="1845"></td>
        <td id="LC1845" class="blob-code blob-code-inner js-file-line">    trv=trv_tbl-&gt;lst[idx_tbl];</td>
      </tr>
      <tr>
        <td id="L1846" class="blob-num js-line-number" data-line-number="1846"></td>
        <td id="LC1846" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(trv.<span class="pl-smi">nco_typ</span> == nco_obj_typ_var &amp;&amp; trv.<span class="pl-smi">flg_xtr</span>){</td>
      </tr>
      <tr>
        <td id="L1847" class="blob-num js-line-number" data-line-number="1847"></td>
        <td id="LC1847" class="blob-code blob-code-inner js-file-line">      var_nm=trv.<span class="pl-smi">nm</span>;</td>
      </tr>
      <tr>
        <td id="L1848" class="blob-num js-line-number" data-line-number="1848"></td>
        <td id="LC1848" class="blob-code blob-code-inner js-file-line">      var_typ_out=trv.<span class="pl-smi">var_typ</span>;</td>
      </tr>
      <tr>
        <td id="L1849" class="blob-num js-line-number" data-line-number="1849"></td>
        <td id="LC1849" class="blob-code blob-code-inner js-file-line">      dmn_nbr_in=trv.<span class="pl-smi">nbr_dmn</span>;</td>
      </tr>
      <tr>
        <td id="L1850" class="blob-num js-line-number" data-line-number="1850"></td>
        <td id="LC1850" class="blob-code blob-code-inner js-file-line">      dmn_nbr_out=trv.<span class="pl-smi">nbr_dmn</span>;</td>
      </tr>
      <tr>
        <td id="L1851" class="blob-num js-line-number" data-line-number="1851"></td>
        <td id="LC1851" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_varid</span>(in_id,var_nm,&amp;var_id_in);</td>
      </tr>
      <tr>
        <td id="L1852" class="blob-num js-line-number" data-line-number="1852"></td>
        <td id="LC1852" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_varid_flg</span>(out_id,var_nm,&amp;var_id_out);</td>
      </tr>
      <tr>
        <td id="L1853" class="blob-num js-line-number" data-line-number="1853"></td>
        <td id="LC1853" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* If variable has not been defined, define it */</span></td>
      </tr>
      <tr>
        <td id="L1854" class="blob-num js-line-number" data-line-number="1854"></td>
        <td id="LC1854" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1855" class="blob-num js-line-number" data-line-number="1855"></td>
        <td id="LC1855" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(trv.<span class="pl-smi">flg_rgr</span>){</td>
      </tr>
      <tr>
        <td id="L1856" class="blob-num js-line-number" data-line-number="1856"></td>
        <td id="LC1856" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Regrid */</span></td>
      </tr>
      <tr>
        <td id="L1857" class="blob-num js-line-number" data-line-number="1857"></td>
        <td id="LC1857" class="blob-code blob-code-inner js-file-line">	  rcd=<span class="pl-c1">nco_inq_vardimid</span>(in_id,var_id_in,dmn_id_in);</td>
      </tr>
      <tr>
        <td id="L1858" class="blob-num js-line-number" data-line-number="1858"></td>
        <td id="LC1858" class="blob-code blob-code-inner js-file-line">	  dmn_in_fst=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L1859" class="blob-num js-line-number" data-line-number="1859"></td>
        <td id="LC1859" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L1860" class="blob-num js-line-number" data-line-number="1860"></td>
        <td id="LC1860" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimname</span>(in_id,dmn_id_in[dmn_idx],dmn_nm);</td>
      </tr>
      <tr>
        <td id="L1861" class="blob-num js-line-number" data-line-number="1861"></td>
        <td id="LC1861" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">//dmn_idx_in_out_pre_rgr[dmn_idx]=dmn_idx;</span></td>
      </tr>
      <tr>
        <td id="L1862" class="blob-num js-line-number" data-line-number="1862"></td>
        <td id="LC1862" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* Is horizontal dimension last, i.e., most-rapidly-varying? */</span></td>
      </tr>
      <tr>
        <td id="L1863" class="blob-num js-line-number" data-line-number="1863"></td>
        <td id="LC1863" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(flg_grd_in_1D &amp;&amp; !<span class="pl-c1">strcmp</span>(dmn_nm,col_nm_in)){</td>
      </tr>
      <tr>
        <td id="L1864" class="blob-num js-line-number" data-line-number="1864"></td>
        <td id="LC1864" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>(dmn_idx != dmn_nbr_in-<span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L1865" class="blob-num js-line-number" data-line-number="1865"></td>
        <td id="LC1865" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Unstructured input grid has col in non-MRV location (expect this with, e.g., MPAS-O native grid dimension-ordering */</span></td>
      </tr>
      <tr>
        <td id="L1866" class="blob-num js-line-number" data-line-number="1866"></td>
        <td id="LC1866" class="blob-code blob-code-inner js-file-line">		(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports unstructured grid spatial coordinate <span class="pl-c1">%s</span> is (zero-based) dimension <span class="pl-c1">%d</span> of input variable to be regridded <span class="pl-c1">%s</span> which has <span class="pl-c1">%d</span> dimensions. NCO regridder has only experimental support for unstructured spatial dimensions that are not the last dimension of input variable.<span class="pl-cce">\n</span>HINT: Consider re-arranging input file dimensions to place horizontal dimension(s) last with, e.g., <span class="pl-cce">\&#39;</span>ncpdq -a time,lev,<span class="pl-c1">%s</span> in.nc out.nc<span class="pl-cce">\&#39;</span> prior to calling regridder<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,dmn_nm,dmn_idx,var_nm,dmn_nbr_in,dmn_nm);</td>
      </tr>
      <tr>
        <td id="L1867" class="blob-num js-line-number" data-line-number="1867"></td>
        <td id="LC1867" class="blob-code blob-code-inner js-file-line">		trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_mrv</span>=False;</td>
      </tr>
      <tr>
        <td id="L1868" class="blob-num js-line-number" data-line-number="1868"></td>
        <td id="LC1868" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !dmn_idx */</span></td>
      </tr>
      <tr>
        <td id="L1869" class="blob-num js-line-number" data-line-number="1869"></td>
        <td id="LC1869" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !flg_grd_in_1D */</span></td>
      </tr>
      <tr>
        <td id="L1870" class="blob-num js-line-number" data-line-number="1870"></td>
        <td id="LC1870" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(flg_grd_in_2D &amp;&amp; (!<span class="pl-c1">strcmp</span>(dmn_nm,lat_nm_in) || !<span class="pl-c1">strcmp</span>(dmn_nm,lon_nm_in))){</td>
      </tr>
      <tr>
        <td id="L1871" class="blob-num js-line-number" data-line-number="1871"></td>
        <td id="LC1871" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">/* Are horizontal dimensions most-rapidly-varying? */</span></td>
      </tr>
      <tr>
        <td id="L1872" class="blob-num js-line-number" data-line-number="1872"></td>
        <td id="LC1872" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>(dmn_idx != dmn_nbr_in-<span class="pl-c1">1</span> &amp;&amp; dmn_idx != dmn_nbr_in-<span class="pl-c1">2</span>){</td>
      </tr>
      <tr>
        <td id="L1873" class="blob-num js-line-number" data-line-number="1873"></td>
        <td id="LC1873" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* NB: Lat/lon input grid has lat/lon in non-MRV location (expect this with, e.g., AIRS L2 grid dimension-ordering */</span></td>
      </tr>
      <tr>
        <td id="L1874" class="blob-num js-line-number" data-line-number="1874"></td>
        <td id="LC1874" class="blob-code blob-code-inner js-file-line">		(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports lat-lon grid spatial coordinate <span class="pl-c1">%s</span> is (zero-based) dimension <span class="pl-c1">%d</span> of input variable to be regridded <span class="pl-c1">%s</span> which has <span class="pl-c1">%d</span> dimensions. NCO regridder has only experimental support for lat-lon dimension(s) that are not last two dimensions of input variable.<span class="pl-cce">\n</span>HINT: Consider re-arranging input file dimensions to place horizontal dimensions last with, e.g., <span class="pl-cce">\&#39;</span>ncpdq -a time,lev,lat,lon in.nc out.nc<span class="pl-cce">\&#39;</span> prior to calling regridder<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,dmn_nm,dmn_idx,var_nm,dmn_nbr_in);</td>
      </tr>
      <tr>
        <td id="L1875" class="blob-num js-line-number" data-line-number="1875"></td>
        <td id="LC1875" class="blob-code blob-code-inner js-file-line">		trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_mrv</span>=False;</td>
      </tr>
      <tr>
        <td id="L1876" class="blob-num js-line-number" data-line-number="1876"></td>
        <td id="LC1876" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !dmn_idx */</span></td>
      </tr>
      <tr>
        <td id="L1877" class="blob-num js-line-number" data-line-number="1877"></td>
        <td id="LC1877" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !flg_grd_in_2D */</span>	      </td>
      </tr>
      <tr>
        <td id="L1878" class="blob-num js-line-number" data-line-number="1878"></td>
        <td id="LC1878" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L1879" class="blob-num js-line-number" data-line-number="1879"></td>
        <td id="LC1879" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>((nco_rgr_typ == nco_rgr_grd_2D_to_1D) &amp;&amp; (!<span class="pl-c1">strcmp</span>(dmn_nm,lat_nm_in) || !<span class="pl-c1">strcmp</span>(dmn_nm,lon_nm_in))){</td>
      </tr>
      <tr>
        <td id="L1880" class="blob-num js-line-number" data-line-number="1880"></td>
        <td id="LC1880" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Replace orthogonal horizontal dimensions by unstructured horizontal dimension already defined */</span></td>
      </tr>
      <tr>
        <td id="L1881" class="blob-num js-line-number" data-line-number="1881"></td>
        <td id="LC1881" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lat_nm_in)){</td>
      </tr>
      <tr>
        <td id="L1882" class="blob-num js-line-number" data-line-number="1882"></td>
        <td id="LC1882" class="blob-code blob-code-inner js-file-line">		  <span class="pl-c">/* Replace lat with col */</span></td>
      </tr>
      <tr>
        <td id="L1883" class="blob-num js-line-number" data-line-number="1883"></td>
        <td id="LC1883" class="blob-code blob-code-inner js-file-line">		  dmn_id_out[dmn_idx]=dmn_id_col;</td>
      </tr>
      <tr>
        <td id="L1884" class="blob-num js-line-number" data-line-number="1884"></td>
        <td id="LC1884" class="blob-code blob-code-inner js-file-line">		  dmn_cnt[dmn_idx]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1885" class="blob-num js-line-number" data-line-number="1885"></td>
        <td id="LC1885" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* endif lat */</span></td>
      </tr>
      <tr>
        <td id="L1886" class="blob-num js-line-number" data-line-number="1886"></td>
        <td id="LC1886" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lon_nm_in)){</td>
      </tr>
      <tr>
        <td id="L1887" class="blob-num js-line-number" data-line-number="1887"></td>
        <td id="LC1887" class="blob-code blob-code-inner js-file-line">		  <span class="pl-c">/* Assume non-MRV dimensions are ordered lat/lon. Replace lat with col. Shift MRV dimensions to left after deleting lon. */</span></td>
      </tr>
      <tr>
        <td id="L1888" class="blob-num js-line-number" data-line-number="1888"></td>
        <td id="LC1888" class="blob-code blob-code-inner js-file-line">		  dmn_id_out[dmn_idx]=NC_MIN_INT;</td>
      </tr>
      <tr>
        <td id="L1889" class="blob-num js-line-number" data-line-number="1889"></td>
        <td id="LC1889" class="blob-code blob-code-inner js-file-line">		  dmn_cnt[dmn_idx]=NC_MIN_INT;</td>
      </tr>
      <tr>
        <td id="L1890" class="blob-num js-line-number" data-line-number="1890"></td>
        <td id="LC1890" class="blob-code blob-code-inner js-file-line">		  dmn_nbr_out--;</td>
      </tr>
      <tr>
        <td id="L1891" class="blob-num js-line-number" data-line-number="1891"></td>
        <td id="LC1891" class="blob-code blob-code-inner js-file-line">		  <span class="pl-c">/* Reduce output dimension position of all subsequent input dimensions by one */</span></td>
      </tr>
      <tr>
        <td id="L1892" class="blob-num js-line-number" data-line-number="1892"></td>
        <td id="LC1892" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">if</span>(!trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_mrv</span>) dmn_in_fst=-<span class="pl-c1">1</span>; </td>
      </tr>
      <tr>
        <td id="L1893" class="blob-num js-line-number" data-line-number="1893"></td>
        <td id="LC1893" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* endif lon */</span></td>
      </tr>
      <tr>
        <td id="L1894" class="blob-num js-line-number" data-line-number="1894"></td>
        <td id="LC1894" class="blob-code blob-code-inner js-file-line">	      }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1895" class="blob-num js-line-number" data-line-number="1895"></td>
        <td id="LC1895" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Dimension col_nm_in has already been defined as col_nm_out, replicate all other dimensions */</span></td>
      </tr>
      <tr>
        <td id="L1896" class="blob-num js-line-number" data-line-number="1896"></td>
        <td id="LC1896" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,col_nm_in)) rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,col_nm_out,dmn_id_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1897" class="blob-num js-line-number" data-line-number="1897"></td>
        <td id="LC1897" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">else</span> rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,dmn_nm,dmn_id_out+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1898" class="blob-num js-line-number" data-line-number="1898"></td>
        <td id="LC1898" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1899" class="blob-num js-line-number" data-line-number="1899"></td>
        <td id="LC1899" class="blob-code blob-code-inner js-file-line">		  rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_in[dmn_idx],dmn_cnt+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1900" class="blob-num js-line-number" data-line-number="1900"></td>
        <td id="LC1900" class="blob-code blob-code-inner js-file-line">		  <span class="pl-c">/* Check-for and, if found, retain record dimension property */</span></td>
      </tr>
      <tr>
        <td id="L1901" class="blob-num js-line-number" data-line-number="1901"></td>
        <td id="LC1901" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">for</span>(<span class="pl-k">int</span> dmn_rec_idx=<span class="pl-c1">0</span>;dmn_rec_idx &lt; dmn_nbr_rec;dmn_rec_idx++)</td>
      </tr>
      <tr>
        <td id="L1902" class="blob-num js-line-number" data-line-number="1902"></td>
        <td id="LC1902" class="blob-code blob-code-inner js-file-line">		    <span class="pl-k">if</span>(dmn_id_in[dmn_idx] == dmn_ids_rec[dmn_rec_idx])</td>
      </tr>
      <tr>
        <td id="L1903" class="blob-num js-line-number" data-line-number="1903"></td>
        <td id="LC1903" class="blob-code blob-code-inner js-file-line">		      dmn_cnt[dmn_idx+dmn_in_fst]=NC_UNLIMITED;</td>
      </tr>
      <tr>
        <td id="L1904" class="blob-num js-line-number" data-line-number="1904"></td>
        <td id="LC1904" class="blob-code blob-code-inner js-file-line">		  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,dmn_nm,dmn_cnt[dmn_idx+dmn_in_fst],dmn_id_out+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1905" class="blob-num js-line-number" data-line-number="1905"></td>
        <td id="LC1905" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1906" class="blob-num js-line-number" data-line-number="1906"></td>
        <td id="LC1906" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !lat &amp;&amp; !lon */</span></td>
      </tr>
      <tr>
        <td id="L1907" class="blob-num js-line-number" data-line-number="1907"></td>
        <td id="LC1907" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L1908" class="blob-num js-line-number" data-line-number="1908"></td>
        <td id="LC1908" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L1909" class="blob-num js-line-number" data-line-number="1909"></td>
        <td id="LC1909" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_1D_to_2D &amp;&amp; !<span class="pl-c1">strcmp</span>(dmn_nm,col_nm_in)){</td>
      </tr>
      <tr>
        <td id="L1910" class="blob-num js-line-number" data-line-number="1910"></td>
        <td id="LC1910" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Replace unstructured horizontal dimension by orthogonal horizontal dimensions already defined */</span></td>
      </tr>
      <tr>
        <td id="L1911" class="blob-num js-line-number" data-line-number="1911"></td>
        <td id="LC1911" class="blob-code blob-code-inner js-file-line">		dmn_id_out[dmn_idx]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L1912" class="blob-num js-line-number" data-line-number="1912"></td>
        <td id="LC1912" class="blob-code blob-code-inner js-file-line">		dmn_id_out[dmn_idx+<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L1913" class="blob-num js-line-number" data-line-number="1913"></td>
        <td id="LC1913" class="blob-code blob-code-inner js-file-line">		dmn_cnt[dmn_idx]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1914" class="blob-num js-line-number" data-line-number="1914"></td>
        <td id="LC1914" class="blob-code blob-code-inner js-file-line">		dmn_cnt[dmn_idx+<span class="pl-c1">1</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L1915" class="blob-num js-line-number" data-line-number="1915"></td>
        <td id="LC1915" class="blob-code blob-code-inner js-file-line">		dmn_nbr_out++;</td>
      </tr>
      <tr>
        <td id="L1916" class="blob-num js-line-number" data-line-number="1916"></td>
        <td id="LC1916" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Increase output dimension position of all subsequent input dimensions by one */</span></td>
      </tr>
      <tr>
        <td id="L1917" class="blob-num js-line-number" data-line-number="1917"></td>
        <td id="LC1917" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(!trv_tbl-&gt;lst[idx_tbl].<span class="pl-smi">flg_mrv</span>) dmn_in_fst=<span class="pl-c1">1</span>; </td>
      </tr>
      <tr>
        <td id="L1918" class="blob-num js-line-number" data-line-number="1918"></td>
        <td id="LC1918" class="blob-code blob-code-inner js-file-line">	      }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L1919" class="blob-num js-line-number" data-line-number="1919"></td>
        <td id="LC1919" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Dimensions lat/lon_nm_in have already been defined as lat/lon_nm_out, replicate all other dimensions */</span></td>
      </tr>
      <tr>
        <td id="L1920" class="blob-num js-line-number" data-line-number="1920"></td>
        <td id="LC1920" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lat_nm_in)) rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,lat_nm_out,dmn_id_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1921" class="blob-num js-line-number" data-line-number="1921"></td>
        <td id="LC1921" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">else</span> <span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lon_nm_in)) rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,lon_nm_out,dmn_id_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1922" class="blob-num js-line-number" data-line-number="1922"></td>
        <td id="LC1922" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">else</span> rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,dmn_nm,dmn_id_out+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1923" class="blob-num js-line-number" data-line-number="1923"></td>
        <td id="LC1923" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1924" class="blob-num js-line-number" data-line-number="1924"></td>
        <td id="LC1924" class="blob-code blob-code-inner js-file-line">		  rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_in[dmn_idx],dmn_cnt+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1925" class="blob-num js-line-number" data-line-number="1925"></td>
        <td id="LC1925" class="blob-code blob-code-inner js-file-line">		  <span class="pl-c">/* Check-for and, if found, retain record dimension property */</span></td>
      </tr>
      <tr>
        <td id="L1926" class="blob-num js-line-number" data-line-number="1926"></td>
        <td id="LC1926" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">for</span>(<span class="pl-k">int</span> dmn_rec_idx=<span class="pl-c1">0</span>;dmn_rec_idx &lt; dmn_nbr_rec;dmn_rec_idx++)</td>
      </tr>
      <tr>
        <td id="L1927" class="blob-num js-line-number" data-line-number="1927"></td>
        <td id="LC1927" class="blob-code blob-code-inner js-file-line">		    <span class="pl-k">if</span>(dmn_id_in[dmn_idx] == dmn_ids_rec[dmn_rec_idx])</td>
      </tr>
      <tr>
        <td id="L1928" class="blob-num js-line-number" data-line-number="1928"></td>
        <td id="LC1928" class="blob-code blob-code-inner js-file-line">		      dmn_cnt[dmn_idx+dmn_in_fst]=NC_UNLIMITED;</td>
      </tr>
      <tr>
        <td id="L1929" class="blob-num js-line-number" data-line-number="1929"></td>
        <td id="LC1929" class="blob-code blob-code-inner js-file-line">		  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,dmn_nm,dmn_cnt[dmn_idx+dmn_in_fst],dmn_id_out+dmn_idx+dmn_in_fst);</td>
      </tr>
      <tr>
        <td id="L1930" class="blob-num js-line-number" data-line-number="1930"></td>
        <td id="LC1930" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1931" class="blob-num js-line-number" data-line-number="1931"></td>
        <td id="LC1931" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !col */</span></td>
      </tr>
      <tr>
        <td id="L1932" class="blob-num js-line-number" data-line-number="1932"></td>
        <td id="LC1932" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !1D_to_2D */</span></td>
      </tr>
      <tr>
        <td id="L1933" class="blob-num js-line-number" data-line-number="1933"></td>
        <td id="LC1933" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !dmn_idx */</span></td>
      </tr>
      <tr>
        <td id="L1934" class="blob-num js-line-number" data-line-number="1934"></td>
        <td id="LC1934" class="blob-code blob-code-inner js-file-line">	}<span class="pl-k">else</span>{ <span class="pl-c">/* !flg_rgr */</span></td>
      </tr>
      <tr>
        <td id="L1935" class="blob-num js-line-number" data-line-number="1935"></td>
        <td id="LC1935" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Replicate non-regridded variables */</span></td>
      </tr>
      <tr>
        <td id="L1936" class="blob-num js-line-number" data-line-number="1936"></td>
        <td id="LC1936" class="blob-code blob-code-inner js-file-line">	  rcd=<span class="pl-c1">nco_inq_vardimid</span>(in_id,var_id_in,dmn_id_in);</td>
      </tr>
      <tr>
        <td id="L1937" class="blob-num js-line-number" data-line-number="1937"></td>
        <td id="LC1937" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L1938" class="blob-num js-line-number" data-line-number="1938"></td>
        <td id="LC1938" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimname</span>(in_id,dmn_id_in[dmn_idx],dmn_nm);</td>
      </tr>
      <tr>
        <td id="L1939" class="blob-num js-line-number" data-line-number="1939"></td>
        <td id="LC1939" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(out_id,dmn_nm,dmn_id_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1940" class="blob-num js-line-number" data-line-number="1940"></td>
        <td id="LC1940" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(rcd != NC_NOERR){</td>
      </tr>
      <tr>
        <td id="L1941" class="blob-num js-line-number" data-line-number="1941"></td>
        <td id="LC1941" class="blob-code blob-code-inner js-file-line">	      rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_in[dmn_idx],dmn_cnt+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1942" class="blob-num js-line-number" data-line-number="1942"></td>
        <td id="LC1942" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">/* Check-for and, if found, retain record dimension property */</span></td>
      </tr>
      <tr>
        <td id="L1943" class="blob-num js-line-number" data-line-number="1943"></td>
        <td id="LC1943" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(<span class="pl-k">int</span> dmn_rec_idx=<span class="pl-c1">0</span>;dmn_rec_idx &lt; dmn_nbr_rec;dmn_rec_idx++)</td>
      </tr>
      <tr>
        <td id="L1944" class="blob-num js-line-number" data-line-number="1944"></td>
        <td id="LC1944" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(dmn_id_in[dmn_idx] == dmn_ids_rec[dmn_rec_idx])</td>
      </tr>
      <tr>
        <td id="L1945" class="blob-num js-line-number" data-line-number="1945"></td>
        <td id="LC1945" class="blob-code blob-code-inner js-file-line">		  dmn_cnt[dmn_idx]=NC_UNLIMITED;</td>
      </tr>
      <tr>
        <td id="L1946" class="blob-num js-line-number" data-line-number="1946"></td>
        <td id="LC1946" class="blob-code blob-code-inner js-file-line">	      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,dmn_nm,dmn_cnt[dmn_idx],dmn_id_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L1947" class="blob-num js-line-number" data-line-number="1947"></td>
        <td id="LC1947" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1948" class="blob-num js-line-number" data-line-number="1948"></td>
        <td id="LC1948" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !dmn_idx */</span></td>
      </tr>
      <tr>
        <td id="L1949" class="blob-num js-line-number" data-line-number="1949"></td>
        <td id="LC1949" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_rgr */</span></td>
      </tr>
      <tr>
        <td id="L1950" class="blob-num js-line-number" data-line-number="1950"></td>
        <td id="LC1950" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_def_var</span>(out_id,var_nm,var_typ_out,dmn_nbr_out,dmn_id_out,&amp;var_id_out);</td>
      </tr>
      <tr>
        <td id="L1951" class="blob-num js-line-number" data-line-number="1951"></td>
        <td id="LC1951" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">nco_att_cpy</span>(in_id,out_id,var_id_in,var_id_out,PCK_ATT_CPY);</td>
      </tr>
      <tr>
        <td id="L1952" class="blob-num js-line-number" data-line-number="1952"></td>
        <td id="LC1952" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(trv.<span class="pl-smi">flg_rgr</span>){</td>
      </tr>
      <tr>
        <td id="L1953" class="blob-num js-line-number" data-line-number="1953"></td>
        <td id="LC1953" class="blob-code blob-code-inner js-file-line">	  aed_mtd_crd.<span class="pl-smi">var_nm</span>=var_nm;</td>
      </tr>
      <tr>
        <td id="L1954" class="blob-num js-line-number" data-line-number="1954"></td>
        <td id="LC1954" class="blob-code blob-code-inner js-file-line">	  aed_mtd_crd.<span class="pl-smi">id</span>=var_id_out;</td>
      </tr>
      <tr>
        <td id="L1955" class="blob-num js-line-number" data-line-number="1955"></td>
        <td id="LC1955" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,var_id_out,aed_mtd_crd);</td>
      </tr>
      <tr>
        <td id="L1956" class="blob-num js-line-number" data-line-number="1956"></td>
        <td id="LC1956" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_rgr */</span></td>
      </tr>
      <tr>
        <td id="L1957" class="blob-num js-line-number" data-line-number="1957"></td>
        <td id="LC1957" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !rcd */</span></td>
      </tr>
      <tr>
        <td id="L1958" class="blob-num js-line-number" data-line-number="1958"></td>
        <td id="LC1958" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !var */</span></td>
      </tr>
      <tr>
        <td id="L1959" class="blob-num js-line-number" data-line-number="1959"></td>
        <td id="LC1959" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end idx_tbl */</span></td>
      </tr>
      <tr>
        <td id="L1960" class="blob-num js-line-number" data-line-number="1960"></td>
        <td id="LC1960" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1961" class="blob-num js-line-number" data-line-number="1961"></td>
        <td id="LC1961" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free pre-allocated array space */</span></td>
      </tr>
      <tr>
        <td id="L1962" class="blob-num js-line-number" data-line-number="1962"></td>
        <td id="LC1962" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_id_in) dmn_id_in=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_id_in);</td>
      </tr>
      <tr>
        <td id="L1963" class="blob-num js-line-number" data-line-number="1963"></td>
        <td id="LC1963" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_id_out) dmn_id_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_id_out);</td>
      </tr>
      <tr>
        <td id="L1964" class="blob-num js-line-number" data-line-number="1964"></td>
        <td id="LC1964" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_srt) dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_srt);</td>
      </tr>
      <tr>
        <td id="L1965" class="blob-num js-line-number" data-line-number="1965"></td>
        <td id="LC1965" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_cnt) dmn_cnt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_cnt);</td>
      </tr>
      <tr>
        <td id="L1966" class="blob-num js-line-number" data-line-number="1966"></td>
        <td id="LC1966" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_ids_rec) dmn_ids_rec=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_ids_rec);</td>
      </tr>
      <tr>
        <td id="L1967" class="blob-num js-line-number" data-line-number="1967"></td>
        <td id="LC1967" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1968" class="blob-num js-line-number" data-line-number="1968"></td>
        <td id="LC1968" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define new metadata in regridded file */</span></td>
      </tr>
      <tr>
        <td id="L1969" class="blob-num js-line-number" data-line-number="1969"></td>
        <td id="LC1969" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1970" class="blob-num js-line-number" data-line-number="1970"></td>
        <td id="LC1970" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>solid angle subtended by gridcell<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1971" class="blob-num js-line-number" data-line-number="1971"></td>
        <td id="LC1971" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L1972" class="blob-num js-line-number" data-line-number="1972"></td>
        <td id="LC1972" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=area_nm_out;</td>
      </tr>
      <tr>
        <td id="L1973" class="blob-num js-line-number" data-line-number="1973"></td>
        <td id="LC1973" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_out_id;</td>
      </tr>
      <tr>
        <td id="L1974" class="blob-num js-line-number" data-line-number="1974"></td>
        <td id="LC1974" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L1975" class="blob-num js-line-number" data-line-number="1975"></td>
        <td id="LC1975" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L1976" class="blob-num js-line-number" data-line-number="1976"></td>
        <td id="LC1976" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L1977" class="blob-num js-line-number" data-line-number="1977"></td>
        <td id="LC1977" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L1978" class="blob-num js-line-number" data-line-number="1978"></td>
        <td id="LC1978" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L1979" class="blob-num js-line-number" data-line-number="1979"></td>
        <td id="LC1979" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L1980" class="blob-num js-line-number" data-line-number="1980"></td>
        <td id="LC1980" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L1981" class="blob-num js-line-number" data-line-number="1981"></td>
        <td id="LC1981" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1982" class="blob-num js-line-number" data-line-number="1982"></td>
        <td id="LC1982" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>standard_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1983" class="blob-num js-line-number" data-line-number="1983"></td>
        <td id="LC1983" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>cell_area<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1984" class="blob-num js-line-number" data-line-number="1984"></td>
        <td id="LC1984" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L1985" class="blob-num js-line-number" data-line-number="1985"></td>
        <td id="LC1985" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=area_nm_out;</td>
      </tr>
      <tr>
        <td id="L1986" class="blob-num js-line-number" data-line-number="1986"></td>
        <td id="LC1986" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_out_id;</td>
      </tr>
      <tr>
        <td id="L1987" class="blob-num js-line-number" data-line-number="1987"></td>
        <td id="LC1987" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L1988" class="blob-num js-line-number" data-line-number="1988"></td>
        <td id="LC1988" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L1989" class="blob-num js-line-number" data-line-number="1989"></td>
        <td id="LC1989" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L1990" class="blob-num js-line-number" data-line-number="1990"></td>
        <td id="LC1990" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L1991" class="blob-num js-line-number" data-line-number="1991"></td>
        <td id="LC1991" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L1992" class="blob-num js-line-number" data-line-number="1992"></td>
        <td id="LC1992" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L1993" class="blob-num js-line-number" data-line-number="1993"></td>
        <td id="LC1993" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L1994" class="blob-num js-line-number" data-line-number="1994"></td>
        <td id="LC1994" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L1995" class="blob-num js-line-number" data-line-number="1995"></td>
        <td id="LC1995" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1996" class="blob-num js-line-number" data-line-number="1996"></td>
        <td id="LC1996" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>steradian<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L1997" class="blob-num js-line-number" data-line-number="1997"></td>
        <td id="LC1997" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L1998" class="blob-num js-line-number" data-line-number="1998"></td>
        <td id="LC1998" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=area_nm_out;</td>
      </tr>
      <tr>
        <td id="L1999" class="blob-num js-line-number" data-line-number="1999"></td>
        <td id="LC1999" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_out_id;</td>
      </tr>
      <tr>
        <td id="L2000" class="blob-num js-line-number" data-line-number="2000"></td>
        <td id="LC2000" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2001" class="blob-num js-line-number" data-line-number="2001"></td>
        <td id="LC2001" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2002" class="blob-num js-line-number" data-line-number="2002"></td>
        <td id="LC2002" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2003" class="blob-num js-line-number" data-line-number="2003"></td>
        <td id="LC2003" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2004" class="blob-num js-line-number" data-line-number="2004"></td>
        <td id="LC2004" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2005" class="blob-num js-line-number" data-line-number="2005"></td>
        <td id="LC2005" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2006" class="blob-num js-line-number" data-line-number="2006"></td>
        <td id="LC2006" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2007" class="blob-num js-line-number" data-line-number="2007"></td>
        <td id="LC2007" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2008" class="blob-num js-line-number" data-line-number="2008"></td>
        <td id="LC2008" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>cell_methods<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2009" class="blob-num js-line-number" data-line-number="2009"></td>
        <td id="LC2009" class="blob-code blob-code-inner js-file-line">  att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_calloc</span>((<span class="pl-c1">strlen</span>(lat_nm_out)+<span class="pl-c1">strlen</span>(lon_nm_out)+<span class="pl-c1">8L</span>),<span class="pl-k">sizeof</span>(<span class="pl-k">char</span>));</td>
      </tr>
      <tr>
        <td id="L2010" class="blob-num js-line-number" data-line-number="2010"></td>
        <td id="LC2010" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">sprintf</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>, <span class="pl-c1">%s</span>: sum<span class="pl-pds">&quot;</span></span>,lat_nm_out,lon_nm_out);</td>
      </tr>
      <tr>
        <td id="L2011" class="blob-num js-line-number" data-line-number="2011"></td>
        <td id="LC2011" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2012" class="blob-num js-line-number" data-line-number="2012"></td>
        <td id="LC2012" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=area_nm_out;</td>
      </tr>
      <tr>
        <td id="L2013" class="blob-num js-line-number" data-line-number="2013"></td>
        <td id="LC2013" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_out_id;</td>
      </tr>
      <tr>
        <td id="L2014" class="blob-num js-line-number" data-line-number="2014"></td>
        <td id="LC2014" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2015" class="blob-num js-line-number" data-line-number="2015"></td>
        <td id="LC2015" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2016" class="blob-num js-line-number" data-line-number="2016"></td>
        <td id="LC2016" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2017" class="blob-num js-line-number" data-line-number="2017"></td>
        <td id="LC2017" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2018" class="blob-num js-line-number" data-line-number="2018"></td>
        <td id="LC2018" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2019" class="blob-num js-line-number" data-line-number="2019"></td>
        <td id="LC2019" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2020" class="blob-num js-line-number" data-line-number="2020"></td>
        <td id="LC2020" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2021" class="blob-num js-line-number" data-line-number="2021"></td>
        <td id="LC2021" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2022" class="blob-num js-line-number" data-line-number="2022"></td>
        <td id="LC2022" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L2023" class="blob-num js-line-number" data-line-number="2023"></td>
        <td id="LC2023" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2024" class="blob-num js-line-number" data-line-number="2024"></td>
        <td id="LC2024" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>fraction of gridcell valid on destination grid<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2025" class="blob-num js-line-number" data-line-number="2025"></td>
        <td id="LC2025" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2026" class="blob-num js-line-number" data-line-number="2026"></td>
        <td id="LC2026" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=frc_nm_out;</td>
      </tr>
      <tr>
        <td id="L2027" class="blob-num js-line-number" data-line-number="2027"></td>
        <td id="LC2027" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=frc_out_id;</td>
      </tr>
      <tr>
        <td id="L2028" class="blob-num js-line-number" data-line-number="2028"></td>
        <td id="LC2028" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2029" class="blob-num js-line-number" data-line-number="2029"></td>
        <td id="LC2029" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2030" class="blob-num js-line-number" data-line-number="2030"></td>
        <td id="LC2030" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2031" class="blob-num js-line-number" data-line-number="2031"></td>
        <td id="LC2031" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2032" class="blob-num js-line-number" data-line-number="2032"></td>
        <td id="LC2032" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,frc_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2033" class="blob-num js-line-number" data-line-number="2033"></td>
        <td id="LC2033" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2034" class="blob-num js-line-number" data-line-number="2034"></td>
        <td id="LC2034" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2035" class="blob-num js-line-number" data-line-number="2035"></td>
        <td id="LC2035" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2036" class="blob-num js-line-number" data-line-number="2036"></td>
        <td id="LC2036" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>cell_methods<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2037" class="blob-num js-line-number" data-line-number="2037"></td>
        <td id="LC2037" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_calloc</span>((<span class="pl-c1">strlen</span>(lat_nm_out)+<span class="pl-c1">strlen</span>(lon_nm_out)+<span class="pl-c1">8L</span>),<span class="pl-k">sizeof</span>(<span class="pl-k">char</span>));</td>
      </tr>
      <tr>
        <td id="L2038" class="blob-num js-line-number" data-line-number="2038"></td>
        <td id="LC2038" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">sprintf</span>(att_val,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>, <span class="pl-c1">%s</span>: sum<span class="pl-pds">&quot;</span></span>,lat_nm_out,lon_nm_out);</td>
      </tr>
      <tr>
        <td id="L2039" class="blob-num js-line-number" data-line-number="2039"></td>
        <td id="LC2039" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2040" class="blob-num js-line-number" data-line-number="2040"></td>
        <td id="LC2040" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=frc_nm_out;</td>
      </tr>
      <tr>
        <td id="L2041" class="blob-num js-line-number" data-line-number="2041"></td>
        <td id="LC2041" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=frc_out_id;</td>
      </tr>
      <tr>
        <td id="L2042" class="blob-num js-line-number" data-line-number="2042"></td>
        <td id="LC2042" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2043" class="blob-num js-line-number" data-line-number="2043"></td>
        <td id="LC2043" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2044" class="blob-num js-line-number" data-line-number="2044"></td>
        <td id="LC2044" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2045" class="blob-num js-line-number" data-line-number="2045"></td>
        <td id="LC2045" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2046" class="blob-num js-line-number" data-line-number="2046"></td>
        <td id="LC2046" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,frc_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2047" class="blob-num js-line-number" data-line-number="2047"></td>
        <td id="LC2047" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2048" class="blob-num js-line-number" data-line-number="2048"></td>
        <td id="LC2048" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2049" class="blob-num js-line-number" data-line-number="2049"></td>
        <td id="LC2049" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L2050" class="blob-num js-line-number" data-line-number="2050"></td>
        <td id="LC2050" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2051" class="blob-num js-line-number" data-line-number="2051"></td>
        <td id="LC2051" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2052" class="blob-num js-line-number" data-line-number="2052"></td>
        <td id="LC2052" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2053" class="blob-num js-line-number" data-line-number="2053"></td>
        <td id="LC2053" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2054" class="blob-num js-line-number" data-line-number="2054"></td>
        <td id="LC2054" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2055" class="blob-num js-line-number" data-line-number="2055"></td>
        <td id="LC2055" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2056" class="blob-num js-line-number" data-line-number="2056"></td>
        <td id="LC2056" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2057" class="blob-num js-line-number" data-line-number="2057"></td>
        <td id="LC2057" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2058" class="blob-num js-line-number" data-line-number="2058"></td>
        <td id="LC2058" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2059" class="blob-num js-line-number" data-line-number="2059"></td>
        <td id="LC2059" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2060" class="blob-num js-line-number" data-line-number="2060"></td>
        <td id="LC2060" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2061" class="blob-num js-line-number" data-line-number="2061"></td>
        <td id="LC2061" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2062" class="blob-num js-line-number" data-line-number="2062"></td>
        <td id="LC2062" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2063" class="blob-num js-line-number" data-line-number="2063"></td>
        <td id="LC2063" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2064" class="blob-num js-line-number" data-line-number="2064"></td>
        <td id="LC2064" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>standard_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2065" class="blob-num js-line-number" data-line-number="2065"></td>
        <td id="LC2065" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2066" class="blob-num js-line-number" data-line-number="2066"></td>
        <td id="LC2066" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2067" class="blob-num js-line-number" data-line-number="2067"></td>
        <td id="LC2067" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2068" class="blob-num js-line-number" data-line-number="2068"></td>
        <td id="LC2068" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2069" class="blob-num js-line-number" data-line-number="2069"></td>
        <td id="LC2069" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2070" class="blob-num js-line-number" data-line-number="2070"></td>
        <td id="LC2070" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2071" class="blob-num js-line-number" data-line-number="2071"></td>
        <td id="LC2071" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2072" class="blob-num js-line-number" data-line-number="2072"></td>
        <td id="LC2072" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2073" class="blob-num js-line-number" data-line-number="2073"></td>
        <td id="LC2073" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2074" class="blob-num js-line-number" data-line-number="2074"></td>
        <td id="LC2074" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2075" class="blob-num js-line-number" data-line-number="2075"></td>
        <td id="LC2075" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2076" class="blob-num js-line-number" data-line-number="2076"></td>
        <td id="LC2076" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2077" class="blob-num js-line-number" data-line-number="2077"></td>
        <td id="LC2077" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2078" class="blob-num js-line-number" data-line-number="2078"></td>
        <td id="LC2078" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>degrees_north<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2079" class="blob-num js-line-number" data-line-number="2079"></td>
        <td id="LC2079" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2080" class="blob-num js-line-number" data-line-number="2080"></td>
        <td id="LC2080" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2081" class="blob-num js-line-number" data-line-number="2081"></td>
        <td id="LC2081" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2082" class="blob-num js-line-number" data-line-number="2082"></td>
        <td id="LC2082" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2083" class="blob-num js-line-number" data-line-number="2083"></td>
        <td id="LC2083" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2084" class="blob-num js-line-number" data-line-number="2084"></td>
        <td id="LC2084" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2085" class="blob-num js-line-number" data-line-number="2085"></td>
        <td id="LC2085" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2086" class="blob-num js-line-number" data-line-number="2086"></td>
        <td id="LC2086" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2087" class="blob-num js-line-number" data-line-number="2087"></td>
        <td id="LC2087" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2088" class="blob-num js-line-number" data-line-number="2088"></td>
        <td id="LC2088" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2089" class="blob-num js-line-number" data-line-number="2089"></td>
        <td id="LC2089" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2090" class="blob-num js-line-number" data-line-number="2090"></td>
        <td id="LC2090" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>axis<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2091" class="blob-num js-line-number" data-line-number="2091"></td>
        <td id="LC2091" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Y<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2092" class="blob-num js-line-number" data-line-number="2092"></td>
        <td id="LC2092" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2093" class="blob-num js-line-number" data-line-number="2093"></td>
        <td id="LC2093" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2094" class="blob-num js-line-number" data-line-number="2094"></td>
        <td id="LC2094" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2095" class="blob-num js-line-number" data-line-number="2095"></td>
        <td id="LC2095" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2096" class="blob-num js-line-number" data-line-number="2096"></td>
        <td id="LC2096" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2097" class="blob-num js-line-number" data-line-number="2097"></td>
        <td id="LC2097" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2098" class="blob-num js-line-number" data-line-number="2098"></td>
        <td id="LC2098" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2099" class="blob-num js-line-number" data-line-number="2099"></td>
        <td id="LC2099" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2100" class="blob-num js-line-number" data-line-number="2100"></td>
        <td id="LC2100" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2101" class="blob-num js-line-number" data-line-number="2101"></td>
        <td id="LC2101" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2102" class="blob-num js-line-number" data-line-number="2102"></td>
        <td id="LC2102" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2103" class="blob-num js-line-number" data-line-number="2103"></td>
        <td id="LC2103" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>bounds<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2104" class="blob-num js-line-number" data-line-number="2104"></td>
        <td id="LC2104" class="blob-code blob-code-inner js-file-line">  att_val=lat_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L2105" class="blob-num js-line-number" data-line-number="2105"></td>
        <td id="LC2105" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2106" class="blob-num js-line-number" data-line-number="2106"></td>
        <td id="LC2106" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2107" class="blob-num js-line-number" data-line-number="2107"></td>
        <td id="LC2107" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2108" class="blob-num js-line-number" data-line-number="2108"></td>
        <td id="LC2108" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2109" class="blob-num js-line-number" data-line-number="2109"></td>
        <td id="LC2109" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2110" class="blob-num js-line-number" data-line-number="2110"></td>
        <td id="LC2110" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2111" class="blob-num js-line-number" data-line-number="2111"></td>
        <td id="LC2111" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2112" class="blob-num js-line-number" data-line-number="2112"></td>
        <td id="LC2112" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2113" class="blob-num js-line-number" data-line-number="2113"></td>
        <td id="LC2113" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2114" class="blob-num js-line-number" data-line-number="2114"></td>
        <td id="LC2114" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2115" class="blob-num js-line-number" data-line-number="2115"></td>
        <td id="LC2115" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2116" class="blob-num js-line-number" data-line-number="2116"></td>
        <td id="LC2116" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D) att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>gridcell latitude interfaces<span class="pl-pds">&quot;</span></span>); <span class="pl-k">else</span> att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>gridcell latitude vertices<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2117" class="blob-num js-line-number" data-line-number="2117"></td>
        <td id="LC2117" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2118" class="blob-num js-line-number" data-line-number="2118"></td>
        <td id="LC2118" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lat_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L2119" class="blob-num js-line-number" data-line-number="2119"></td>
        <td id="LC2119" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lat_bnd_id;</td>
      </tr>
      <tr>
        <td id="L2120" class="blob-num js-line-number" data-line-number="2120"></td>
        <td id="LC2120" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2121" class="blob-num js-line-number" data-line-number="2121"></td>
        <td id="LC2121" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2122" class="blob-num js-line-number" data-line-number="2122"></td>
        <td id="LC2122" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2123" class="blob-num js-line-number" data-line-number="2123"></td>
        <td id="LC2123" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2124" class="blob-num js-line-number" data-line-number="2124"></td>
        <td id="LC2124" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_bnd_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2125" class="blob-num js-line-number" data-line-number="2125"></td>
        <td id="LC2125" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2126" class="blob-num js-line-number" data-line-number="2126"></td>
        <td id="LC2126" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2127" class="blob-num js-line-number" data-line-number="2127"></td>
        <td id="LC2127" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2128" class="blob-num js-line-number" data-line-number="2128"></td>
        <td id="LC2128" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2129" class="blob-num js-line-number" data-line-number="2129"></td>
        <td id="LC2129" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2130" class="blob-num js-line-number" data-line-number="2130"></td>
        <td id="LC2130" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2131" class="blob-num js-line-number" data-line-number="2131"></td>
        <td id="LC2131" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2132" class="blob-num js-line-number" data-line-number="2132"></td>
        <td id="LC2132" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2133" class="blob-num js-line-number" data-line-number="2133"></td>
        <td id="LC2133" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2134" class="blob-num js-line-number" data-line-number="2134"></td>
        <td id="LC2134" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2135" class="blob-num js-line-number" data-line-number="2135"></td>
        <td id="LC2135" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2136" class="blob-num js-line-number" data-line-number="2136"></td>
        <td id="LC2136" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2137" class="blob-num js-line-number" data-line-number="2137"></td>
        <td id="LC2137" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2138" class="blob-num js-line-number" data-line-number="2138"></td>
        <td id="LC2138" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2139" class="blob-num js-line-number" data-line-number="2139"></td>
        <td id="LC2139" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2140" class="blob-num js-line-number" data-line-number="2140"></td>
        <td id="LC2140" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2141" class="blob-num js-line-number" data-line-number="2141"></td>
        <td id="LC2141" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>standard_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2142" class="blob-num js-line-number" data-line-number="2142"></td>
        <td id="LC2142" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2143" class="blob-num js-line-number" data-line-number="2143"></td>
        <td id="LC2143" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2144" class="blob-num js-line-number" data-line-number="2144"></td>
        <td id="LC2144" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2145" class="blob-num js-line-number" data-line-number="2145"></td>
        <td id="LC2145" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2146" class="blob-num js-line-number" data-line-number="2146"></td>
        <td id="LC2146" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2147" class="blob-num js-line-number" data-line-number="2147"></td>
        <td id="LC2147" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2148" class="blob-num js-line-number" data-line-number="2148"></td>
        <td id="LC2148" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2149" class="blob-num js-line-number" data-line-number="2149"></td>
        <td id="LC2149" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2150" class="blob-num js-line-number" data-line-number="2150"></td>
        <td id="LC2150" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2151" class="blob-num js-line-number" data-line-number="2151"></td>
        <td id="LC2151" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2152" class="blob-num js-line-number" data-line-number="2152"></td>
        <td id="LC2152" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2153" class="blob-num js-line-number" data-line-number="2153"></td>
        <td id="LC2153" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2154" class="blob-num js-line-number" data-line-number="2154"></td>
        <td id="LC2154" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2155" class="blob-num js-line-number" data-line-number="2155"></td>
        <td id="LC2155" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>degrees_east<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2156" class="blob-num js-line-number" data-line-number="2156"></td>
        <td id="LC2156" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2157" class="blob-num js-line-number" data-line-number="2157"></td>
        <td id="LC2157" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2158" class="blob-num js-line-number" data-line-number="2158"></td>
        <td id="LC2158" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2159" class="blob-num js-line-number" data-line-number="2159"></td>
        <td id="LC2159" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2160" class="blob-num js-line-number" data-line-number="2160"></td>
        <td id="LC2160" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2161" class="blob-num js-line-number" data-line-number="2161"></td>
        <td id="LC2161" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2162" class="blob-num js-line-number" data-line-number="2162"></td>
        <td id="LC2162" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2163" class="blob-num js-line-number" data-line-number="2163"></td>
        <td id="LC2163" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2164" class="blob-num js-line-number" data-line-number="2164"></td>
        <td id="LC2164" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2165" class="blob-num js-line-number" data-line-number="2165"></td>
        <td id="LC2165" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2166" class="blob-num js-line-number" data-line-number="2166"></td>
        <td id="LC2166" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2167" class="blob-num js-line-number" data-line-number="2167"></td>
        <td id="LC2167" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>axis<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2168" class="blob-num js-line-number" data-line-number="2168"></td>
        <td id="LC2168" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>X<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2169" class="blob-num js-line-number" data-line-number="2169"></td>
        <td id="LC2169" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2170" class="blob-num js-line-number" data-line-number="2170"></td>
        <td id="LC2170" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2171" class="blob-num js-line-number" data-line-number="2171"></td>
        <td id="LC2171" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2172" class="blob-num js-line-number" data-line-number="2172"></td>
        <td id="LC2172" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2173" class="blob-num js-line-number" data-line-number="2173"></td>
        <td id="LC2173" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2174" class="blob-num js-line-number" data-line-number="2174"></td>
        <td id="LC2174" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2175" class="blob-num js-line-number" data-line-number="2175"></td>
        <td id="LC2175" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2176" class="blob-num js-line-number" data-line-number="2176"></td>
        <td id="LC2176" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2177" class="blob-num js-line-number" data-line-number="2177"></td>
        <td id="LC2177" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2178" class="blob-num js-line-number" data-line-number="2178"></td>
        <td id="LC2178" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2179" class="blob-num js-line-number" data-line-number="2179"></td>
        <td id="LC2179" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2180" class="blob-num js-line-number" data-line-number="2180"></td>
        <td id="LC2180" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* UGRID Conventions define &quot;topology&quot; and &quot;modulo&quot; attributes </span></td>
      </tr>
      <tr>
        <td id="L2181" class="blob-num js-line-number" data-line-number="2181"></td>
        <td id="LC2181" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://github.com/ugrid-conventions/ugrid-conventions/blob/master/ugrid-conventions.md</span></td>
      </tr>
      <tr>
        <td id="L2182" class="blob-num js-line-number" data-line-number="2182"></td>
        <td id="LC2182" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     My understanding is these should only be utilized for global grids */</span></td>
      </tr>
      <tr>
        <td id="L2183" class="blob-num js-line-number" data-line-number="2183"></td>
        <td id="LC2183" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(nco_rgr_typ == nco_rgr_grd_2D_to_2D){</td>
      </tr>
      <tr>
        <td id="L2184" class="blob-num js-line-number" data-line-number="2184"></td>
        <td id="LC2184" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* fxm: change this to check whether lon_spn &gt;= 360 or nco_grd_xtn == global */</span></td>
      </tr>
      <tr>
        <td id="L2185" class="blob-num js-line-number" data-line-number="2185"></td>
        <td id="LC2185" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>modulo<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2186" class="blob-num js-line-number" data-line-number="2186"></td>
        <td id="LC2186" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> modulo=<span class="pl-c1">360.0</span>;</td>
      </tr>
      <tr>
        <td id="L2187" class="blob-num js-line-number" data-line-number="2187"></td>
        <td id="LC2187" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2188" class="blob-num js-line-number" data-line-number="2188"></td>
        <td id="LC2188" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2189" class="blob-num js-line-number" data-line-number="2189"></td>
        <td id="LC2189" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2190" class="blob-num js-line-number" data-line-number="2190"></td>
        <td id="LC2190" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L2191" class="blob-num js-line-number" data-line-number="2191"></td>
        <td id="LC2191" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_DOUBLE;</td>
      </tr>
      <tr>
        <td id="L2192" class="blob-num js-line-number" data-line-number="2192"></td>
        <td id="LC2192" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">dp</span>=&amp;modulo;</td>
      </tr>
      <tr>
        <td id="L2193" class="blob-num js-line-number" data-line-number="2193"></td>
        <td id="LC2193" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2194" class="blob-num js-line-number" data-line-number="2194"></td>
        <td id="LC2194" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2195" class="blob-num js-line-number" data-line-number="2195"></td>
        <td id="LC2195" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2196" class="blob-num js-line-number" data-line-number="2196"></td>
        <td id="LC2196" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2197" class="blob-num js-line-number" data-line-number="2197"></td>
        <td id="LC2197" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>topology<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2198" class="blob-num js-line-number" data-line-number="2198"></td>
        <td id="LC2198" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>circular<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2199" class="blob-num js-line-number" data-line-number="2199"></td>
        <td id="LC2199" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2200" class="blob-num js-line-number" data-line-number="2200"></td>
        <td id="LC2200" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2201" class="blob-num js-line-number" data-line-number="2201"></td>
        <td id="LC2201" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2202" class="blob-num js-line-number" data-line-number="2202"></td>
        <td id="LC2202" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2203" class="blob-num js-line-number" data-line-number="2203"></td>
        <td id="LC2203" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2204" class="blob-num js-line-number" data-line-number="2204"></td>
        <td id="LC2204" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2205" class="blob-num js-line-number" data-line-number="2205"></td>
        <td id="LC2205" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2206" class="blob-num js-line-number" data-line-number="2206"></td>
        <td id="LC2206" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2207" class="blob-num js-line-number" data-line-number="2207"></td>
        <td id="LC2207" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2208" class="blob-num js-line-number" data-line-number="2208"></td>
        <td id="LC2208" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2209" class="blob-num js-line-number" data-line-number="2209"></td>
        <td id="LC2209" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !nco_rgr_grd_2D_to_2D */</span></td>
      </tr>
      <tr>
        <td id="L2210" class="blob-num js-line-number" data-line-number="2210"></td>
        <td id="LC2210" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2211" class="blob-num js-line-number" data-line-number="2211"></td>
        <td id="LC2211" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>bounds<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2212" class="blob-num js-line-number" data-line-number="2212"></td>
        <td id="LC2212" class="blob-code blob-code-inner js-file-line">  att_val=lon_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L2213" class="blob-num js-line-number" data-line-number="2213"></td>
        <td id="LC2213" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2214" class="blob-num js-line-number" data-line-number="2214"></td>
        <td id="LC2214" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2215" class="blob-num js-line-number" data-line-number="2215"></td>
        <td id="LC2215" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2216" class="blob-num js-line-number" data-line-number="2216"></td>
        <td id="LC2216" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2217" class="blob-num js-line-number" data-line-number="2217"></td>
        <td id="LC2217" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2218" class="blob-num js-line-number" data-line-number="2218"></td>
        <td id="LC2218" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2219" class="blob-num js-line-number" data-line-number="2219"></td>
        <td id="LC2219" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2220" class="blob-num js-line-number" data-line-number="2220"></td>
        <td id="LC2220" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2221" class="blob-num js-line-number" data-line-number="2221"></td>
        <td id="LC2221" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2222" class="blob-num js-line-number" data-line-number="2222"></td>
        <td id="LC2222" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2223" class="blob-num js-line-number" data-line-number="2223"></td>
        <td id="LC2223" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2224" class="blob-num js-line-number" data-line-number="2224"></td>
        <td id="LC2224" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D) att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>gridcell longitude interfaces<span class="pl-pds">&quot;</span></span>); <span class="pl-k">else</span> att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>gridcell longitude vertices<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2225" class="blob-num js-line-number" data-line-number="2225"></td>
        <td id="LC2225" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2226" class="blob-num js-line-number" data-line-number="2226"></td>
        <td id="LC2226" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=lon_bnd_nm_out;</td>
      </tr>
      <tr>
        <td id="L2227" class="blob-num js-line-number" data-line-number="2227"></td>
        <td id="LC2227" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=lon_bnd_id;</td>
      </tr>
      <tr>
        <td id="L2228" class="blob-num js-line-number" data-line-number="2228"></td>
        <td id="LC2228" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2229" class="blob-num js-line-number" data-line-number="2229"></td>
        <td id="LC2229" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2230" class="blob-num js-line-number" data-line-number="2230"></td>
        <td id="LC2230" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2231" class="blob-num js-line-number" data-line-number="2231"></td>
        <td id="LC2231" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2232" class="blob-num js-line-number" data-line-number="2232"></td>
        <td id="LC2232" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_bnd_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2233" class="blob-num js-line-number" data-line-number="2233"></td>
        <td id="LC2233" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2234" class="blob-num js-line-number" data-line-number="2234"></td>
        <td id="LC2234" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2235" class="blob-num js-line-number" data-line-number="2235"></td>
        <td id="LC2235" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2236" class="blob-num js-line-number" data-line-number="2236"></td>
        <td id="LC2236" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_2D){</td>
      </tr>
      <tr>
        <td id="L2237" class="blob-num js-line-number" data-line-number="2237"></td>
        <td id="LC2237" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>long_name<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2238" class="blob-num js-line-number" data-line-number="2238"></td>
        <td id="LC2238" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude quadrature weights (normalized to sum to 2.0 on global grids)<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2239" class="blob-num js-line-number" data-line-number="2239"></td>
        <td id="LC2239" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2240" class="blob-num js-line-number" data-line-number="2240"></td>
        <td id="LC2240" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lat_wgt_nm;</td>
      </tr>
      <tr>
        <td id="L2241" class="blob-num js-line-number" data-line-number="2241"></td>
        <td id="LC2241" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lat_wgt_id;</td>
      </tr>
      <tr>
        <td id="L2242" class="blob-num js-line-number" data-line-number="2242"></td>
        <td id="LC2242" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2243" class="blob-num js-line-number" data-line-number="2243"></td>
        <td id="LC2243" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2244" class="blob-num js-line-number" data-line-number="2244"></td>
        <td id="LC2244" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2245" class="blob-num js-line-number" data-line-number="2245"></td>
        <td id="LC2245" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2246" class="blob-num js-line-number" data-line-number="2246"></td>
        <td id="LC2246" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_wgt_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2247" class="blob-num js-line-number" data-line-number="2247"></td>
        <td id="LC2247" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2248" class="blob-num js-line-number" data-line-number="2248"></td>
        <td id="LC2248" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2249" class="blob-num js-line-number" data-line-number="2249"></td>
        <td id="LC2249" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_2D */</span></td>
      </tr>
      <tr>
        <td id="L2250" class="blob-num js-line-number" data-line-number="2250"></td>
        <td id="LC2250" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2251" class="blob-num js-line-number" data-line-number="2251"></td>
        <td id="LC2251" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>map_file<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2252" class="blob-num js-line-number" data-line-number="2252"></td>
        <td id="LC2252" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(fl_in);</td>
      </tr>
      <tr>
        <td id="L2253" class="blob-num js-line-number" data-line-number="2253"></td>
        <td id="LC2253" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2254" class="blob-num js-line-number" data-line-number="2254"></td>
        <td id="LC2254" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L2255" class="blob-num js-line-number" data-line-number="2255"></td>
        <td id="LC2255" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L2256" class="blob-num js-line-number" data-line-number="2256"></td>
        <td id="LC2256" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2257" class="blob-num js-line-number" data-line-number="2257"></td>
        <td id="LC2257" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2258" class="blob-num js-line-number" data-line-number="2258"></td>
        <td id="LC2258" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2259" class="blob-num js-line-number" data-line-number="2259"></td>
        <td id="LC2259" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2260" class="blob-num js-line-number" data-line-number="2260"></td>
        <td id="LC2260" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2261" class="blob-num js-line-number" data-line-number="2261"></td>
        <td id="LC2261" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2262" class="blob-num js-line-number" data-line-number="2262"></td>
        <td id="LC2262" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2263" class="blob-num js-line-number" data-line-number="2263"></td>
        <td id="LC2263" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2264" class="blob-num js-line-number" data-line-number="2264"></td>
        <td id="LC2264" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>input_file<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2265" class="blob-num js-line-number" data-line-number="2265"></td>
        <td id="LC2265" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(rgr-&gt;fl_in);</td>
      </tr>
      <tr>
        <td id="L2266" class="blob-num js-line-number" data-line-number="2266"></td>
        <td id="LC2266" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L2267" class="blob-num js-line-number" data-line-number="2267"></td>
        <td id="LC2267" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L2268" class="blob-num js-line-number" data-line-number="2268"></td>
        <td id="LC2268" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L2269" class="blob-num js-line-number" data-line-number="2269"></td>
        <td id="LC2269" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2270" class="blob-num js-line-number" data-line-number="2270"></td>
        <td id="LC2270" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L2271" class="blob-num js-line-number" data-line-number="2271"></td>
        <td id="LC2271" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L2272" class="blob-num js-line-number" data-line-number="2272"></td>
        <td id="LC2272" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L2273" class="blob-num js-line-number" data-line-number="2273"></td>
        <td id="LC2273" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L2274" class="blob-num js-line-number" data-line-number="2274"></td>
        <td id="LC2274" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L2275" class="blob-num js-line-number" data-line-number="2275"></td>
        <td id="LC2275" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L2276" class="blob-num js-line-number" data-line-number="2276"></td>
        <td id="LC2276" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2277" class="blob-num js-line-number" data-line-number="2277"></td>
        <td id="LC2277" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Annotate persistent metadata that should appear last in attribute list */</span></td>
      </tr>
      <tr>
        <td id="L2278" class="blob-num js-line-number" data-line-number="2278"></td>
        <td id="LC2278" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L2279" class="blob-num js-line-number" data-line-number="2279"></td>
        <td id="LC2279" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">var_nm</span>=area_nm_out;</td>
      </tr>
      <tr>
        <td id="L2280" class="blob-num js-line-number" data-line-number="2280"></td>
        <td id="LC2280" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">id</span>=area_out_id;</td>
      </tr>
      <tr>
        <td id="L2281" class="blob-num js-line-number" data-line-number="2281"></td>
        <td id="LC2281" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_out_id,aed_mtd_crd);</td>
      </tr>
      <tr>
        <td id="L2282" class="blob-num js-line-number" data-line-number="2282"></td>
        <td id="LC2282" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2283" class="blob-num js-line-number" data-line-number="2283"></td>
        <td id="LC2283" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L2284" class="blob-num js-line-number" data-line-number="2284"></td>
        <td id="LC2284" class="blob-code blob-code-inner js-file-line">      aed_mtd_crd.<span class="pl-smi">var_nm</span>=frc_nm_out;</td>
      </tr>
      <tr>
        <td id="L2285" class="blob-num js-line-number" data-line-number="2285"></td>
        <td id="LC2285" class="blob-code blob-code-inner js-file-line">      aed_mtd_crd.<span class="pl-smi">id</span>=frc_out_id;</td>
      </tr>
      <tr>
        <td id="L2286" class="blob-num js-line-number" data-line-number="2286"></td>
        <td id="LC2286" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,frc_out_id,aed_mtd_crd);</td>
      </tr>
      <tr>
        <td id="L2287" class="blob-num js-line-number" data-line-number="2287"></td>
        <td id="LC2287" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L2288" class="blob-num js-line-number" data-line-number="2288"></td>
        <td id="LC2288" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2289" class="blob-num js-line-number" data-line-number="2289"></td>
        <td id="LC2289" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L2290" class="blob-num js-line-number" data-line-number="2290"></td>
        <td id="LC2290" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">id</span>=lat_out_id;</td>
      </tr>
      <tr>
        <td id="L2291" class="blob-num js-line-number" data-line-number="2291"></td>
        <td id="LC2291" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_out_id,aed_mtd_crd);</td>
      </tr>
      <tr>
        <td id="L2292" class="blob-num js-line-number" data-line-number="2292"></td>
        <td id="LC2292" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2293" class="blob-num js-line-number" data-line-number="2293"></td>
        <td id="LC2293" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L2294" class="blob-num js-line-number" data-line-number="2294"></td>
        <td id="LC2294" class="blob-code blob-code-inner js-file-line">    aed_mtd_crd.<span class="pl-smi">id</span>=lon_out_id;</td>
      </tr>
      <tr>
        <td id="L2295" class="blob-num js-line-number" data-line-number="2295"></td>
        <td id="LC2295" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_out_id,aed_mtd_crd);</td>
      </tr>
      <tr>
        <td id="L2296" class="blob-num js-line-number" data-line-number="2296"></td>
        <td id="LC2296" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L2297" class="blob-num js-line-number" data-line-number="2297"></td>
        <td id="LC2297" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2298" class="blob-num js-line-number" data-line-number="2298"></td>
        <td id="LC2298" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Persistent metadata */</span></td>
      </tr>
      <tr>
        <td id="L2299" class="blob-num js-line-number" data-line-number="2299"></td>
        <td id="LC2299" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm_crd) att_nm_crd=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm_crd);</td>
      </tr>
      <tr>
        <td id="L2300" class="blob-num js-line-number" data-line-number="2300"></td>
        <td id="LC2300" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val_crd) att_val_crd=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val_crd);</td>
      </tr>
      <tr>
        <td id="L2301" class="blob-num js-line-number" data-line-number="2301"></td>
        <td id="LC2301" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2302" class="blob-num js-line-number" data-line-number="2302"></td>
        <td id="LC2302" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Begin data mode */</span></td>
      </tr>
      <tr>
        <td id="L2303" class="blob-num js-line-number" data-line-number="2303"></td>
        <td id="LC2303" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_enddef</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L2304" class="blob-num js-line-number" data-line-number="2304"></td>
        <td id="LC2304" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2305" class="blob-num js-line-number" data-line-number="2305"></td>
        <td id="LC2305" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Write new coordinates and variables to regridded file */</span></td>
      </tr>
      <tr>
        <td id="L2306" class="blob-num js-line-number" data-line-number="2306"></td>
        <td id="LC2306" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_1D){</td>
      </tr>
      <tr>
        <td id="L2307" class="blob-num js-line-number" data-line-number="2307"></td>
        <td id="LC2307" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2308" class="blob-num js-line-number" data-line-number="2308"></td>
        <td id="LC2308" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2309" class="blob-num js-line-number" data-line-number="2309"></td>
        <td id="LC2309" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_out_id,dmn_srt_out,dmn_cnt_tuo,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2310" class="blob-num js-line-number" data-line-number="2310"></td>
        <td id="LC2310" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2311" class="blob-num js-line-number" data-line-number="2311"></td>
        <td id="LC2311" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2312" class="blob-num js-line-number" data-line-number="2312"></td>
        <td id="LC2312" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_out_id,dmn_srt_out,dmn_cnt_tuo,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2313" class="blob-num js-line-number" data-line-number="2313"></td>
        <td id="LC2313" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2314" class="blob-num js-line-number" data-line-number="2314"></td>
        <td id="LC2314" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2315" class="blob-num js-line-number" data-line-number="2315"></td>
        <td id="LC2315" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2316" class="blob-num js-line-number" data-line-number="2316"></td>
        <td id="LC2316" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt_out,dmn_cnt_tuo,lat_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2317" class="blob-num js-line-number" data-line-number="2317"></td>
        <td id="LC2317" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2318" class="blob-num js-line-number" data-line-number="2318"></td>
        <td id="LC2318" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2319" class="blob-num js-line-number" data-line-number="2319"></td>
        <td id="LC2319" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2320" class="blob-num js-line-number" data-line-number="2320"></td>
        <td id="LC2320" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt_out,dmn_cnt_tuo,lon_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2321" class="blob-num js-line-number" data-line-number="2321"></td>
        <td id="LC2321" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2322" class="blob-num js-line-number" data-line-number="2322"></td>
        <td id="LC2322" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=col_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2323" class="blob-num js-line-number" data-line-number="2323"></td>
        <td id="LC2323" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_out_id,dmn_srt_out,dmn_cnt_tuo,area_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2324" class="blob-num js-line-number" data-line-number="2324"></td>
        <td id="LC2324" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_1D */</span></td>
      </tr>
      <tr>
        <td id="L2325" class="blob-num js-line-number" data-line-number="2325"></td>
        <td id="LC2325" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L2326" class="blob-num js-line-number" data-line-number="2326"></td>
        <td id="LC2326" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2327" class="blob-num js-line-number" data-line-number="2327"></td>
        <td id="LC2327" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2328" class="blob-num js-line-number" data-line-number="2328"></td>
        <td id="LC2328" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2329" class="blob-num js-line-number" data-line-number="2329"></td>
        <td id="LC2329" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_out_id,dmn_srt_out,dmn_cnt_tuo,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2330" class="blob-num js-line-number" data-line-number="2330"></td>
        <td id="LC2330" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_out_id,dmn_srt_out,dmn_cnt_tuo,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2331" class="blob-num js-line-number" data-line-number="2331"></td>
        <td id="LC2331" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_out_id,dmn_srt_out,dmn_cnt_tuo,area_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2332" class="blob-num js-line-number" data-line-number="2332"></td>
        <td id="LC2332" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L2333" class="blob-num js-line-number" data-line-number="2333"></td>
        <td id="LC2333" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,frc_out_id,dmn_srt_out,dmn_cnt_tuo,frc_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2334" class="blob-num js-line-number" data-line-number="2334"></td>
        <td id="LC2334" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L2335" class="blob-num js-line-number" data-line-number="2335"></td>
        <td id="LC2335" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=dmn_srt_out[<span class="pl-c1">2</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2336" class="blob-num js-line-number" data-line-number="2336"></td>
        <td id="LC2336" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2337" class="blob-num js-line-number" data-line-number="2337"></td>
        <td id="LC2337" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2338" class="blob-num js-line-number" data-line-number="2338"></td>
        <td id="LC2338" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">2</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2339" class="blob-num js-line-number" data-line-number="2339"></td>
        <td id="LC2339" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt_out,dmn_cnt_tuo,lat_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2340" class="blob-num js-line-number" data-line-number="2340"></td>
        <td id="LC2340" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt_out,dmn_cnt_tuo,lon_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2341" class="blob-num js-line-number" data-line-number="2341"></td>
        <td id="LC2341" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L2342" class="blob-num js-line-number" data-line-number="2342"></td>
        <td id="LC2342" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_out_rct){</td>
      </tr>
      <tr>
        <td id="L2343" class="blob-num js-line-number" data-line-number="2343"></td>
        <td id="LC2343" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2344" class="blob-num js-line-number" data-line-number="2344"></td>
        <td id="LC2344" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2345" class="blob-num js-line-number" data-line-number="2345"></td>
        <td id="LC2345" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_out_id,dmn_srt_out,dmn_cnt_tuo,lat_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2346" class="blob-num js-line-number" data-line-number="2346"></td>
        <td id="LC2346" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2347" class="blob-num js-line-number" data-line-number="2347"></td>
        <td id="LC2347" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2348" class="blob-num js-line-number" data-line-number="2348"></td>
        <td id="LC2348" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_out_id,dmn_srt_out,dmn_cnt_tuo,lon_ctr_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2349" class="blob-num js-line-number" data-line-number="2349"></td>
        <td id="LC2349" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2350" class="blob-num js-line-number" data-line-number="2350"></td>
        <td id="LC2350" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2351" class="blob-num js-line-number" data-line-number="2351"></td>
        <td id="LC2351" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_wgt_id,dmn_srt_out,dmn_cnt_tuo,lat_wgt_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2352" class="blob-num js-line-number" data-line-number="2352"></td>
        <td id="LC2352" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2353" class="blob-num js-line-number" data-line-number="2353"></td>
        <td id="LC2353" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2354" class="blob-num js-line-number" data-line-number="2354"></td>
        <td id="LC2354" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2355" class="blob-num js-line-number" data-line-number="2355"></td>
        <td id="LC2355" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt_out,dmn_cnt_tuo,lat_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2356" class="blob-num js-line-number" data-line-number="2356"></td>
        <td id="LC2356" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2357" class="blob-num js-line-number" data-line-number="2357"></td>
        <td id="LC2357" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2358" class="blob-num js-line-number" data-line-number="2358"></td>
        <td id="LC2358" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=bnd_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2359" class="blob-num js-line-number" data-line-number="2359"></td>
        <td id="LC2359" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt_out,dmn_cnt_tuo,lon_bnd_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2360" class="blob-num js-line-number" data-line-number="2360"></td>
        <td id="LC2360" class="blob-code blob-code-inner js-file-line">    dmn_srt_out[<span class="pl-c1">0</span>]=dmn_srt_out[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2361" class="blob-num js-line-number" data-line-number="2361"></td>
        <td id="LC2361" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">0</span>]=lat_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2362" class="blob-num js-line-number" data-line-number="2362"></td>
        <td id="LC2362" class="blob-code blob-code-inner js-file-line">    dmn_cnt_tuo[<span class="pl-c1">1</span>]=lon_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2363" class="blob-num js-line-number" data-line-number="2363"></td>
        <td id="LC2363" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_out_id,dmn_srt_out,dmn_cnt_tuo,area_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2364" class="blob-num js-line-number" data-line-number="2364"></td>
        <td id="LC2364" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_frc_out_wrt){</td>
      </tr>
      <tr>
        <td id="L2365" class="blob-num js-line-number" data-line-number="2365"></td>
        <td id="LC2365" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,frc_out_id,dmn_srt_out,dmn_cnt_tuo,frc_out,crd_typ_out);</td>
      </tr>
      <tr>
        <td id="L2366" class="blob-num js-line-number" data-line-number="2366"></td>
        <td id="LC2366" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_frc_out_wrt */</span></td>
      </tr>
      <tr>
        <td id="L2367" class="blob-num js-line-number" data-line-number="2367"></td>
        <td id="LC2367" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_rct */</span></td>
      </tr>
      <tr>
        <td id="L2368" class="blob-num js-line-number" data-line-number="2368"></td>
        <td id="LC2368" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2369" class="blob-num js-line-number" data-line-number="2369"></td>
        <td id="LC2369" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Regrid or copy variable values */</span></td>
      </tr>
      <tr>
        <td id="L2370" class="blob-num js-line-number" data-line-number="2370"></td>
        <td id="LC2370" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> wgt_vld_thr=rgr-&gt;wgt_vld_thr; <span class="pl-c">/* [frc] Weight threshold for valid destination value */</span></td>
      </tr>
      <tr>
        <td id="L2371" class="blob-num js-line-number" data-line-number="2371"></td>
        <td id="LC2371" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> nco_bool flg_rnr=rgr-&gt;flg_rnr; <span class="pl-c">/* [flg] Renormalize destination values by valid area */</span></td>
      </tr>
      <tr>
        <td id="L2372" class="blob-num js-line-number" data-line-number="2372"></td>
        <td id="LC2372" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *var_val_dbl_in=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L2373" class="blob-num js-line-number" data-line-number="2373"></td>
        <td id="LC2373" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *var_val_dbl_out=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L2374" class="blob-num js-line-number" data-line-number="2374"></td>
        <td id="LC2374" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *wgt_vld_out=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L2375" class="blob-num js-line-number" data-line-number="2375"></td>
        <td id="LC2375" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> mss_val_dbl;</td>
      </tr>
      <tr>
        <td id="L2376" class="blob-num js-line-number" data-line-number="2376"></td>
        <td id="LC2376" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> var_val_crr;</td>
      </tr>
      <tr>
        <td id="L2377" class="blob-num js-line-number" data-line-number="2377"></td>
        <td id="LC2377" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *tally=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [nbr] Number of valid (non-missing) values */</span></td>
      </tr>
      <tr>
        <td id="L2378" class="blob-num js-line-number" data-line-number="2378"></td>
        <td id="LC2378" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> idx_in; <span class="pl-c">/* [idx] Input grid index */</span></td>
      </tr>
      <tr>
        <td id="L2379" class="blob-num js-line-number" data-line-number="2379"></td>
        <td id="LC2379" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> idx_out; <span class="pl-c">/* [idx] Output grid index */</span></td>
      </tr>
      <tr>
        <td id="L2380" class="blob-num js-line-number" data-line-number="2380"></td>
        <td id="LC2380" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lvl_idx; <span class="pl-c">/* [idx] Level index */</span></td>
      </tr>
      <tr>
        <td id="L2381" class="blob-num js-line-number" data-line-number="2381"></td>
        <td id="LC2381" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lvl_nbr; <span class="pl-c">/* [nbr] Number of levels */</span></td>
      </tr>
      <tr>
        <td id="L2382" class="blob-num js-line-number" data-line-number="2382"></td>
        <td id="LC2382" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> thr_idx; <span class="pl-c">/* [idx] Thread index */</span></td>
      </tr>
      <tr>
        <td id="L2383" class="blob-num js-line-number" data-line-number="2383"></td>
        <td id="LC2383" class="blob-code blob-code-inner js-file-line">  nco_bool has_mss_val; <span class="pl-c">/* [flg] Has numeric missing value attribute */</span></td>
      </tr>
      <tr>
        <td id="L2384" class="blob-num js-line-number" data-line-number="2384"></td>
        <td id="LC2384" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> dst_idx; </td>
      </tr>
      <tr>
        <td id="L2385" class="blob-num js-line-number" data-line-number="2385"></td>
        <td id="LC2385" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> var_sz_in; <span class="pl-c">/* [nbr] Number of elements in variable (will be self-multiplied) */</span></td>
      </tr>
      <tr>
        <td id="L2386" class="blob-num js-line-number" data-line-number="2386"></td>
        <td id="LC2386" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> var_sz_out; <span class="pl-c">/* [nbr] Number of elements in variable (will be self-multiplied) */</span></td>
      </tr>
      <tr>
        <td id="L2387" class="blob-num js-line-number" data-line-number="2387"></td>
        <td id="LC2387" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> val_in_fst; <span class="pl-c">/* [nbr] Number of elements by which current N-D slab input values are offset from origin */</span></td>
      </tr>
      <tr>
        <td id="L2388" class="blob-num js-line-number" data-line-number="2388"></td>
        <td id="LC2388" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> val_out_fst; <span class="pl-c">/* [nbr] Number of elements by which current N-D slab output values are offset from origin */</span></td>
      </tr>
      <tr>
        <td id="L2389" class="blob-num js-line-number" data-line-number="2389"></td>
        <td id="LC2389" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2390" class="blob-num js-line-number" data-line-number="2390"></td>
        <td id="LC2390" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>Regridding progress: # means regridded, ~ means copied<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2391" class="blob-num js-line-number" data-line-number="2391"></td>
        <td id="LC2391" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2392" class="blob-num js-line-number" data-line-number="2392"></td>
        <td id="LC2392" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Using naked stdin/stdout/stderr in parallel region generates warning</span></td>
      </tr>
      <tr>
        <td id="L2393" class="blob-num js-line-number" data-line-number="2393"></td>
        <td id="LC2393" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Copy appropriate filehandle to variable scoped shared in parallel clause */</span></td>
      </tr>
      <tr>
        <td id="L2394" class="blob-num js-line-number" data-line-number="2394"></td>
        <td id="LC2394" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">FILE</span> * <span class="pl-k">const</span> fp_stdout=stdout; <span class="pl-c">/* [fl] stdout filehandle CEWI */</span></td>
      </tr>
      <tr>
        <td id="L2395" class="blob-num js-line-number" data-line-number="2395"></td>
        <td id="LC2395" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2396" class="blob-num js-line-number" data-line-number="2396"></td>
        <td id="LC2396" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* OpenMP notes:</span></td>
      </tr>
      <tr>
        <td id="L2397" class="blob-num js-line-number" data-line-number="2397"></td>
        <td id="LC2397" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     default(): None</span></td>
      </tr>
      <tr>
        <td id="L2398" class="blob-num js-line-number" data-line-number="2398"></td>
        <td id="LC2398" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     firstprivate(): Pointers that could be inadvertently free()&#39;d if they lost their NULL-initialization</span></td>
      </tr>
      <tr>
        <td id="L2399" class="blob-num js-line-number" data-line-number="2399"></td>
        <td id="LC2399" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     private(): Almost everything else</span></td>
      </tr>
      <tr>
        <td id="L2400" class="blob-num js-line-number" data-line-number="2400"></td>
        <td id="LC2400" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     shared(): uggh...shared clause depends on both compiler and compiler-version</span></td>
      </tr>
      <tr>
        <td id="L2401" class="blob-num js-line-number" data-line-number="2401"></td>
        <td id="LC2401" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1. All const variables are default shared for gcc &gt;= 4.9.2,</span></td>
      </tr>
      <tr>
        <td id="L2402" class="blob-num js-line-number" data-line-number="2402"></td>
        <td id="LC2402" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     2. fnc_nm (only!) must be explicit shared for g++ 4.6.3 (travis)</span></td>
      </tr>
      <tr>
        <td id="L2403" class="blob-num js-line-number" data-line-number="2403"></td>
        <td id="LC2403" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     3. flg_rnr,fnc_nm,wgt_vld_thr must be explicit shared for icc 13.1.3 (rhea) */</span></td>
      </tr>
      <tr>
        <td id="L2404" class="blob-num js-line-number" data-line-number="2404"></td>
        <td id="LC2404" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">ifdef</span> __GNUG__</td>
      </tr>
      <tr>
        <td id="L2405" class="blob-num js-line-number" data-line-number="2405"></td>
        <td id="LC2405" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">define</span> <span class="pl-en">GCC_LIB_VERSION</span> ( __GNUC__ * <span class="pl-c1">100</span> + __GNUC_MINOR__ * <span class="pl-c1">10</span> + __GNUC_PATCHLEVEL__ )</td>
      </tr>
      <tr>
        <td id="L2406" class="blob-num js-line-number" data-line-number="2406"></td>
        <td id="LC2406" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">if</span> GCC_LIB_VERSION &lt; 480</td>
      </tr>
      <tr>
        <td id="L2407" class="blob-num js-line-number" data-line-number="2407"></td>
        <td id="LC2407" class="blob-code blob-code-inner js-file-line">#  <span class="pl-k">define</span> <span class="pl-en">GXX_OLD_OPENMP_SHARED_TREATMENT</span> <span class="pl-c1">1</span></td>
      </tr>
      <tr>
        <td id="L2408" class="blob-num js-line-number" data-line-number="2408"></td>
        <td id="LC2408" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">endif</span> <span class="pl-c">/* 480 */</span></td>
      </tr>
      <tr>
        <td id="L2409" class="blob-num js-line-number" data-line-number="2409"></td>
        <td id="LC2409" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">endif</span> <span class="pl-c">/* !__GNUC__ */</span></td>
      </tr>
      <tr>
        <td id="L2410" class="blob-num js-line-number" data-line-number="2410"></td>
        <td id="LC2410" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">if</span> defined( __INTEL_COMPILER)</td>
      </tr>
      <tr>
        <td id="L2411" class="blob-num js-line-number" data-line-number="2411"></td>
        <td id="LC2411" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">pragma</span> omp parallel for default(none) firstprivate(dmn_cnt_in,dmn_cnt_out,dmn_srt,dmn_id_in,dmn_id_out,tally,var_val_dbl_in,var_val_dbl_out,wgt_vld_out) private(dmn_idx,dmn_nbr_in,dmn_nbr_out,dmn_nbr_max,dst_idx,has_mss_val,idx,idx_in,idx_out,idx_tbl,in_id,lnk_idx,lvl_idx,lvl_nbr,mss_val_dbl,rcd,thr_idx,trv,val_in_fst,val_out_fst,var_id_in,var_id_out,var_nm,var_sz_in,var_sz_out,var_typ_out,var_typ_rgr,var_val_crr) shared(col_src_adr,dmn_nbr_hrz_crd,flg_frc_nrm,flg_rnr,fnc_nm,frc_out,lnk_nbr,out_id,row_dst_adr,wgt_raw,wgt_vld_thr)</td>
      </tr>
      <tr>
        <td id="L2412" class="blob-num js-line-number" data-line-number="2412"></td>
        <td id="LC2412" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">else</span> <span class="pl-c">/* !__INTEL_COMPILER */</span></td>
      </tr>
      <tr>
        <td id="L2413" class="blob-num js-line-number" data-line-number="2413"></td>
        <td id="LC2413" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">ifdef</span> GXX_OLD_OPENMP_SHARED_TREATMENT</td>
      </tr>
      <tr>
        <td id="L2414" class="blob-num js-line-number" data-line-number="2414"></td>
        <td id="LC2414" class="blob-code blob-code-inner js-file-line">#  <span class="pl-k">pragma</span> omp parallel for default(none) firstprivate(dmn_cnt_in,dmn_cnt_out,dmn_srt,dmn_id_in,dmn_id_out,tally,var_val_dbl_in,var_val_dbl_out,wgt_vld_out) private(dmn_idx,dmn_nbr_in,dmn_nbr_out,dmn_nbr_max,dst_idx,has_mss_val,idx,idx_in,idx_out,idx_tbl,in_id,lnk_idx,lvl_idx,lvl_nbr,mss_val_dbl,rcd,thr_idx,trv,val_in_fst,val_out_fst,var_id_in,var_id_out,var_nm,var_sz_in,var_sz_out,var_typ_out,var_typ_rgr,var_val_crr) shared(col_src_adr,dmn_nbr_hrz_crd,flg_frc_nrm,fnc_nm,frc_out,lnk_nbr,out_id,row_dst_adr,wgt_raw)</td>
      </tr>
      <tr>
        <td id="L2415" class="blob-num js-line-number" data-line-number="2415"></td>
        <td id="LC2415" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">else</span> <span class="pl-c">/* !old g++ */</span></td>
      </tr>
      <tr>
        <td id="L2416" class="blob-num js-line-number" data-line-number="2416"></td>
        <td id="LC2416" class="blob-code blob-code-inner js-file-line">#  <span class="pl-k">pragma</span> omp parallel for default(none) firstprivate(dmn_cnt_in,dmn_cnt_out,dmn_srt,dmn_id_in,dmn_id_out,tally,var_val_dbl_in,var_val_dbl_out,wgt_vld_out) private(dmn_idx,dmn_nbr_in,dmn_nbr_out,dmn_nbr_max,dst_idx,has_mss_val,idx,idx_in,idx_out,idx_tbl,in_id,lnk_idx,lvl_idx,lvl_nbr,mss_val_dbl,rcd,thr_idx,trv,val_in_fst,val_out_fst,var_id_in,var_id_out,var_nm,var_sz_in,var_sz_out,var_typ_out,var_typ_rgr,var_val_crr) shared(col_src_adr,dmn_nbr_hrz_crd,flg_frc_nrm,frc_out,lnk_nbr,out_id,row_dst_adr,wgt_raw)</td>
      </tr>
      <tr>
        <td id="L2417" class="blob-num js-line-number" data-line-number="2417"></td>
        <td id="LC2417" class="blob-code blob-code-inner js-file-line"># <span class="pl-k">endif</span> <span class="pl-c">/* !old g++ */</span></td>
      </tr>
      <tr>
        <td id="L2418" class="blob-num js-line-number" data-line-number="2418"></td>
        <td id="LC2418" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">endif</span> <span class="pl-c">/* !__INTEL_COMPILER */</span></td>
      </tr>
      <tr>
        <td id="L2419" class="blob-num js-line-number" data-line-number="2419"></td>
        <td id="LC2419" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx_tbl=<span class="pl-c1">0</span>;idx_tbl&lt;trv_nbr;idx_tbl++){</td>
      </tr>
      <tr>
        <td id="L2420" class="blob-num js-line-number" data-line-number="2420"></td>
        <td id="LC2420" class="blob-code blob-code-inner js-file-line">    trv=trv_tbl-&gt;lst[idx_tbl];</td>
      </tr>
      <tr>
        <td id="L2421" class="blob-num js-line-number" data-line-number="2421"></td>
        <td id="LC2421" class="blob-code blob-code-inner js-file-line">    thr_idx=<span class="pl-c1">omp_get_thread_num</span>();</td>
      </tr>
      <tr>
        <td id="L2422" class="blob-num js-line-number" data-line-number="2422"></td>
        <td id="LC2422" class="blob-code blob-code-inner js-file-line">    in_id=trv_tbl-&gt;in_id_arr[thr_idx];</td>
      </tr>
      <tr>
        <td id="L2423" class="blob-num js-line-number" data-line-number="2423"></td>
        <td id="LC2423" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">ifdef</span> _OPENMP</td>
      </tr>
      <tr>
        <td id="L2424" class="blob-num js-line-number" data-line-number="2424"></td>
        <td id="LC2424" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var &amp;&amp; !thr_idx &amp;&amp; !idx_tbl) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(fp_stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span> reports regrid loop uses <span class="pl-c1">%d</span> thread<span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">omp_get_num_threads</span>(),(<span class="pl-c1">omp_get_num_threads</span>() &gt; <span class="pl-c1">1</span>) ? <span class="pl-s"><span class="pl-pds">&quot;</span>s<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2425" class="blob-num js-line-number" data-line-number="2425"></td>
        <td id="LC2425" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_io) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(fp_stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: thread = <span class="pl-c1">%d</span>, idx_tbl = <span class="pl-c1">%d</span>, nm = <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),thr_idx,idx_tbl,trv.<span class="pl-smi">nm</span>);</td>
      </tr>
      <tr>
        <td id="L2426" class="blob-num js-line-number" data-line-number="2426"></td>
        <td id="LC2426" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">endif</span> <span class="pl-c">/* !_OPENMP */</span></td>
      </tr>
      <tr>
        <td id="L2427" class="blob-num js-line-number" data-line-number="2427"></td>
        <td id="LC2427" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(trv.<span class="pl-smi">nco_typ</span> == nco_obj_typ_var &amp;&amp; trv.<span class="pl-smi">flg_xtr</span>){</td>
      </tr>
      <tr>
        <td id="L2428" class="blob-num js-line-number" data-line-number="2428"></td>
        <td id="LC2428" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(fp_stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%s</span> <span class="pl-pds">&quot;</span></span>,trv.<span class="pl-smi">flg_rgr</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>#<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>~<span class="pl-pds">&quot;</span></span>,trv.<span class="pl-smi">nm</span>);</td>
      </tr>
      <tr>
        <td id="L2429" class="blob-num js-line-number" data-line-number="2429"></td>
        <td id="LC2429" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(trv.<span class="pl-smi">flg_rgr</span>){</td>
      </tr>
      <tr>
        <td id="L2430" class="blob-num js-line-number" data-line-number="2430"></td>
        <td id="LC2430" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Regrid variable */</span></td>
      </tr>
      <tr>
        <td id="L2431" class="blob-num js-line-number" data-line-number="2431"></td>
        <td id="LC2431" class="blob-code blob-code-inner js-file-line">	var_nm=trv.<span class="pl-smi">nm</span>;</td>
      </tr>
      <tr>
        <td id="L2432" class="blob-num js-line-number" data-line-number="2432"></td>
        <td id="LC2432" class="blob-code blob-code-inner js-file-line">	var_typ_rgr=NC_DOUBLE; <span class="pl-c">/* NB: Perform regridding in double precision */</span></td>
      </tr>
      <tr>
        <td id="L2433" class="blob-num js-line-number" data-line-number="2433"></td>
        <td id="LC2433" class="blob-code blob-code-inner js-file-line">	var_typ_out=trv.<span class="pl-smi">var_typ</span>; <span class="pl-c">/* NB: Output type in file is same as input type */</span></td>
      </tr>
      <tr>
        <td id="L2434" class="blob-num js-line-number" data-line-number="2434"></td>
        <td id="LC2434" class="blob-code blob-code-inner js-file-line">	var_sz_in=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L2435" class="blob-num js-line-number" data-line-number="2435"></td>
        <td id="LC2435" class="blob-code blob-code-inner js-file-line">	var_sz_out=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L2436" class="blob-num js-line-number" data-line-number="2436"></td>
        <td id="LC2436" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_varid</span>(in_id,var_nm,&amp;var_id_in);</td>
      </tr>
      <tr>
        <td id="L2437" class="blob-num js-line-number" data-line-number="2437"></td>
        <td id="LC2437" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_varid</span>(out_id,var_nm,&amp;var_id_out);</td>
      </tr>
      <tr>
        <td id="L2438" class="blob-num js-line-number" data-line-number="2438"></td>
        <td id="LC2438" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_varndims</span>(out_id,var_id_out,&amp;dmn_nbr_out);</td>
      </tr>
      <tr>
        <td id="L2439" class="blob-num js-line-number" data-line-number="2439"></td>
        <td id="LC2439" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_varndims</span>(in_id,var_id_in,&amp;dmn_nbr_in);</td>
      </tr>
      <tr>
        <td id="L2440" class="blob-num js-line-number" data-line-number="2440"></td>
        <td id="LC2440" class="blob-code blob-code-inner js-file-line">	dmn_nbr_max= dmn_nbr_in &gt; dmn_nbr_out ? dmn_nbr_in : dmn_nbr_out;</td>
      </tr>
      <tr>
        <td id="L2441" class="blob-num js-line-number" data-line-number="2441"></td>
        <td id="LC2441" class="blob-code blob-code-inner js-file-line">	dmn_id_in=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_in*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L2442" class="blob-num js-line-number" data-line-number="2442"></td>
        <td id="LC2442" class="blob-code blob-code-inner js-file-line">	dmn_id_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L2443" class="blob-num js-line-number" data-line-number="2443"></td>
        <td id="LC2443" class="blob-code blob-code-inner js-file-line">	dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>)); <span class="pl-c">/* max() for both input and output grids */</span></td>
      </tr>
      <tr>
        <td id="L2444" class="blob-num js-line-number" data-line-number="2444"></td>
        <td id="LC2444" class="blob-code blob-code-inner js-file-line">	dmn_cnt_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2445" class="blob-num js-line-number" data-line-number="2445"></td>
        <td id="LC2445" class="blob-code blob-code-inner js-file-line">	dmn_cnt_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_max*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2446" class="blob-num js-line-number" data-line-number="2446"></td>
        <td id="LC2446" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_vardimid</span>(out_id,var_id_out,dmn_id_out);</td>
      </tr>
      <tr>
        <td id="L2447" class="blob-num js-line-number" data-line-number="2447"></td>
        <td id="LC2447" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_vardimid</span>(in_id,var_id_in,dmn_id_in);</td>
      </tr>
      <tr>
        <td id="L2448" class="blob-num js-line-number" data-line-number="2448"></td>
        <td id="LC2448" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L2449" class="blob-num js-line-number" data-line-number="2449"></td>
        <td id="LC2449" class="blob-code blob-code-inner js-file-line">	  rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_in[dmn_idx],dmn_cnt_in+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L2450" class="blob-num js-line-number" data-line-number="2450"></td>
        <td id="LC2450" class="blob-code blob-code-inner js-file-line">	  var_sz_in*=dmn_cnt_in[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2451" class="blob-num js-line-number" data-line-number="2451"></td>
        <td id="LC2451" class="blob-code blob-code-inner js-file-line">	  dmn_srt[dmn_idx]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2452" class="blob-num js-line-number" data-line-number="2452"></td>
        <td id="LC2452" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2453" class="blob-num js-line-number" data-line-number="2453"></td>
        <td id="LC2453" class="blob-code blob-code-inner js-file-line">	var_val_dbl_in=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc_dbg</span>(var_sz_in*<span class="pl-c1">nco_typ_lng</span>(var_typ_rgr),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() input value buffer<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2454" class="blob-num js-line-number" data-line-number="2454"></td>
        <td id="LC2454" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_get_vara</span>(in_id,var_id_in,dmn_srt,dmn_cnt_in,var_val_dbl_in,var_typ_rgr);</td>
      </tr>
      <tr>
        <td id="L2455" class="blob-num js-line-number" data-line-number="2455"></td>
        <td id="LC2455" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2456" class="blob-num js-line-number" data-line-number="2456"></td>
        <td id="LC2456" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_out;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L2457" class="blob-num js-line-number" data-line-number="2457"></td>
        <td id="LC2457" class="blob-code blob-code-inner js-file-line">	  rcd=<span class="pl-c1">nco_inq_dimlen</span>(out_id,dmn_id_out[dmn_idx],dmn_cnt_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L2458" class="blob-num js-line-number" data-line-number="2458"></td>
        <td id="LC2458" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_cnt_out[dmn_idx] == <span class="pl-c1">0L</span>){</td>
      </tr>
      <tr>
        <td id="L2459" class="blob-num js-line-number" data-line-number="2459"></td>
        <td id="LC2459" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* No records have been written, so overwrite zero output record size with input record size */</span></td>
      </tr>
      <tr>
        <td id="L2460" class="blob-num js-line-number" data-line-number="2460"></td>
        <td id="LC2460" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">char</span> dmn_rec_nm[NC_MAX_NAME]; <span class="pl-c">/* [sng] Record dimension name */</span></td>
      </tr>
      <tr>
        <td id="L2461" class="blob-num js-line-number" data-line-number="2461"></td>
        <td id="LC2461" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">int</span> dmn_rec_id_in;</td>
      </tr>
      <tr>
        <td id="L2462" class="blob-num js-line-number" data-line-number="2462"></td>
        <td id="LC2462" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimname</span>(out_id,dmn_id_out[dmn_idx],dmn_rec_nm);</td>
      </tr>
      <tr>
        <td id="L2463" class="blob-num js-line-number" data-line-number="2463"></td>
        <td id="LC2463" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimid</span>(in_id,dmn_rec_nm,&amp;dmn_rec_id_in);</td>
      </tr>
      <tr>
        <td id="L2464" class="blob-num js-line-number" data-line-number="2464"></td>
        <td id="LC2464" class="blob-code blob-code-inner js-file-line">	    rcd=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_rec_id_in,dmn_cnt_out+dmn_idx);</td>
      </tr>
      <tr>
        <td id="L2465" class="blob-num js-line-number" data-line-number="2465"></td>
        <td id="LC2465" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !dmn_cnt_out */</span></td>
      </tr>
      <tr>
        <td id="L2466" class="blob-num js-line-number" data-line-number="2466"></td>
        <td id="LC2466" class="blob-code blob-code-inner js-file-line">	  var_sz_out*=dmn_cnt_out[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2467" class="blob-num js-line-number" data-line-number="2467"></td>
        <td id="LC2467" class="blob-code blob-code-inner js-file-line">	  dmn_srt[dmn_idx]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2468" class="blob-num js-line-number" data-line-number="2468"></td>
        <td id="LC2468" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2469" class="blob-num js-line-number" data-line-number="2469"></td>
        <td id="LC2469" class="blob-code blob-code-inner js-file-line">	var_val_dbl_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc_dbg</span>(var_sz_out*<span class="pl-c1">nco_typ_lng</span>(var_typ_rgr),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() output value buffer<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2470" class="blob-num js-line-number" data-line-number="2470"></td>
        <td id="LC2470" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2471" class="blob-num js-line-number" data-line-number="2471"></td>
        <td id="LC2471" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Initialize output */</span></td>
      </tr>
      <tr>
        <td id="L2472" class="blob-num js-line-number" data-line-number="2472"></td>
        <td id="LC2472" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++) var_val_dbl_out[dst_idx]=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L2473" class="blob-num js-line-number" data-line-number="2473"></td>
        <td id="LC2473" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Missing value setup */</span></td>
      </tr>
      <tr>
        <td id="L2474" class="blob-num js-line-number" data-line-number="2474"></td>
        <td id="LC2474" class="blob-code blob-code-inner js-file-line">	has_mss_val=<span class="pl-c1">nco_mss_val_get_dbl</span>(in_id,var_id_in,&amp;mss_val_dbl);</td>
      </tr>
      <tr>
        <td id="L2475" class="blob-num js-line-number" data-line-number="2475"></td>
        <td id="LC2475" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(has_mss_val) tally=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_calloc</span>(var_sz_out,<span class="pl-c1">nco_typ_lng</span>(NC_INT));</td>
      </tr>
      <tr>
        <td id="L2476" class="blob-num js-line-number" data-line-number="2476"></td>
        <td id="LC2476" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(has_mss_val &amp;&amp; flg_rnr) wgt_vld_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc_dbg</span>(var_sz_out*<span class="pl-c1">nco_typ_lng</span>(var_typ_rgr),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() input weight buffer<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2477" class="blob-num js-line-number" data-line-number="2477"></td>
        <td id="LC2477" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(has_mss_val &amp;&amp; flg_rnr) </td>
      </tr>
      <tr>
        <td id="L2478" class="blob-num js-line-number" data-line-number="2478"></td>
        <td id="LC2478" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++) wgt_vld_out[dst_idx]=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L2479" class="blob-num js-line-number" data-line-number="2479"></td>
        <td id="LC2479" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2480" class="blob-num js-line-number" data-line-number="2480"></td>
        <td id="LC2480" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">int</span> dmn_idx_in; <span class="pl-c">/* [idx] Index to input dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2481" class="blob-num js-line-number" data-line-number="2481"></td>
        <td id="LC2481" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">int</span> dmn_idx_out; <span class="pl-c">/* [idx] Index to output dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2482" class="blob-num js-line-number" data-line-number="2482"></td>
        <td id="LC2482" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">int</span> *dmn_idx_out_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [idx] Dimension correspondence, output-&gt;input */</span></td>
      </tr>
      <tr>
        <td id="L2483" class="blob-num js-line-number" data-line-number="2483"></td>
        <td id="LC2483" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">long</span> *dmn_map_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [idx] Map for each dimension of input variable */</span></td>
      </tr>
      <tr>
        <td id="L2484" class="blob-num js-line-number" data-line-number="2484"></td>
        <td id="LC2484" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">long</span> *dmn_map_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [idx] Map for each dimension of output variable */</span></td>
      </tr>
      <tr>
        <td id="L2485" class="blob-num js-line-number" data-line-number="2485"></td>
        <td id="LC2485" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">long</span> *dmn_sbs_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [idx] Dimension subscripts into N-D input array */</span></td>
      </tr>
      <tr>
        <td id="L2486" class="blob-num js-line-number" data-line-number="2486"></td>
        <td id="LC2486" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">long</span> *dmn_sbs_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [idx] Dimension subscripts into N-D output array */</span></td>
      </tr>
      <tr>
        <td id="L2487" class="blob-num js-line-number" data-line-number="2487"></td>
        <td id="LC2487" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2488" class="blob-num js-line-number" data-line-number="2488"></td>
        <td id="LC2488" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_in_m1=dmn_nbr_in-<span class="pl-c1">1</span>; <span class="pl-c">/* [nbr] Number of input dimensions less one (fast) */</span></td>
      </tr>
      <tr>
        <td id="L2489" class="blob-num js-line-number" data-line-number="2489"></td>
        <td id="LC2489" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_out_m1=dmn_nbr_out-<span class="pl-c1">1</span>; <span class="pl-c">/* [nbr] Number of output dimensions less one (fast) */</span></td>
      </tr>
      <tr>
        <td id="L2490" class="blob-num js-line-number" data-line-number="2490"></td>
        <td id="LC2490" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">char</span> *var_val_cp_in=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [] Non-MRV input values permuted into MRV order */</span></td>
      </tr>
      <tr>
        <td id="L2491" class="blob-num js-line-number" data-line-number="2491"></td>
        <td id="LC2491" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">char</span> *var_val_cp_out=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [] Non-MRV output values permuted into MRV order */</span></td>
      </tr>
      <tr>
        <td id="L2492" class="blob-num js-line-number" data-line-number="2492"></td>
        <td id="LC2492" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2493" class="blob-num js-line-number" data-line-number="2493"></td>
        <td id="LC2493" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!trv.<span class="pl-smi">flg_mrv</span>){</td>
      </tr>
      <tr>
        <td id="L2494" class="blob-num js-line-number" data-line-number="2494"></td>
        <td id="LC2494" class="blob-code blob-code-inner js-file-line">	  dmn_idx_out_in=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">int</span>));</td>
      </tr>
      <tr>
        <td id="L2495" class="blob-num js-line-number" data-line-number="2495"></td>
        <td id="LC2495" class="blob-code blob-code-inner js-file-line">	  dmn_map_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_in*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2496" class="blob-num js-line-number" data-line-number="2496"></td>
        <td id="LC2496" class="blob-code blob-code-inner js-file-line">	  dmn_map_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2497" class="blob-num js-line-number" data-line-number="2497"></td>
        <td id="LC2497" class="blob-code blob-code-inner js-file-line">	  dmn_sbs_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_in*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2498" class="blob-num js-line-number" data-line-number="2498"></td>
        <td id="LC2498" class="blob-code blob-code-inner js-file-line">	  dmn_sbs_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_malloc</span>(dmn_nbr_out*<span class="pl-k">sizeof</span>(<span class="pl-k">long</span>));</td>
      </tr>
      <tr>
        <td id="L2499" class="blob-num js-line-number" data-line-number="2499"></td>
        <td id="LC2499" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2500" class="blob-num js-line-number" data-line-number="2500"></td>
        <td id="LC2500" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* 20151012: Juggle indices to extent possible before main weight loop */</span></td>
      </tr>
      <tr>
        <td id="L2501" class="blob-num js-line-number" data-line-number="2501"></td>
        <td id="LC2501" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx_out=<span class="pl-c1">0</span>;dmn_idx_out&lt;dmn_nbr_out;dmn_idx_out++)</td>
      </tr>
      <tr>
        <td id="L2502" class="blob-num js-line-number" data-line-number="2502"></td>
        <td id="LC2502" class="blob-code blob-code-inner js-file-line">	    dmn_idx_out_in[dmn_idx_out]=-<span class="pl-c1">73</span>;</td>
      </tr>
      <tr>
        <td id="L2503" class="blob-num js-line-number" data-line-number="2503"></td>
        <td id="LC2503" class="blob-code blob-code-inner js-file-line">	  </td>
      </tr>
      <tr>
        <td id="L2504" class="blob-num js-line-number" data-line-number="2504"></td>
        <td id="LC2504" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Map for each dimension of input variable */</span></td>
      </tr>
      <tr>
        <td id="L2505" class="blob-num js-line-number" data-line-number="2505"></td>
        <td id="LC2505" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx_in=<span class="pl-c1">0</span>;dmn_idx_in&lt;dmn_nbr_in;dmn_idx_in++) dmn_map_in[dmn_idx_in]=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L2506" class="blob-num js-line-number" data-line-number="2506"></td>
        <td id="LC2506" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx_in=<span class="pl-c1">0</span>;dmn_idx_in&lt;dmn_nbr_in-<span class="pl-c1">1</span>;dmn_idx_in++)</td>
      </tr>
      <tr>
        <td id="L2507" class="blob-num js-line-number" data-line-number="2507"></td>
        <td id="LC2507" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dmn_idx=dmn_idx_in+<span class="pl-c1">1</span>;dmn_idx&lt;dmn_nbr_in;dmn_idx++)</td>
      </tr>
      <tr>
        <td id="L2508" class="blob-num js-line-number" data-line-number="2508"></td>
        <td id="LC2508" class="blob-code blob-code-inner js-file-line">	      dmn_map_in[dmn_idx_in]*=dmn_cnt_in[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2509" class="blob-num js-line-number" data-line-number="2509"></td>
        <td id="LC2509" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2510" class="blob-num js-line-number" data-line-number="2510"></td>
        <td id="LC2510" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Map for each dimension of output variable */</span></td>
      </tr>
      <tr>
        <td id="L2511" class="blob-num js-line-number" data-line-number="2511"></td>
        <td id="LC2511" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx_out=<span class="pl-c1">0</span>;dmn_idx_out&lt;dmn_nbr_out;dmn_idx_out++) dmn_map_out[dmn_idx_out]=<span class="pl-c1">1L</span>;</td>
      </tr>
      <tr>
        <td id="L2512" class="blob-num js-line-number" data-line-number="2512"></td>
        <td id="LC2512" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx_out=<span class="pl-c1">0</span>;dmn_idx_out&lt;dmn_nbr_out-<span class="pl-c1">1</span>;dmn_idx_out++)</td>
      </tr>
      <tr>
        <td id="L2513" class="blob-num js-line-number" data-line-number="2513"></td>
        <td id="LC2513" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dmn_idx=dmn_idx_out+<span class="pl-c1">1</span>;dmn_idx&lt;dmn_nbr_out;dmn_idx++)</td>
      </tr>
      <tr>
        <td id="L2514" class="blob-num js-line-number" data-line-number="2514"></td>
        <td id="LC2514" class="blob-code blob-code-inner js-file-line">	      dmn_map_out[dmn_idx_out]*=dmn_cnt_out[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2515" class="blob-num js-line-number" data-line-number="2515"></td>
        <td id="LC2515" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_mrv */</span></td>
      </tr>
      <tr>
        <td id="L2516" class="blob-num js-line-number" data-line-number="2516"></td>
        <td id="LC2516" class="blob-code blob-code-inner js-file-line">	      </td>
      </tr>
      <tr>
        <td id="L2517" class="blob-num js-line-number" data-line-number="2517"></td>
        <td id="LC2517" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Compute number and size of non-lat/lon or non-col dimensions (e.g., level, time, species, wavelength)</span></td>
      </tr>
      <tr>
        <td id="L2518" class="blob-num js-line-number" data-line-number="2518"></td>
        <td id="LC2518" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Denote their convolution by level or &#39;lvl&#39; for shorthand</span></td>
      </tr>
      <tr>
        <td id="L2519" class="blob-num js-line-number" data-line-number="2519"></td>
        <td id="LC2519" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   There are lvl_nbr elements for each lat/lon or col position</span></td>
      </tr>
      <tr>
        <td id="L2520" class="blob-num js-line-number" data-line-number="2520"></td>
        <td id="LC2520" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   20151011: Until today assume lat/lon and col are most-rapidly varying dimensions </span></td>
      </tr>
      <tr>
        <td id="L2521" class="blob-num js-line-number" data-line-number="2521"></td>
        <td id="LC2521" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   20151011: Until today lvl_nbr missed last non-spatial dimension for 1D output */</span></td>
      </tr>
      <tr>
        <td id="L2522" class="blob-num js-line-number" data-line-number="2522"></td>
        <td id="LC2522" class="blob-code blob-code-inner js-file-line">	lvl_nbr=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L2523" class="blob-num js-line-number" data-line-number="2523"></td>
        <td id="LC2523" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Simple prescription of lvl_nbr works when horizontal dimension(s) is/are MRV */</span></td>
      </tr>
      <tr>
        <td id="L2524" class="blob-num js-line-number" data-line-number="2524"></td>
        <td id="LC2524" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_out-dmn_nbr_hrz_crd;dmn_idx++) lvl_nbr*=dmn_cnt_out[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2525" class="blob-num js-line-number" data-line-number="2525"></td>
        <td id="LC2525" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!trv.<span class="pl-smi">flg_mrv</span>){</td>
      </tr>
      <tr>
        <td id="L2526" class="blob-num js-line-number" data-line-number="2526"></td>
        <td id="LC2526" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* fxm: 20151011 generalize for non-MRV input */</span></td>
      </tr>
      <tr>
        <td id="L2527" class="blob-num js-line-number" data-line-number="2527"></td>
        <td id="LC2527" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;dmn_nbr_out-dmn_nbr_hrz_crd;dmn_idx++) lvl_nbr*=dmn_cnt_out[dmn_idx];</td>
      </tr>
      <tr>
        <td id="L2528" class="blob-num js-line-number" data-line-number="2528"></td>
        <td id="LC2528" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_mrv */</span></td>
      </tr>
      <tr>
        <td id="L2529" class="blob-num js-line-number" data-line-number="2529"></td>
        <td id="LC2529" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2530" class="blob-num js-line-number" data-line-number="2530"></td>
        <td id="LC2530" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!trv.<span class="pl-smi">flg_mrv</span>){</td>
      </tr>
      <tr>
        <td id="L2531" class="blob-num js-line-number" data-line-number="2531"></td>
        <td id="LC2531" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Nomenclature for var_val_cp buffers is confusing because _in and _out both refer to pre- and post-permutation */</span></td>
      </tr>
      <tr>
        <td id="L2532" class="blob-num js-line-number" data-line-number="2532"></td>
        <td id="LC2532" class="blob-code blob-code-inner js-file-line">	  var_val_cp_in=(<span class="pl-k">char</span> *)var_val_dbl_in;</td>
      </tr>
      <tr>
        <td id="L2533" class="blob-num js-line-number" data-line-number="2533"></td>
        <td id="LC2533" class="blob-code blob-code-inner js-file-line">	  var_val_cp_out=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc_dbg</span>(var_sz_in*<span class="pl-c1">nco_typ_lng</span>(var_typ_rgr),fnc_nm,<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to malloc() permuted output value buffer<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2534" class="blob-num js-line-number" data-line-number="2534"></td>
        <td id="LC2534" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2535" class="blob-num js-line-number" data-line-number="2535"></td>
        <td id="LC2535" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(idx_in=<span class="pl-c1">0</span>;idx_in&lt;var_sz_in;idx_in++){</td>
      </tr>
      <tr>
        <td id="L2536" class="blob-num js-line-number" data-line-number="2536"></td>
        <td id="LC2536" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2537" class="blob-num js-line-number" data-line-number="2537"></td>
        <td id="LC2537" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* fxm CEWI fixes uninitialized warning*/</span></td>
      </tr>
      <tr>
        <td id="L2538" class="blob-num js-line-number" data-line-number="2538"></td>
        <td id="LC2538" class="blob-code blob-code-inner js-file-line">	    idx_out=<span class="pl-c1">73</span>;</td>
      </tr>
      <tr>
        <td id="L2539" class="blob-num js-line-number" data-line-number="2539"></td>
        <td id="LC2539" class="blob-code blob-code-inner js-file-line">	    </td>
      </tr>
      <tr>
        <td id="L2540" class="blob-num js-line-number" data-line-number="2540"></td>
        <td id="LC2540" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* dmn_sbs_in are corresponding indices (subscripts) into N-D array */</span></td>
      </tr>
      <tr>
        <td id="L2541" class="blob-num js-line-number" data-line-number="2541"></td>
        <td id="LC2541" class="blob-code blob-code-inner js-file-line">	    dmn_sbs_in[dmn_nbr_in_m1]=idx_in%dmn_cnt_in[dmn_nbr_in_m1];</td>
      </tr>
      <tr>
        <td id="L2542" class="blob-num js-line-number" data-line-number="2542"></td>
        <td id="LC2542" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dmn_idx_in=<span class="pl-c1">0</span>;dmn_idx_in&lt;dmn_nbr_in_m1;dmn_idx_in++){</td>
      </tr>
      <tr>
        <td id="L2543" class="blob-num js-line-number" data-line-number="2543"></td>
        <td id="LC2543" class="blob-code blob-code-inner js-file-line">	      dmn_sbs_in[dmn_idx_in]=(<span class="pl-k">long</span> <span class="pl-k">int</span>)(idx_in/dmn_map_in[dmn_idx_in]);</td>
      </tr>
      <tr>
        <td id="L2544" class="blob-num js-line-number" data-line-number="2544"></td>
        <td id="LC2544" class="blob-code blob-code-inner js-file-line">	      dmn_sbs_in[dmn_idx_in]%=dmn_cnt_in[dmn_idx_in];</td>
      </tr>
      <tr>
        <td id="L2545" class="blob-num js-line-number" data-line-number="2545"></td>
        <td id="LC2545" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2546" class="blob-num js-line-number" data-line-number="2546"></td>
        <td id="LC2546" class="blob-code blob-code-inner js-file-line">	    </td>
      </tr>
      <tr>
        <td id="L2547" class="blob-num js-line-number" data-line-number="2547"></td>
        <td id="LC2547" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* dmn_sbs_out are corresponding indices (subscripts) into N-D array */</span></td>
      </tr>
      <tr>
        <td id="L2548" class="blob-num js-line-number" data-line-number="2548"></td>
        <td id="LC2548" class="blob-code blob-code-inner js-file-line">	    dmn_sbs_out[dmn_nbr_out_m1]=idx_out%dmn_cnt_out[dmn_nbr_out_m1];</td>
      </tr>
      <tr>
        <td id="L2549" class="blob-num js-line-number" data-line-number="2549"></td>
        <td id="LC2549" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dmn_idx_out=<span class="pl-c1">0</span>;dmn_idx_out&lt;dmn_nbr_out_m1;dmn_idx_out++){</td>
      </tr>
      <tr>
        <td id="L2550" class="blob-num js-line-number" data-line-number="2550"></td>
        <td id="LC2550" class="blob-code blob-code-inner js-file-line">	      dmn_sbs_out[dmn_idx_out]=(<span class="pl-k">long</span> <span class="pl-k">int</span>)(idx_out/dmn_map_out[dmn_idx_out]);</td>
      </tr>
      <tr>
        <td id="L2551" class="blob-num js-line-number" data-line-number="2551"></td>
        <td id="LC2551" class="blob-code blob-code-inner js-file-line">	      dmn_sbs_out[dmn_idx_out]%=dmn_cnt_out[dmn_idx_out];</td>
      </tr>
      <tr>
        <td id="L2552" class="blob-num js-line-number" data-line-number="2552"></td>
        <td id="LC2552" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* end loop over dimensions */</span></td>
      </tr>
      <tr>
        <td id="L2553" class="blob-num js-line-number" data-line-number="2553"></td>
        <td id="LC2553" class="blob-code blob-code-inner js-file-line">	    </td>
      </tr>
      <tr>
        <td id="L2554" class="blob-num js-line-number" data-line-number="2554"></td>
        <td id="LC2554" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* Map variable&#39;s N-D array indices to get 1-D index into output data */</span></td>
      </tr>
      <tr>
        <td id="L2555" class="blob-num js-line-number" data-line-number="2555"></td>
        <td id="LC2555" class="blob-code blob-code-inner js-file-line">	    idx_out=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2556" class="blob-num js-line-number" data-line-number="2556"></td>
        <td id="LC2556" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dmn_idx_out=<span class="pl-c1">0</span>;dmn_idx_out&lt;dmn_nbr_out;dmn_idx_out++) </td>
      </tr>
      <tr>
        <td id="L2557" class="blob-num js-line-number" data-line-number="2557"></td>
        <td id="LC2557" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">// fxm</span></td>
      </tr>
      <tr>
        <td id="L2558" class="blob-num js-line-number" data-line-number="2558"></td>
        <td id="LC2558" class="blob-code blob-code-inner js-file-line">	      idx_out+=<span class="pl-c1">0</span>*(dmn_sbs_in[dmn_idx_out_in[dmn_idx_out]]*dmn_map_out[dmn_idx_out]);</td>
      </tr>
      <tr>
        <td id="L2559" class="blob-num js-line-number" data-line-number="2559"></td>
        <td id="LC2559" class="blob-code blob-code-inner js-file-line">	    </td>
      </tr>
      <tr>
        <td id="L2560" class="blob-num js-line-number" data-line-number="2560"></td>
        <td id="LC2560" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* Copy current input element into its slot in output array */</span></td>
      </tr>
      <tr>
        <td id="L2561" class="blob-num js-line-number" data-line-number="2561"></td>
        <td id="LC2561" class="blob-code blob-code-inner js-file-line">	    (<span class="pl-k">void</span>)<span class="pl-c1">memcpy</span>(var_val_cp_out+idx_out*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>),var_val_cp_in+idx_in*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>),(<span class="pl-c1">size_t</span>)<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L2562" class="blob-num js-line-number" data-line-number="2562"></td>
        <td id="LC2562" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* end loop over idx_in */</span></td>
      </tr>
      <tr>
        <td id="L2563" class="blob-num js-line-number" data-line-number="2563"></td>
        <td id="LC2563" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2564" class="blob-num js-line-number" data-line-number="2564"></td>
        <td id="LC2564" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Free non-MRV input buffer */</span></td>
      </tr>
      <tr>
        <td id="L2565" class="blob-num js-line-number" data-line-number="2565"></td>
        <td id="LC2565" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(var_val_dbl_in) var_val_dbl_in=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(var_val_dbl_in);</td>
      </tr>
      <tr>
        <td id="L2566" class="blob-num js-line-number" data-line-number="2566"></td>
        <td id="LC2566" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Point input buffer to MRV var_val_cp_out, then regrid that */</span></td>
      </tr>
      <tr>
        <td id="L2567" class="blob-num js-line-number" data-line-number="2567"></td>
        <td id="LC2567" class="blob-code blob-code-inner js-file-line">	  var_val_dbl_in=(<span class="pl-k">double</span> *)var_val_cp_out;</td>
      </tr>
      <tr>
        <td id="L2568" class="blob-num js-line-number" data-line-number="2568"></td>
        <td id="LC2568" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2569" class="blob-num js-line-number" data-line-number="2569"></td>
        <td id="LC2569" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_idx_out_in) dmn_idx_out_in=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_idx_out_in);</td>
      </tr>
      <tr>
        <td id="L2570" class="blob-num js-line-number" data-line-number="2570"></td>
        <td id="LC2570" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_map_in) dmn_map_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_map_in);</td>
      </tr>
      <tr>
        <td id="L2571" class="blob-num js-line-number" data-line-number="2571"></td>
        <td id="LC2571" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_map_out) dmn_map_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_map_out);</td>
      </tr>
      <tr>
        <td id="L2572" class="blob-num js-line-number" data-line-number="2572"></td>
        <td id="LC2572" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_sbs_in) dmn_sbs_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_sbs_in);</td>
      </tr>
      <tr>
        <td id="L2573" class="blob-num js-line-number" data-line-number="2573"></td>
        <td id="LC2573" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(dmn_sbs_out) dmn_sbs_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_sbs_out);</td>
      </tr>
      <tr>
        <td id="L2574" class="blob-num js-line-number" data-line-number="2574"></td>
        <td id="LC2574" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2575" class="blob-num js-line-number" data-line-number="2575"></td>
        <td id="LC2575" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_mrv */</span></td>
      </tr>
      <tr>
        <td id="L2576" class="blob-num js-line-number" data-line-number="2576"></td>
        <td id="LC2576" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2577" class="blob-num js-line-number" data-line-number="2577"></td>
        <td id="LC2577" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* 20150914: Intensive variables require normalization, extensive do not</span></td>
      </tr>
      <tr>
        <td id="L2578" class="blob-num js-line-number" data-line-number="2578"></td>
        <td id="LC2578" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Intensive variables (temperature, wind speed, mixing ratio) do not depend on gridcell boundaries</span></td>
      </tr>
      <tr>
        <td id="L2579" class="blob-num js-line-number" data-line-number="2579"></td>
        <td id="LC2579" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Extensive variables (population, counts, numbers of things) depend on gridcell boundaries</span></td>
      </tr>
      <tr>
        <td id="L2580" class="blob-num js-line-number" data-line-number="2580"></td>
        <td id="LC2580" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Extensive variables are the exception in models, yet are commonly used for sampling information, e.g., </span></td>
      </tr>
      <tr>
        <td id="L2581" class="blob-num js-line-number" data-line-number="2581"></td>
        <td id="LC2581" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   number of photons, number of overpasses </span></td>
      </tr>
      <tr>
        <td id="L2582" class="blob-num js-line-number" data-line-number="2582"></td>
        <td id="LC2582" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Pass NCO the extensive variable list with, e.g., --xtn=TSurfStd_ct,... */</span></td>
      </tr>
      <tr>
        <td id="L2583" class="blob-num js-line-number" data-line-number="2583"></td>
        <td id="LC2583" class="blob-code blob-code-inner js-file-line">	  </td>
      </tr>
      <tr>
        <td id="L2584" class="blob-num js-line-number" data-line-number="2584"></td>
        <td id="LC2584" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Apply weights */</span></td>
      </tr>
      <tr>
        <td id="L2585" class="blob-num js-line-number" data-line-number="2585"></td>
        <td id="LC2585" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!has_mss_val){</td>
      </tr>
      <tr>
        <td id="L2586" class="blob-num js-line-number" data-line-number="2586"></td>
        <td id="LC2586" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lvl_nbr == <span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L2587" class="blob-num js-line-number" data-line-number="2587"></td>
        <td id="LC2587" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++)</td>
      </tr>
      <tr>
        <td id="L2588" class="blob-num js-line-number" data-line-number="2588"></td>
        <td id="LC2588" class="blob-code blob-code-inner js-file-line">	      var_val_dbl_out[row_dst_adr[lnk_idx]]+=var_val_dbl_in[col_src_adr[lnk_idx]]*wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2589" class="blob-num js-line-number" data-line-number="2589"></td>
        <td id="LC2589" class="blob-code blob-code-inner js-file-line">	  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L2590" class="blob-num js-line-number" data-line-number="2590"></td>
        <td id="LC2590" class="blob-code blob-code-inner js-file-line">	    val_in_fst=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2591" class="blob-num js-line-number" data-line-number="2591"></td>
        <td id="LC2591" class="blob-code blob-code-inner js-file-line">	    val_out_fst=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2592" class="blob-num js-line-number" data-line-number="2592"></td>
        <td id="LC2592" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(lvl_idx=<span class="pl-c1">0</span>;lvl_idx&lt;lvl_nbr;lvl_idx++){</td>
      </tr>
      <tr>
        <td id="L2593" class="blob-num js-line-number" data-line-number="2593"></td>
        <td id="LC2593" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">//if(nco_dbg_lvl_get() &gt;= nco_dbg_crr) (void)fprintf(fp_stdout,&quot;%s lvl_idx = %d val_in_fst = %li, val_out_fst = %li\n&quot;,trv.nm,lvl_idx,val_in_fst,val_out_fst);</span></td>
      </tr>
      <tr>
        <td id="L2594" class="blob-num js-line-number" data-line-number="2594"></td>
        <td id="LC2594" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++)</td>
      </tr>
      <tr>
        <td id="L2595" class="blob-num js-line-number" data-line-number="2595"></td>
        <td id="LC2595" class="blob-code blob-code-inner js-file-line">		var_val_dbl_out[row_dst_adr[lnk_idx]+val_out_fst]+=var_val_dbl_in[col_src_adr[lnk_idx]+val_in_fst]*wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2596" class="blob-num js-line-number" data-line-number="2596"></td>
        <td id="LC2596" class="blob-code blob-code-inner js-file-line">	      val_in_fst+=grd_sz_in;</td>
      </tr>
      <tr>
        <td id="L2597" class="blob-num js-line-number" data-line-number="2597"></td>
        <td id="LC2597" class="blob-code blob-code-inner js-file-line">	      val_out_fst+=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L2598" class="blob-num js-line-number" data-line-number="2598"></td>
        <td id="LC2598" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* end loop over lvl */</span></td>
      </tr>
      <tr>
        <td id="L2599" class="blob-num js-line-number" data-line-number="2599"></td>
        <td id="LC2599" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* lvl_nbr &gt; 1 */</span></td>
      </tr>
      <tr>
        <td id="L2600" class="blob-num js-line-number" data-line-number="2600"></td>
        <td id="LC2600" class="blob-code blob-code-inner js-file-line">	}<span class="pl-k">else</span>{ <span class="pl-c">/* has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2601" class="blob-num js-line-number" data-line-number="2601"></td>
        <td id="LC2601" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lvl_nbr == <span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L2602" class="blob-num js-line-number" data-line-number="2602"></td>
        <td id="LC2602" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(trv.<span class="pl-smi">flg_xtn</span>){</td>
      </tr>
      <tr>
        <td id="L2603" class="blob-num js-line-number" data-line-number="2603"></td>
        <td id="LC2603" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">/* 20150914: fxm extensive block needs work and once debugged, must be implemented in !has_mss_val branch and in lvl_nbr &gt; 1 branch */</span></td>
      </tr>
      <tr>
        <td id="L2604" class="blob-num js-line-number" data-line-number="2604"></td>
        <td id="LC2604" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++){</td>
      </tr>
      <tr>
        <td id="L2605" class="blob-num js-line-number" data-line-number="2605"></td>
        <td id="LC2605" class="blob-code blob-code-inner js-file-line">		idx_in=col_src_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2606" class="blob-num js-line-number" data-line-number="2606"></td>
        <td id="LC2606" class="blob-code blob-code-inner js-file-line">		idx_out=row_dst_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2607" class="blob-num js-line-number" data-line-number="2607"></td>
        <td id="LC2607" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>((var_val_crr=var_val_dbl_in[idx_in]) != mss_val_dbl){</td>
      </tr>
      <tr>
        <td id="L2608" class="blob-num js-line-number" data-line-number="2608"></td>
        <td id="LC2608" class="blob-code blob-code-inner js-file-line">		  var_val_dbl_out[idx_out]+=var_val_crr;</td>
      </tr>
      <tr>
        <td id="L2609" class="blob-num js-line-number" data-line-number="2609"></td>
        <td id="LC2609" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">if</span>(flg_rnr) wgt_vld_out[idx_out]+=wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2610" class="blob-num js-line-number" data-line-number="2610"></td>
        <td id="LC2610" class="blob-code blob-code-inner js-file-line">		  tally[idx_out]++;</td>
      </tr>
      <tr>
        <td id="L2611" class="blob-num js-line-number" data-line-number="2611"></td>
        <td id="LC2611" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L2612" class="blob-num js-line-number" data-line-number="2612"></td>
        <td id="LC2612" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* end loop over link */</span></td>
      </tr>
      <tr>
        <td id="L2613" class="blob-num js-line-number" data-line-number="2613"></td>
        <td id="LC2613" class="blob-code blob-code-inner js-file-line">	    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L2614" class="blob-num js-line-number" data-line-number="2614"></td>
        <td id="LC2614" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++){</td>
      </tr>
      <tr>
        <td id="L2615" class="blob-num js-line-number" data-line-number="2615"></td>
        <td id="LC2615" class="blob-code blob-code-inner js-file-line">		idx_in=col_src_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2616" class="blob-num js-line-number" data-line-number="2616"></td>
        <td id="LC2616" class="blob-code blob-code-inner js-file-line">		idx_out=row_dst_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2617" class="blob-num js-line-number" data-line-number="2617"></td>
        <td id="LC2617" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>((var_val_crr=var_val_dbl_in[idx_in]) != mss_val_dbl){</td>
      </tr>
      <tr>
        <td id="L2618" class="blob-num js-line-number" data-line-number="2618"></td>
        <td id="LC2618" class="blob-code blob-code-inner js-file-line">		  var_val_dbl_out[idx_out]+=var_val_crr*wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2619" class="blob-num js-line-number" data-line-number="2619"></td>
        <td id="LC2619" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">if</span>(flg_rnr) wgt_vld_out[idx_out]+=wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2620" class="blob-num js-line-number" data-line-number="2620"></td>
        <td id="LC2620" class="blob-code blob-code-inner js-file-line">		  tally[idx_out]++;</td>
      </tr>
      <tr>
        <td id="L2621" class="blob-num js-line-number" data-line-number="2621"></td>
        <td id="LC2621" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L2622" class="blob-num js-line-number" data-line-number="2622"></td>
        <td id="LC2622" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* end loop over link */</span></td>
      </tr>
      <tr>
        <td id="L2623" class="blob-num js-line-number" data-line-number="2623"></td>
        <td id="LC2623" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !flg_xtn */</span></td>
      </tr>
      <tr>
        <td id="L2624" class="blob-num js-line-number" data-line-number="2624"></td>
        <td id="LC2624" class="blob-code blob-code-inner js-file-line">	  }<span class="pl-k">else</span>{ <span class="pl-c">/* lvl_nbr &gt; 1 */</span></td>
      </tr>
      <tr>
        <td id="L2625" class="blob-num js-line-number" data-line-number="2625"></td>
        <td id="LC2625" class="blob-code blob-code-inner js-file-line">	    val_in_fst=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2626" class="blob-num js-line-number" data-line-number="2626"></td>
        <td id="LC2626" class="blob-code blob-code-inner js-file-line">	    val_out_fst=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L2627" class="blob-num js-line-number" data-line-number="2627"></td>
        <td id="LC2627" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(trv.<span class="pl-smi">flg_mrv</span>){</td>
      </tr>
      <tr>
        <td id="L2628" class="blob-num js-line-number" data-line-number="2628"></td>
        <td id="LC2628" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(lvl_idx=<span class="pl-c1">0</span>;lvl_idx&lt;lvl_nbr;lvl_idx++){</td>
      </tr>
      <tr>
        <td id="L2629" class="blob-num js-line-number" data-line-number="2629"></td>
        <td id="LC2629" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++){</td>
      </tr>
      <tr>
        <td id="L2630" class="blob-num js-line-number" data-line-number="2630"></td>
        <td id="LC2630" class="blob-code blob-code-inner js-file-line">		  idx_in=col_src_adr[lnk_idx]+val_in_fst;</td>
      </tr>
      <tr>
        <td id="L2631" class="blob-num js-line-number" data-line-number="2631"></td>
        <td id="LC2631" class="blob-code blob-code-inner js-file-line">		  idx_out=row_dst_adr[lnk_idx]+val_out_fst;</td>
      </tr>
      <tr>
        <td id="L2632" class="blob-num js-line-number" data-line-number="2632"></td>
        <td id="LC2632" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">if</span>((var_val_crr=var_val_dbl_in[idx_in]) != mss_val_dbl){</td>
      </tr>
      <tr>
        <td id="L2633" class="blob-num js-line-number" data-line-number="2633"></td>
        <td id="LC2633" class="blob-code blob-code-inner js-file-line">		    var_val_dbl_out[idx_out]+=var_val_crr*wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2634" class="blob-num js-line-number" data-line-number="2634"></td>
        <td id="LC2634" class="blob-code blob-code-inner js-file-line">		    <span class="pl-k">if</span>(flg_rnr) wgt_vld_out[idx_out]+=wgt_raw[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2635" class="blob-num js-line-number" data-line-number="2635"></td>
        <td id="LC2635" class="blob-code blob-code-inner js-file-line">		    tally[idx_out]++;</td>
      </tr>
      <tr>
        <td id="L2636" class="blob-num js-line-number" data-line-number="2636"></td>
        <td id="LC2636" class="blob-code blob-code-inner js-file-line">		  } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L2637" class="blob-num js-line-number" data-line-number="2637"></td>
        <td id="LC2637" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* end loop over link */</span></td>
      </tr>
      <tr>
        <td id="L2638" class="blob-num js-line-number" data-line-number="2638"></td>
        <td id="LC2638" class="blob-code blob-code-inner js-file-line">		val_in_fst+=grd_sz_in;</td>
      </tr>
      <tr>
        <td id="L2639" class="blob-num js-line-number" data-line-number="2639"></td>
        <td id="LC2639" class="blob-code blob-code-inner js-file-line">		val_out_fst+=grd_sz_out;</td>
      </tr>
      <tr>
        <td id="L2640" class="blob-num js-line-number" data-line-number="2640"></td>
        <td id="LC2640" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* end loop over lvl */</span></td>
      </tr>
      <tr>
        <td id="L2641" class="blob-num js-line-number" data-line-number="2641"></td>
        <td id="LC2641" class="blob-code blob-code-inner js-file-line">	    }<span class="pl-k">else</span>{ <span class="pl-c">/* !flg_mrv */</span></td>
      </tr>
      <tr>
        <td id="L2642" class="blob-num js-line-number" data-line-number="2642"></td>
        <td id="LC2642" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(fp_stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>INFO: Non-MRV variable <span class="pl-c1">%s</span>: lvl_nbr = <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,trv.<span class="pl-smi">nm</span>,lvl_nbr);</td>
      </tr>
      <tr>
        <td id="L2643" class="blob-num js-line-number" data-line-number="2643"></td>
        <td id="LC2643" class="blob-code blob-code-inner js-file-line">	      <span class="pl-c">/* Algorithm to regrid non-MRV variables:</span></td>
      </tr>
      <tr>
        <td id="L2644" class="blob-num js-line-number" data-line-number="2644"></td>
        <td id="LC2644" class="blob-code blob-code-inner js-file-line"><span class="pl-c">		 Permute input data until horizontal coordinates are MRV</span></td>
      </tr>
      <tr>
        <td id="L2645" class="blob-num js-line-number" data-line-number="2645"></td>
        <td id="LC2645" class="blob-code blob-code-inner js-file-line"><span class="pl-c">		 Regrid as usual</span></td>
      </tr>
      <tr>
        <td id="L2646" class="blob-num js-line-number" data-line-number="2646"></td>
        <td id="LC2646" class="blob-code blob-code-inner js-file-line"><span class="pl-c">		 Permute output data into original non-MRV order */</span></td>
      </tr>
      <tr>
        <td id="L2647" class="blob-num js-line-number" data-line-number="2647"></td>
        <td id="LC2647" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2648" class="blob-num js-line-number" data-line-number="2648"></td>
        <td id="LC2648" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(lnk_idx=<span class="pl-c1">0</span>;lnk_idx&lt;lnk_nbr;lnk_idx++){</td>
      </tr>
      <tr>
        <td id="L2649" class="blob-num js-line-number" data-line-number="2649"></td>
        <td id="LC2649" class="blob-code blob-code-inner js-file-line">		<span class="pl-c">/* Translate col_src/row_dst addresses (which are 1-D offsets) into lon/lat/col indices in src/dst arrays */</span></td>
      </tr>
      <tr>
        <td id="L2650" class="blob-num js-line-number" data-line-number="2650"></td>
        <td id="LC2650" class="blob-code blob-code-inner js-file-line">		idx_in=col_src_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2651" class="blob-num js-line-number" data-line-number="2651"></td>
        <td id="LC2651" class="blob-code blob-code-inner js-file-line">		idx_out=row_dst_adr[lnk_idx];</td>
      </tr>
      <tr>
        <td id="L2652" class="blob-num js-line-number" data-line-number="2652"></td>
        <td id="LC2652" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2653" class="blob-num js-line-number" data-line-number="2653"></td>
        <td id="LC2653" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* end loop over link */</span></td>
      </tr>
      <tr>
        <td id="L2654" class="blob-num js-line-number" data-line-number="2654"></td>
        <td id="LC2654" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !flg_mrv */</span></td>
      </tr>
      <tr>
        <td id="L2655" class="blob-num js-line-number" data-line-number="2655"></td>
        <td id="LC2655" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* lvl_nbr &gt; 1 */</span></td>
      </tr>
      <tr>
        <td id="L2656" class="blob-num js-line-number" data-line-number="2656"></td>
        <td id="LC2656" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2657" class="blob-num js-line-number" data-line-number="2657"></td>
        <td id="LC2657" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2658" class="blob-num js-line-number" data-line-number="2658"></td>
        <td id="LC2658" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Rounding can be important for integer-type extensive variables */</span></td>
      </tr>
      <tr>
        <td id="L2659" class="blob-num js-line-number" data-line-number="2659"></td>
        <td id="LC2659" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(trv.<span class="pl-smi">flg_xtn</span>){</td>
      </tr>
      <tr>
        <td id="L2660" class="blob-num js-line-number" data-line-number="2660"></td>
        <td id="LC2660" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(<span class="pl-c1">nco_typ_ntg</span>(var_typ_out)){</td>
      </tr>
      <tr>
        <td id="L2661" class="blob-num js-line-number" data-line-number="2661"></td>
        <td id="LC2661" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(!has_mss_val){</td>
      </tr>
      <tr>
        <td id="L2662" class="blob-num js-line-number" data-line-number="2662"></td>
        <td id="LC2662" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2663" class="blob-num js-line-number" data-line-number="2663"></td>
        <td id="LC2663" class="blob-code blob-code-inner js-file-line">		var_val_dbl_out[dst_idx]=<span class="pl-c1">round</span>(var_val_dbl_out[dst_idx]);</td>
      </tr>
      <tr>
        <td id="L2664" class="blob-num js-line-number" data-line-number="2664"></td>
        <td id="LC2664" class="blob-code blob-code-inner js-file-line">	    }<span class="pl-k">else</span>{ <span class="pl-c">/* has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2665" class="blob-num js-line-number" data-line-number="2665"></td>
        <td id="LC2665" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2666" class="blob-num js-line-number" data-line-number="2666"></td>
        <td id="LC2666" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(tally[dst_idx]) var_val_dbl_out[dst_idx]=<span class="pl-c1">round</span>(var_val_dbl_out[dst_idx]);</td>
      </tr>
      <tr>
        <td id="L2667" class="blob-num js-line-number" data-line-number="2667"></td>
        <td id="LC2667" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2668" class="blob-num js-line-number" data-line-number="2668"></td>
        <td id="LC2668" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !nco_typ_ntg */</span></td>
      </tr>
      <tr>
        <td id="L2669" class="blob-num js-line-number" data-line-number="2669"></td>
        <td id="LC2669" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !flg_xtn */</span></td>
      </tr>
      <tr>
        <td id="L2670" class="blob-num js-line-number" data-line-number="2670"></td>
        <td id="LC2670" class="blob-code blob-code-inner js-file-line">	  </td>
      </tr>
      <tr>
        <td id="L2671" class="blob-num js-line-number" data-line-number="2671"></td>
        <td id="LC2671" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!has_mss_val){</td>
      </tr>
      <tr>
        <td id="L2672" class="blob-num js-line-number" data-line-number="2672"></td>
        <td id="LC2672" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(flg_frc_nrm){</td>
      </tr>
      <tr>
        <td id="L2673" class="blob-num js-line-number" data-line-number="2673"></td>
        <td id="LC2673" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c">/* frc_dst = frc_out = dst_frac = frac_b contains non-unity elements and normalization type is &quot;destarea&quot; or &quot;none&quot;</span></td>
      </tr>
      <tr>
        <td id="L2674" class="blob-num js-line-number" data-line-number="2674"></td>
        <td id="LC2674" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       When this occurs for conservative remapping, follow &quot;destarea&quot; normalization procedure</span></td>
      </tr>
      <tr>
        <td id="L2675" class="blob-num js-line-number" data-line-number="2675"></td>
        <td id="LC2675" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       See SCRIP manual p. 11 and http://www.earthsystemmodeling.org/esmf_releases/public/ESMF_6_3_0rp1/ESMF_refdoc/node3.html#SECTION03028000000000000000</span></td>
      </tr>
      <tr>
        <td id="L2676" class="blob-num js-line-number" data-line-number="2676"></td>
        <td id="LC2676" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       NB: Non-conservative interpolation methods (e.g., bilinear) should NOT apply this normalization (theoretically there is no danger in doing so because frc_out == 1 always for all gridcells that participate in bilinear remapping and frc_out == 0 otherwise, but still, best not to tempt the Fates)</span></td>
      </tr>
      <tr>
        <td id="L2677" class="blob-num js-line-number" data-line-number="2677"></td>
        <td id="LC2677" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       NB: Both frc_out and NCO&#39;s renormalization (below) could serve the same purpose</span></td>
      </tr>
      <tr>
        <td id="L2678" class="blob-num js-line-number" data-line-number="2678"></td>
        <td id="LC2678" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       Applying both could lead to double-normalizing by missing values!</span></td>
      </tr>
      <tr>
        <td id="L2679" class="blob-num js-line-number" data-line-number="2679"></td>
        <td id="LC2679" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       20151018: Be sure this does not occur! current this is done by only executing flg_frc_nrm block when !has_mss_val</span></td>
      </tr>
      <tr>
        <td id="L2680" class="blob-num js-line-number" data-line-number="2680"></td>
        <td id="LC2680" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       and having a separate normalization block for has_mss_val</span></td>
      </tr>
      <tr>
        <td id="L2681" class="blob-num js-line-number" data-line-number="2681"></td>
        <td id="LC2681" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	       fxm: Use better logic and more metadata information to determine code path */</span></td>
      </tr>
      <tr>
        <td id="L2682" class="blob-num js-line-number" data-line-number="2682"></td>
        <td id="LC2682" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(lvl_nbr == <span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L2683" class="blob-num js-line-number" data-line-number="2683"></td>
        <td id="LC2683" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;grd_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2684" class="blob-num js-line-number" data-line-number="2684"></td>
        <td id="LC2684" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(frc_out[dst_idx] != <span class="pl-c1">0.0</span>) var_val_dbl_out[dst_idx]/=frc_out[dst_idx];</td>
      </tr>
      <tr>
        <td id="L2685" class="blob-num js-line-number" data-line-number="2685"></td>
        <td id="LC2685" class="blob-code blob-code-inner js-file-line">	    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L2686" class="blob-num js-line-number" data-line-number="2686"></td>
        <td id="LC2686" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;grd_sz_out;dst_idx++){</td>
      </tr>
      <tr>
        <td id="L2687" class="blob-num js-line-number" data-line-number="2687"></td>
        <td id="LC2687" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(frc_out[dst_idx] != <span class="pl-c1">0.0</span>){</td>
      </tr>
      <tr>
        <td id="L2688" class="blob-num js-line-number" data-line-number="2688"></td>
        <td id="LC2688" class="blob-code blob-code-inner js-file-line">		  <span class="pl-k">for</span>(lvl_idx=<span class="pl-c1">0</span>;lvl_idx&lt;lvl_nbr;lvl_idx++){</td>
      </tr>
      <tr>
        <td id="L2689" class="blob-num js-line-number" data-line-number="2689"></td>
        <td id="LC2689" class="blob-code blob-code-inner js-file-line">		    var_val_dbl_out[dst_idx+lvl_idx*grd_sz_out]/=frc_out[dst_idx];</td>
      </tr>
      <tr>
        <td id="L2690" class="blob-num js-line-number" data-line-number="2690"></td>
        <td id="LC2690" class="blob-code blob-code-inner js-file-line">		  } <span class="pl-c">/* !lvl_idx */</span></td>
      </tr>
      <tr>
        <td id="L2691" class="blob-num js-line-number" data-line-number="2691"></td>
        <td id="LC2691" class="blob-code blob-code-inner js-file-line">		} <span class="pl-c">/* !frc_out */</span></td>
      </tr>
      <tr>
        <td id="L2692" class="blob-num js-line-number" data-line-number="2692"></td>
        <td id="LC2692" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !dst_idx */</span></td>
      </tr>
      <tr>
        <td id="L2693" class="blob-num js-line-number" data-line-number="2693"></td>
        <td id="LC2693" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* lvl_nbr &gt; 1 */</span></td>
      </tr>
      <tr>
        <td id="L2694" class="blob-num js-line-number" data-line-number="2694"></td>
        <td id="LC2694" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* flg_frc_nrm */</span></td>
      </tr>
      <tr>
        <td id="L2695" class="blob-num js-line-number" data-line-number="2695"></td>
        <td id="LC2695" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2696" class="blob-num js-line-number" data-line-number="2696"></td>
        <td id="LC2696" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="L2697" class="blob-num js-line-number" data-line-number="2697"></td>
        <td id="LC2697" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(has_mss_val){</td>
      </tr>
      <tr>
        <td id="L2698" class="blob-num js-line-number" data-line-number="2698"></td>
        <td id="LC2698" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* NCL and ESMF treatment of weights and missing values described at</span></td>
      </tr>
      <tr>
        <td id="L2699" class="blob-num js-line-number" data-line-number="2699"></td>
        <td id="LC2699" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     https://www.ncl.ucar.edu/Applications/ESMF.shtml#WeightsAndMasking</span></td>
      </tr>
      <tr>
        <td id="L2700" class="blob-num js-line-number" data-line-number="2700"></td>
        <td id="LC2700" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     http://earthsystemmodeling.org/esmf_releases/non_public/ESMF_6_1_1/ESMF_refdoc/node5.html#SECTION05012600000000000000</span></td>
      </tr>
      <tr>
        <td id="L2701" class="blob-num js-line-number" data-line-number="2701"></td>
        <td id="LC2701" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     NCO implements one of two procedures: &quot;conservative&quot; or &quot;renormalized&quot;</span></td>
      </tr>
      <tr>
        <td id="L2702" class="blob-num js-line-number" data-line-number="2702"></td>
        <td id="LC2702" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     The &quot;conservative&quot; algorithm uses all valid data from the input grid on the output grid</span></td>
      </tr>
      <tr>
        <td id="L2703" class="blob-num js-line-number" data-line-number="2703"></td>
        <td id="LC2703" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     Destination cells receive the weighted valid values of the source cells</span></td>
      </tr>
      <tr>
        <td id="L2704" class="blob-num js-line-number" data-line-number="2704"></td>
        <td id="LC2704" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     This is conservative because the global integrals of the source and destination fields are equal</span></td>
      </tr>
      <tr>
        <td id="L2705" class="blob-num js-line-number" data-line-number="2705"></td>
        <td id="LC2705" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     The &quot;renormalized&quot; algorithm divides the destination value by the sum of the valid weights</span></td>
      </tr>
      <tr>
        <td id="L2706" class="blob-num js-line-number" data-line-number="2706"></td>
        <td id="LC2706" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     This returns &quot;reasonable&quot; values, i.e., the mean of the valid input values</span></td>
      </tr>
      <tr>
        <td id="L2707" class="blob-num js-line-number" data-line-number="2707"></td>
        <td id="LC2707" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     However, renormalization is equivalent to extrapolating valid data to missing regions</span></td>
      </tr>
      <tr>
        <td id="L2708" class="blob-num js-line-number" data-line-number="2708"></td>
        <td id="LC2708" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     Hence the input and output integrals are unequal and the regridding is not conservative */</span></td>
      </tr>
      <tr>
        <td id="L2709" class="blob-num js-line-number" data-line-number="2709"></td>
        <td id="LC2709" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2710" class="blob-num js-line-number" data-line-number="2710"></td>
        <td id="LC2710" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(!tally[dst_idx]) var_val_dbl_out[dst_idx]=mss_val_dbl;</td>
      </tr>
      <tr>
        <td id="L2711" class="blob-num js-line-number" data-line-number="2711"></td>
        <td id="LC2711" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(flg_rnr){</td>
      </tr>
      <tr>
        <td id="L2712" class="blob-num js-line-number" data-line-number="2712"></td>
        <td id="LC2712" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">if</span>(wgt_vld_thr == <span class="pl-c1">0.0</span>){</td>
      </tr>
      <tr>
        <td id="L2713" class="blob-num js-line-number" data-line-number="2713"></td>
        <td id="LC2713" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2714" class="blob-num js-line-number" data-line-number="2714"></td>
        <td id="LC2714" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(tally[dst_idx]) var_val_dbl_out[dst_idx]/=wgt_vld_out[dst_idx];</td>
      </tr>
      <tr>
        <td id="L2715" class="blob-num js-line-number" data-line-number="2715"></td>
        <td id="LC2715" class="blob-code blob-code-inner js-file-line">	    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L2716" class="blob-num js-line-number" data-line-number="2716"></td>
        <td id="LC2716" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++)</td>
      </tr>
      <tr>
        <td id="L2717" class="blob-num js-line-number" data-line-number="2717"></td>
        <td id="LC2717" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(wgt_vld_out[dst_idx] &gt;= wgt_vld_thr){var_val_dbl_out[dst_idx]/=wgt_vld_out[dst_idx];}<span class="pl-k">else</span>{var_val_dbl_out[dst_idx]=mss_val_dbl;}</td>
      </tr>
      <tr>
        <td id="L2718" class="blob-num js-line-number" data-line-number="2718"></td>
        <td id="LC2718" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !wgt_vld_thr */</span></td>
      </tr>
      <tr>
        <td id="L2719" class="blob-num js-line-number" data-line-number="2719"></td>
        <td id="LC2719" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !flg_rnr */</span></td>
      </tr>
      <tr>
        <td id="L2720" class="blob-num js-line-number" data-line-number="2720"></td>
        <td id="LC2720" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2721" class="blob-num js-line-number" data-line-number="2721"></td>
        <td id="LC2721" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* 20150914: fxm extensive block */</span></td>
      </tr>
      <tr>
        <td id="L2722" class="blob-num js-line-number" data-line-number="2722"></td>
        <td id="LC2722" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(flg_rnr &amp;&amp; trv.<span class="pl-smi">flg_xtn</span>){</td>
      </tr>
      <tr>
        <td id="L2723" class="blob-num js-line-number" data-line-number="2723"></td>
        <td id="LC2723" class="blob-code blob-code-inner js-file-line">	    <span class="pl-k">for</span>(dst_idx=<span class="pl-c1">0</span>;dst_idx&lt;var_sz_out;dst_idx++){</td>
      </tr>
      <tr>
        <td id="L2724" class="blob-num js-line-number" data-line-number="2724"></td>
        <td id="LC2724" class="blob-code blob-code-inner js-file-line">	      <span class="pl-k">if</span>(tally[dst_idx] &gt; <span class="pl-c1">0</span>){</td>
      </tr>
      <tr>
        <td id="L2725" class="blob-num js-line-number" data-line-number="2725"></td>
        <td id="LC2725" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(fp_stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>Extensive variable <span class="pl-c1">%s</span>: dst_idx = <span class="pl-c1">%li</span>, tally = <span class="pl-c1">%d</span>, val_out_b4 = <span class="pl-c1">%g</span>, wgt_vld_out = <span class="pl-c1">%g</span>, val_out_after = <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,trv.<span class="pl-smi">nm</span>,dst_idx,tally[dst_idx],var_val_dbl_out[dst_idx],wgt_vld_out[dst_idx],var_val_dbl_out[dst_idx]*wgt_vld_out[dst_idx]);</td>
      </tr>
      <tr>
        <td id="L2726" class="blob-num js-line-number" data-line-number="2726"></td>
        <td id="LC2726" class="blob-code blob-code-inner js-file-line">		var_val_dbl_out[dst_idx]*=wgt_vld_out[dst_idx];</td>
      </tr>
      <tr>
        <td id="L2727" class="blob-num js-line-number" data-line-number="2727"></td>
        <td id="LC2727" class="blob-code blob-code-inner js-file-line">	      } <span class="pl-c">/* !tally */</span></td>
      </tr>
      <tr>
        <td id="L2728" class="blob-num js-line-number" data-line-number="2728"></td>
        <td id="LC2728" class="blob-code blob-code-inner js-file-line">	    } <span class="pl-c">/* !dst_idx */</span></td>
      </tr>
      <tr>
        <td id="L2729" class="blob-num js-line-number" data-line-number="2729"></td>
        <td id="LC2729" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !flg_xtn */</span></td>
      </tr>
      <tr>
        <td id="L2730" class="blob-num js-line-number" data-line-number="2730"></td>
        <td id="LC2730" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2731" class="blob-num js-line-number" data-line-number="2731"></td>
        <td id="LC2731" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !has_mss_val */</span></td>
      </tr>
      <tr>
        <td id="L2732" class="blob-num js-line-number" data-line-number="2732"></td>
        <td id="LC2732" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2733" class="blob-num js-line-number" data-line-number="2733"></td>
        <td id="LC2733" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">pragma</span> omp critical</td>
      </tr>
      <tr>
        <td id="L2734" class="blob-num js-line-number" data-line-number="2734"></td>
        <td id="LC2734" class="blob-code blob-code-inner js-file-line">	{ <span class="pl-c">/* begin OpenMP critical */</span></td>
      </tr>
      <tr>
        <td id="L2735" class="blob-num js-line-number" data-line-number="2735"></td>
        <td id="LC2735" class="blob-code blob-code-inner js-file-line">	  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,var_id_out,dmn_srt,dmn_cnt_out,var_val_dbl_out,var_typ_rgr);</td>
      </tr>
      <tr>
        <td id="L2736" class="blob-num js-line-number" data-line-number="2736"></td>
        <td id="LC2736" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* end OpenMP critical */</span></td>
      </tr>
      <tr>
        <td id="L2737" class="blob-num js-line-number" data-line-number="2737"></td>
        <td id="LC2737" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L2738" class="blob-num js-line-number" data-line-number="2738"></td>
        <td id="LC2738" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(dmn_id_in) dmn_id_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_id_in);</td>
      </tr>
      <tr>
        <td id="L2739" class="blob-num js-line-number" data-line-number="2739"></td>
        <td id="LC2739" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(dmn_id_out) dmn_id_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_id_out);</td>
      </tr>
      <tr>
        <td id="L2740" class="blob-num js-line-number" data-line-number="2740"></td>
        <td id="LC2740" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(dmn_srt) dmn_srt=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_srt);</td>
      </tr>
      <tr>
        <td id="L2741" class="blob-num js-line-number" data-line-number="2741"></td>
        <td id="LC2741" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(dmn_cnt_in) dmn_cnt_in=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_cnt_in);</td>
      </tr>
      <tr>
        <td id="L2742" class="blob-num js-line-number" data-line-number="2742"></td>
        <td id="LC2742" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(dmn_cnt_out) dmn_cnt_out=(<span class="pl-k">long</span> *)<span class="pl-c1">nco_free</span>(dmn_cnt_out);</td>
      </tr>
      <tr>
        <td id="L2743" class="blob-num js-line-number" data-line-number="2743"></td>
        <td id="LC2743" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(tally) tally=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(tally);</td>
      </tr>
      <tr>
        <td id="L2744" class="blob-num js-line-number" data-line-number="2744"></td>
        <td id="LC2744" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(var_val_dbl_out) var_val_dbl_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(var_val_dbl_out);</td>
      </tr>
      <tr>
        <td id="L2745" class="blob-num js-line-number" data-line-number="2745"></td>
        <td id="LC2745" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(var_val_dbl_in) var_val_dbl_in=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(var_val_dbl_in);</td>
      </tr>
      <tr>
        <td id="L2746" class="blob-num js-line-number" data-line-number="2746"></td>
        <td id="LC2746" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(wgt_vld_out) wgt_vld_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(wgt_vld_out);</td>
      </tr>
      <tr>
        <td id="L2747" class="blob-num js-line-number" data-line-number="2747"></td>
        <td id="LC2747" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L2748" class="blob-num js-line-number" data-line-number="2748"></td>
        <td id="LC2748" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Use standard NCO copy routine for variables that are not regridded */</span></td>
      </tr>
      <tr>
        <td id="L2749" class="blob-num js-line-number" data-line-number="2749"></td>
        <td id="LC2749" class="blob-code blob-code-inner js-file-line">#<span class="pl-k">pragma</span> omp critical</td>
      </tr>
      <tr>
        <td id="L2750" class="blob-num js-line-number" data-line-number="2750"></td>
        <td id="LC2750" class="blob-code blob-code-inner js-file-line">	{ <span class="pl-c">/* begin OpenMP critical */</span></td>
      </tr>
      <tr>
        <td id="L2751" class="blob-num js-line-number" data-line-number="2751"></td>
        <td id="LC2751" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">nco_cpy_var_val</span>(in_id,out_id,(<span class="pl-c1">FILE</span> *)<span class="pl-c1">NULL</span>,(md5_sct *)<span class="pl-c1">NULL</span>,trv.<span class="pl-smi">nm</span>,trv_tbl);</td>
      </tr>
      <tr>
        <td id="L2752" class="blob-num js-line-number" data-line-number="2752"></td>
        <td id="LC2752" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* end OpenMP critical */</span></td>
      </tr>
      <tr>
        <td id="L2753" class="blob-num js-line-number" data-line-number="2753"></td>
        <td id="LC2753" class="blob-code blob-code-inner js-file-line">     } <span class="pl-c">/* !flg_rgr */</span></td>
      </tr>
      <tr>
        <td id="L2754" class="blob-num js-line-number" data-line-number="2754"></td>
        <td id="LC2754" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !xtr */</span></td>
      </tr>
      <tr>
        <td id="L2755" class="blob-num js-line-number" data-line-number="2755"></td>
        <td id="LC2755" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end (OpenMP parallel for) loop over idx_tbl */</span></td>
      </tr>
      <tr>
        <td id="L2756" class="blob-num js-line-number" data-line-number="2756"></td>
        <td id="LC2756" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_var) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2757" class="blob-num js-line-number" data-line-number="2757"></td>
        <td id="LC2757" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_fl) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> completion report. Variables regridded = <span class="pl-c1">%d</span> (<span class="pl-c1">%d</span> extensive), copied unmodified = <span class="pl-c1">%d</span>, omitted = <span class="pl-c1">%d</span>, created = <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,var_rgr_nbr,var_xtn_nbr,var_cpy_nbr,var_xcl_nbr,var_crt_nbr);</td>
      </tr>
      <tr>
        <td id="L2758" class="blob-num js-line-number" data-line-number="2758"></td>
        <td id="LC2758" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2759" class="blob-num js-line-number" data-line-number="2759"></td>
        <td id="LC2759" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free memory allocated for grid reading/writing */</span></td>
      </tr>
      <tr>
        <td id="L2760" class="blob-num js-line-number" data-line-number="2760"></td>
        <td id="LC2760" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(area_out) area_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(area_out);</td>
      </tr>
      <tr>
        <td id="L2761" class="blob-num js-line-number" data-line-number="2761"></td>
        <td id="LC2761" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(col_src_adr) col_src_adr=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(col_src_adr);</td>
      </tr>
      <tr>
        <td id="L2762" class="blob-num js-line-number" data-line-number="2762"></td>
        <td id="LC2762" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_sz_in_int) dmn_sz_in_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_sz_in_int);</td>
      </tr>
      <tr>
        <td id="L2763" class="blob-num js-line-number" data-line-number="2763"></td>
        <td id="LC2763" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_sz_out_int) dmn_sz_out_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_sz_out_int);</td>
      </tr>
      <tr>
        <td id="L2764" class="blob-num js-line-number" data-line-number="2764"></td>
        <td id="LC2764" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(frc_out) frc_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(frc_out);</td>
      </tr>
      <tr>
        <td id="L2765" class="blob-num js-line-number" data-line-number="2765"></td>
        <td id="LC2765" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd_out) lat_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd_out);</td>
      </tr>
      <tr>
        <td id="L2766" class="blob-num js-line-number" data-line-number="2766"></td>
        <td id="LC2766" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_crn_out) lat_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_crn_out);</td>
      </tr>
      <tr>
        <td id="L2767" class="blob-num js-line-number" data-line-number="2767"></td>
        <td id="LC2767" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ctr_out) lat_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ctr_out);</td>
      </tr>
      <tr>
        <td id="L2768" class="blob-num js-line-number" data-line-number="2768"></td>
        <td id="LC2768" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ntf_out) lat_ntf_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ntf_out);</td>
      </tr>
      <tr>
        <td id="L2769" class="blob-num js-line-number" data-line-number="2769"></td>
        <td id="LC2769" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_wgt_out) lat_wgt_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_wgt_out);</td>
      </tr>
      <tr>
        <td id="L2770" class="blob-num js-line-number" data-line-number="2770"></td>
        <td id="LC2770" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd_out) lon_bnd_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd_out);</td>
      </tr>
      <tr>
        <td id="L2771" class="blob-num js-line-number" data-line-number="2771"></td>
        <td id="LC2771" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_crn_out) lon_crn_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_crn_out);</td>
      </tr>
      <tr>
        <td id="L2772" class="blob-num js-line-number" data-line-number="2772"></td>
        <td id="LC2772" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ctr_out) lon_ctr_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ctr_out);</td>
      </tr>
      <tr>
        <td id="L2773" class="blob-num js-line-number" data-line-number="2773"></td>
        <td id="LC2773" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ntf_out) lon_ntf_out=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ntf_out);</td>
      </tr>
      <tr>
        <td id="L2774" class="blob-num js-line-number" data-line-number="2774"></td>
        <td id="LC2774" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_out) msk_out=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(msk_out);</td>
      </tr>
      <tr>
        <td id="L2775" class="blob-num js-line-number" data-line-number="2775"></td>
        <td id="LC2775" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(row_dst_adr) row_dst_adr=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(row_dst_adr);</td>
      </tr>
      <tr>
        <td id="L2776" class="blob-num js-line-number" data-line-number="2776"></td>
        <td id="LC2776" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(wgt_raw) wgt_raw=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(wgt_raw);</td>
      </tr>
      <tr>
        <td id="L2777" class="blob-num js-line-number" data-line-number="2777"></td>
        <td id="LC2777" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2778" class="blob-num js-line-number" data-line-number="2778"></td>
        <td id="LC2778" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(False &amp;&amp; flg_grd_out_crv){</td>
      </tr>
      <tr>
        <td id="L2779" class="blob-num js-line-number" data-line-number="2779"></td>
        <td id="LC2779" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* WRF curvilinear grid: </span></td>
      </tr>
      <tr>
        <td id="L2780" class="blob-num js-line-number" data-line-number="2780"></td>
        <td id="LC2780" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ncks -C -m -v XLAT,XLONG ${DATA}/hdf/wrfout_v2_Lambert.nc # Interrogate file</span></td>
      </tr>
      <tr>
        <td id="L2781" class="blob-num js-line-number" data-line-number="2781"></td>
        <td id="LC2781" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ncwa -O -a Time ${DATA}/hdf/wrfout_v2_Lambert.nc ${DATA}/hdf/wrfout_v2_Lambert_notime.nc # Create simpler input</span></td>
      </tr>
      <tr>
        <td id="L2782" class="blob-num js-line-number" data-line-number="2782"></td>
        <td id="LC2782" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ncks -C -d south_north,0 -d west_east,0 -v XLAT,XLONG ${DATA}/hdf/wrfout_v2_Lambert_notime.nc # Interrogate file</span></td>
      </tr>
      <tr>
        <td id="L2783" class="blob-num js-line-number" data-line-number="2783"></td>
        <td id="LC2783" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ncks -O -D 1 -t 1 -v T --rgr nfr=y --rgr idx_dbg=0 --rgr grid=${DATA}/sld/rgr/grd_wrf.nc ${DATA}/hdf/wrfout_v2_Lambert_notime.nc ~/foo.nc # Infer grid</span></td>
      </tr>
      <tr>
        <td id="L2784" class="blob-num js-line-number" data-line-number="2784"></td>
        <td id="LC2784" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ESMF_RegridWeightGen -s ${DATA}/sld/rgr/grd_wrf.nc -d ${DATA}/grids/180x360_SCRIP.20150901.nc -w ${DATA}/sld/rgr/map_wrf_to_dst_aave.nc --method conserve --src_regional --ignore_unmapped # Template map</span></td>
      </tr>
      <tr>
        <td id="L2785" class="blob-num js-line-number" data-line-number="2785"></td>
        <td id="LC2785" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       ncks -O -D 1 -t 1 -v T --map=${DATA}/sld/rgr/map_wrf_to_dst_aave.nc ${DATA}/hdf/wrfout_v2_Lambert_notime.nc ~/foo.nc # Regrid manually</span></td>
      </tr>
      <tr>
        <td id="L2786" class="blob-num js-line-number" data-line-number="2786"></td>
        <td id="LC2786" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       sld_nco.sh -v T -s ${DATA}/hdf/wrfout_v2_Lambert_notime.nc -g ${DATA}/grids/180x360_SCRIP.20150901.nc -o ${DATA}/sld/rgr # Regrid automatically</span></td>
      </tr>
      <tr>
        <td id="L2787" class="blob-num js-line-number" data-line-number="2787"></td>
        <td id="LC2787" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       GenerateOverlapMesh --a ${DATA}/sld/rgr/grd_wrf.nc --b ${DATA}/grids/180x360_SCRIP.20150901.nc --out ${DATA}/sld/rgr/msh_ovr_wrf_to_180x360.g */</span></td>
      </tr>
      <tr>
        <td id="L2788" class="blob-num js-line-number" data-line-number="2788"></td>
        <td id="LC2788" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(False) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports curvilinear grid reached end-of-the-line<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L2789" class="blob-num js-line-number" data-line-number="2789"></td>
        <td id="LC2789" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L2790" class="blob-num js-line-number" data-line-number="2790"></td>
        <td id="LC2790" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_out_crv */</span></td>
      </tr>
      <tr>
        <td id="L2791" class="blob-num js-line-number" data-line-number="2791"></td>
        <td id="LC2791" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2792" class="blob-num js-line-number" data-line-number="2792"></td>
        <td id="LC2792" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rcd;</td>
      </tr>
      <tr>
        <td id="L2793" class="blob-num js-line-number" data-line-number="2793"></td>
        <td id="LC2793" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_map() */</span></td>
      </tr>
      <tr>
        <td id="L2794" class="blob-num js-line-number" data-line-number="2794"></td>
        <td id="LC2794" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2795" class="blob-num js-line-number" data-line-number="2795"></td>
        <td id="LC2795" class="blob-code blob-code-inner js-file-line"><span class="pl-k">void</span></td>
      </tr>
      <tr>
        <td id="L2796" class="blob-num js-line-number" data-line-number="2796"></td>
        <td id="LC2796" class="blob-code blob-code-inner js-file-line">nco_bsl_zro <span class="pl-c">/* Return Bessel function zeros */</span></td>
      </tr>
      <tr>
        <td id="L2797" class="blob-num js-line-number" data-line-number="2797"></td>
        <td id="LC2797" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> <span class="pl-k">int</span> bsl_zro_nbr, <span class="pl-c">/* O [nbr] Order of Bessel function */</span></td>
      </tr>
      <tr>
        <td id="L2798" class="blob-num js-line-number" data-line-number="2798"></td>
        <td id="LC2798" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">double</span> * <span class="pl-k">const</span> bsl_zro) <span class="pl-c">/* O [frc] Bessel zero */</span></td>
      </tr>
      <tr>
        <td id="L2799" class="blob-num js-line-number" data-line-number="2799"></td>
        <td id="LC2799" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L2800" class="blob-num js-line-number" data-line-number="2800"></td>
        <td id="LC2800" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Return Bessel function zeros</span></td>
      </tr>
      <tr>
        <td id="L2801" class="blob-num js-line-number" data-line-number="2801"></td>
        <td id="LC2801" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Source: CCM code /fs/cgd/csm/models/atm/ccm3.5.8/src/ccmlsm_share/bsslzr.F</span></td>
      </tr>
      <tr>
        <td id="L2802" class="blob-num js-line-number" data-line-number="2802"></td>
        <td id="LC2802" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Return bsl_zro_nbr zeros (or if bsl_zro_nbr &gt; 50, approximate zeros), of the Bessel function j0</span></td>
      </tr>
      <tr>
        <td id="L2803" class="blob-num js-line-number" data-line-number="2803"></td>
        <td id="LC2803" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     First 50 zeros are given exactly, and remaining zeros are computed by extrapolation, and therefore are not exact</span></td>
      </tr>
      <tr>
        <td id="L2804" class="blob-num js-line-number" data-line-number="2804"></td>
        <td id="LC2804" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Original version:  CCM1</span></td>
      </tr>
      <tr>
        <td id="L2805" class="blob-num js-line-number" data-line-number="2805"></td>
        <td id="LC2805" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Standardized:      J. Rosinski, June 1992</span></td>
      </tr>
      <tr>
        <td id="L2806" class="blob-num js-line-number" data-line-number="2806"></td>
        <td id="LC2806" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Reviewed:          J. Hack, D. Williamson, August 1992</span></td>
      </tr>
      <tr>
        <td id="L2807" class="blob-num js-line-number" data-line-number="2807"></td>
        <td id="LC2807" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Reviewed:          J. Hack, D. Williamson, April 1996</span></td>
      </tr>
      <tr>
        <td id="L2808" class="blob-num js-line-number" data-line-number="2808"></td>
        <td id="LC2808" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Modified 19970123 by Jim Rosinski to use double precision arithmetic</span></td>
      </tr>
      <tr>
        <td id="L2809" class="blob-num js-line-number" data-line-number="2809"></td>
        <td id="LC2809" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ~2000: Converted to Fortran9X by C. Zender, changed all real*16 statements to double precision (real*8)</span></td>
      </tr>
      <tr>
        <td id="L2810" class="blob-num js-line-number" data-line-number="2810"></td>
        <td id="LC2810" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150530: Converted to C99 by C. Zender */</span></td>
      </tr>
      <tr>
        <td id="L2811" class="blob-num js-line-number" data-line-number="2811"></td>
        <td id="LC2811" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_bsl_zro()<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Function name */</span></td>
      </tr>
      <tr>
        <td id="L2812" class="blob-num js-line-number" data-line-number="2812"></td>
        <td id="LC2812" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> pi=M_PI; <span class="pl-c">// [frc] 3</span></td>
      </tr>
      <tr>
        <td id="L2813" class="blob-num js-line-number" data-line-number="2813"></td>
        <td id="LC2813" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> bsl_zro_tbl[]={ <span class="pl-c">// Zeros of Bessel functions of order 1 to 50</span></td>
      </tr>
      <tr>
        <td id="L2814" class="blob-num js-line-number" data-line-number="2814"></td>
        <td id="LC2814" class="blob-code blob-code-inner js-file-line">    -<span class="pl-c1">1</span>.<span class="pl-smi">e36</span>, <span class="pl-c1">2.4048255577</span>,   <span class="pl-c1">5.5200781103</span>, </td>
      </tr>
      <tr>
        <td id="L2815" class="blob-num js-line-number" data-line-number="2815"></td>
        <td id="LC2815" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">8.6537279129</span>,  <span class="pl-c1">11.7915344391</span>,  <span class="pl-c1">14.9309177086</span>,  <span class="pl-c1">18.0710639679</span>, </td>
      </tr>
      <tr>
        <td id="L2816" class="blob-num js-line-number" data-line-number="2816"></td>
        <td id="LC2816" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">21.2116366299</span>,  <span class="pl-c1">24.3524715308</span>,  <span class="pl-c1">27.4934791320</span>,  <span class="pl-c1">30.6346064684</span>, </td>
      </tr>
      <tr>
        <td id="L2817" class="blob-num js-line-number" data-line-number="2817"></td>
        <td id="LC2817" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">33.7758202136</span>,  <span class="pl-c1">36.9170983537</span>,  <span class="pl-c1">40.0584257646</span>,  <span class="pl-c1">43.1997917132</span>, </td>
      </tr>
      <tr>
        <td id="L2818" class="blob-num js-line-number" data-line-number="2818"></td>
        <td id="LC2818" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">46.3411883717</span>,  <span class="pl-c1">49.4826098974</span>,  <span class="pl-c1">52.6240518411</span>,  <span class="pl-c1">55.7655107550</span>, </td>
      </tr>
      <tr>
        <td id="L2819" class="blob-num js-line-number" data-line-number="2819"></td>
        <td id="LC2819" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">58.9069839261</span>,  <span class="pl-c1">62.0484691902</span>,  <span class="pl-c1">65.1899648002</span>,  <span class="pl-c1">68.3314693299</span>, </td>
      </tr>
      <tr>
        <td id="L2820" class="blob-num js-line-number" data-line-number="2820"></td>
        <td id="LC2820" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">71.4729816036</span>,  <span class="pl-c1">74.6145006437</span>,  <span class="pl-c1">77.7560256304</span>,  <span class="pl-c1">80.8975558711</span>, </td>
      </tr>
      <tr>
        <td id="L2821" class="blob-num js-line-number" data-line-number="2821"></td>
        <td id="LC2821" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">84.0390907769</span>,  <span class="pl-c1">87.1806298436</span>,  <span class="pl-c1">90.3221726372</span>,  <span class="pl-c1">93.4637187819</span>, </td>
      </tr>
      <tr>
        <td id="L2822" class="blob-num js-line-number" data-line-number="2822"></td>
        <td id="LC2822" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">96.6052679510</span>,  <span class="pl-c1">99.7468198587</span>, <span class="pl-c1">102.8883742542</span>, <span class="pl-c1">106.0299309165</span>, </td>
      </tr>
      <tr>
        <td id="L2823" class="blob-num js-line-number" data-line-number="2823"></td>
        <td id="LC2823" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">109.1714896498</span>, <span class="pl-c1">112.3130502805</span>, <span class="pl-c1">115.4546126537</span>, <span class="pl-c1">118.5961766309</span>, </td>
      </tr>
      <tr>
        <td id="L2824" class="blob-num js-line-number" data-line-number="2824"></td>
        <td id="LC2824" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">121.7377420880</span>, <span class="pl-c1">124.8793089132</span>, <span class="pl-c1">128.0208770059</span>, <span class="pl-c1">131.1624462752</span>, </td>
      </tr>
      <tr>
        <td id="L2825" class="blob-num js-line-number" data-line-number="2825"></td>
        <td id="LC2825" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">134.3040166383</span>, <span class="pl-c1">137.4455880203</span>, <span class="pl-c1">140.5871603528</span>, <span class="pl-c1">143.7287335737</span>, </td>
      </tr>
      <tr>
        <td id="L2826" class="blob-num js-line-number" data-line-number="2826"></td>
        <td id="LC2826" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">146.8703076258</span>, <span class="pl-c1">150.0118824570</span>, <span class="pl-c1">153.1534580192</span>, <span class="pl-c1">156.2950342685</span>};</td>
      </tr>
      <tr>
        <td id="L2827" class="blob-num js-line-number" data-line-number="2827"></td>
        <td id="LC2827" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> bsl_zro_tbl_nbr_max=<span class="pl-c1">50</span>; <span class="pl-c">/* [nbr] */</span></td>
      </tr>
      <tr>
        <td id="L2828" class="blob-num js-line-number" data-line-number="2828"></td>
        <td id="LC2828" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> bsl_idx; <span class="pl-c">/* [idx] Counting index */</span></td>
      </tr>
      <tr>
        <td id="L2829" class="blob-num js-line-number" data-line-number="2829"></td>
        <td id="LC2829" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2830" class="blob-num js-line-number" data-line-number="2830"></td>
        <td id="LC2830" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Main Code */</span></td>
      </tr>
      <tr>
        <td id="L2831" class="blob-num js-line-number" data-line-number="2831"></td>
        <td id="LC2831" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: DEBUG Entering <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L2832" class="blob-num js-line-number" data-line-number="2832"></td>
        <td id="LC2832" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2833" class="blob-num js-line-number" data-line-number="2833"></td>
        <td id="LC2833" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* NB: Initialize bsl_zro[0] but (in C) never use it</span></td>
      </tr>
      <tr>
        <td id="L2834" class="blob-num js-line-number" data-line-number="2834"></td>
        <td id="LC2834" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Initialization prevents uninitialized memory warnings */</span></td>
      </tr>
      <tr>
        <td id="L2835" class="blob-num js-line-number" data-line-number="2835"></td>
        <td id="LC2835" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(bsl_idx=<span class="pl-c1">0</span>;bsl_idx&lt;=bsl_zro_nbr;bsl_idx++)</td>
      </tr>
      <tr>
        <td id="L2836" class="blob-num js-line-number" data-line-number="2836"></td>
        <td id="LC2836" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(bsl_idx &lt;= bsl_zro_tbl_nbr_max) bsl_zro[bsl_idx]=bsl_zro_tbl[bsl_idx];</td>
      </tr>
      <tr>
        <td id="L2837" class="blob-num js-line-number" data-line-number="2837"></td>
        <td id="LC2837" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2838" class="blob-num js-line-number" data-line-number="2838"></td>
        <td id="LC2838" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(bsl_zro_nbr &gt; bsl_zro_tbl_nbr_max)</td>
      </tr>
      <tr>
        <td id="L2839" class="blob-num js-line-number" data-line-number="2839"></td>
        <td id="LC2839" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(bsl_idx=bsl_zro_tbl_nbr_max+<span class="pl-c1">1</span>;bsl_idx&lt;=bsl_zro_nbr;bsl_idx++)</td>
      </tr>
      <tr>
        <td id="L2840" class="blob-num js-line-number" data-line-number="2840"></td>
        <td id="LC2840" class="blob-code blob-code-inner js-file-line">      bsl_zro[bsl_idx]=bsl_zro[bsl_idx-<span class="pl-c1">1</span>]+pi;</td>
      </tr>
      <tr>
        <td id="L2841" class="blob-num js-line-number" data-line-number="2841"></td>
        <td id="LC2841" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2842" class="blob-num js-line-number" data-line-number="2842"></td>
        <td id="LC2842" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() == nco_dbg_old){</td>
      </tr>
      <tr>
        <td id="L2843" class="blob-num js-line-number" data-line-number="2843"></td>
        <td id="LC2843" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: DEBUG <span class="pl-c1">%s</span> reports bsl_zro_nbr = <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,bsl_zro_nbr);</td>
      </tr>
      <tr>
        <td id="L2844" class="blob-num js-line-number" data-line-number="2844"></td>
        <td id="LC2844" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>idx<span class="pl-cce">\t</span>bsl_zro<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2845" class="blob-num js-line-number" data-line-number="2845"></td>
        <td id="LC2845" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(bsl_idx=<span class="pl-c1">1</span>;bsl_idx&lt;=bsl_zro_nbr;bsl_idx++)</td>
      </tr>
      <tr>
        <td id="L2846" class="blob-num js-line-number" data-line-number="2846"></td>
        <td id="LC2846" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\t</span><span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,bsl_idx,bsl_zro[bsl_idx]);</td>
      </tr>
      <tr>
        <td id="L2847" class="blob-num js-line-number" data-line-number="2847"></td>
        <td id="LC2847" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L2848" class="blob-num js-line-number" data-line-number="2848"></td>
        <td id="LC2848" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2849" class="blob-num js-line-number" data-line-number="2849"></td>
        <td id="LC2849" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span>;</td>
      </tr>
      <tr>
        <td id="L2850" class="blob-num js-line-number" data-line-number="2850"></td>
        <td id="LC2850" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_bsl_zro() */</span></td>
      </tr>
      <tr>
        <td id="L2851" class="blob-num js-line-number" data-line-number="2851"></td>
        <td id="LC2851" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2852" class="blob-num js-line-number" data-line-number="2852"></td>
        <td id="LC2852" class="blob-code blob-code-inner js-file-line"><span class="pl-k">void</span></td>
      </tr>
      <tr>
        <td id="L2853" class="blob-num js-line-number" data-line-number="2853"></td>
        <td id="LC2853" class="blob-code blob-code-inner js-file-line">nco_lat_wgt_gss <span class="pl-c">/* [fnc] Compute and return sine of Gaussian latitudes and their weights */</span></td>
      </tr>
      <tr>
        <td id="L2854" class="blob-num js-line-number" data-line-number="2854"></td>
        <td id="LC2854" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> <span class="pl-k">int</span> lat_nbr, <span class="pl-c">/* I [nbr] Latitude number */</span></td>
      </tr>
      <tr>
        <td id="L2855" class="blob-num js-line-number" data-line-number="2855"></td>
        <td id="LC2855" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">double</span> * <span class="pl-k">const</span> lat_sin, <span class="pl-c">/* O [frc] Sine of latitudes */</span></td>
      </tr>
      <tr>
        <td id="L2856" class="blob-num js-line-number" data-line-number="2856"></td>
        <td id="LC2856" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">double</span> * <span class="pl-k">const</span> wgt_Gss) <span class="pl-c">/* O [frc] Gaussian weights */</span></td>
      </tr>
      <tr>
        <td id="L2857" class="blob-num js-line-number" data-line-number="2857"></td>
        <td id="LC2857" class="blob-code blob-code-inner js-file-line">{  </td>
      </tr>
      <tr>
        <td id="L2858" class="blob-num js-line-number" data-line-number="2858"></td>
        <td id="LC2858" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Compute and return sine of Gaussian latitudes and their weights</span></td>
      </tr>
      <tr>
        <td id="L2859" class="blob-num js-line-number" data-line-number="2859"></td>
        <td id="LC2859" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Source: CCM /fs/cgd/csm/models/atm/ccm3.5.8/src/ccmlsm_share/gauaw.F</span></td>
      </tr>
      <tr>
        <td id="L2860" class="blob-num js-line-number" data-line-number="2860"></td>
        <td id="LC2860" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Calculate sine of latitudes lat_sin(lat_nbr) and weights wgt_Gss(lat_nbr) for Gaussian quadrature</span></td>
      </tr>
      <tr>
        <td id="L2861" class="blob-num js-line-number" data-line-number="2861"></td>
        <td id="LC2861" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Algorithm described in Davis and Rabinowitz, Journal of Research of the NBS, V 56, Jan 1956</span></td>
      </tr>
      <tr>
        <td id="L2862" class="blob-num js-line-number" data-line-number="2862"></td>
        <td id="LC2862" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Zeros of Bessel function j0, obtained from nco_bsl_zro(), are first guess for abscissae</span></td>
      </tr>
      <tr>
        <td id="L2863" class="blob-num js-line-number" data-line-number="2863"></td>
        <td id="LC2863" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Original version: CCM1</span></td>
      </tr>
      <tr>
        <td id="L2864" class="blob-num js-line-number" data-line-number="2864"></td>
        <td id="LC2864" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Standardized: L. Bath, Jun 1992</span></td>
      </tr>
      <tr>
        <td id="L2865" class="blob-num js-line-number" data-line-number="2865"></td>
        <td id="LC2865" class="blob-code blob-code-inner js-file-line"><span class="pl-c">                   L. Buja, Feb 1996</span></td>
      </tr>
      <tr>
        <td id="L2866" class="blob-num js-line-number" data-line-number="2866"></td>
        <td id="LC2866" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Reviewed:     D. Williamson, J. Hack, Aug 1992</span></td>
      </tr>
      <tr>
        <td id="L2867" class="blob-num js-line-number" data-line-number="2867"></td>
        <td id="LC2867" class="blob-code blob-code-inner js-file-line"><span class="pl-c">                   D. Williamson, J. Hack, Feb 1996</span></td>
      </tr>
      <tr>
        <td id="L2868" class="blob-num js-line-number" data-line-number="2868"></td>
        <td id="LC2868" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     19970123 Modified by Jim Rosinski to use real*16 arithmetic in order to </span></td>
      </tr>
      <tr>
        <td id="L2869" class="blob-num js-line-number" data-line-number="2869"></td>
        <td id="LC2869" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     achieve (nearly) identical weights and latitudes on all machines.</span></td>
      </tr>
      <tr>
        <td id="L2870" class="blob-num js-line-number" data-line-number="2870"></td>
        <td id="LC2870" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ~2000: Converted to Fortran9X by C. Zender, changed all real*16 statements to double precision (real*8)</span></td>
      </tr>
      <tr>
        <td id="L2871" class="blob-num js-line-number" data-line-number="2871"></td>
        <td id="LC2871" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150530: Converted to C99 by C. Zender</span></td>
      </tr>
      <tr>
        <td id="L2872" class="blob-num js-line-number" data-line-number="2872"></td>
        <td id="LC2872" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     20150725: Verified against tabulation at http://pomax.github.io/bezierinfo/legendre-gauss.html#n64 */</span></td>
      </tr>
      <tr>
        <td id="L2873" class="blob-num js-line-number" data-line-number="2873"></td>
        <td id="LC2873" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2874" class="blob-num js-line-number" data-line-number="2874"></td>
        <td id="LC2874" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_lat_wgt_gss()<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Function name */</span></td>
      </tr>
      <tr>
        <td id="L2875" class="blob-num js-line-number" data-line-number="2875"></td>
        <td id="LC2875" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt=<span class="pl-c1">1.0e-16</span>; <span class="pl-c">// Convergence criterion (NB: Threshold was 1.0d-27 in real*16, 1.0e-15 fine for real*8, 1.0e-16 pushes double precision to the brink)</span></td>
      </tr>
      <tr>
        <td id="L2876" class="blob-num js-line-number" data-line-number="2876"></td>
        <td id="LC2876" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> pi=M_PI; <span class="pl-c">// [frc] 3</span></td>
      </tr>
      <tr>
        <td id="L2877" class="blob-num js-line-number" data-line-number="2877"></td>
        <td id="LC2877" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> itr_nbr_max=<span class="pl-c1">20</span>; <span class="pl-c">// [nbr] Maximum number of iterations</span></td>
      </tr>
      <tr>
        <td id="L2878" class="blob-num js-line-number" data-line-number="2878"></td>
        <td id="LC2878" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> c_cff; <span class="pl-c">// Constant combination coefficient</span></td>
      </tr>
      <tr>
        <td id="L2879" class="blob-num js-line-number" data-line-number="2879"></td>
        <td id="LC2879" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_idx_dbl; <span class="pl-c">// Latitude index, double precision</span></td>
      </tr>
      <tr>
        <td id="L2880" class="blob-num js-line-number" data-line-number="2880"></td>
        <td id="LC2880" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_nnr_idx_dbl; <span class="pl-c">// Inner latitude index, double precision</span></td>
      </tr>
      <tr>
        <td id="L2881" class="blob-num js-line-number" data-line-number="2881"></td>
        <td id="LC2881" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_nbr_dbl; <span class="pl-c">// [nbr] Number of latitudes, double precision</span></td>
      </tr>
      <tr>
        <td id="L2882" class="blob-num js-line-number" data-line-number="2882"></td>
        <td id="LC2882" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> pk=double_CEWI; <span class="pl-c">// Polynomial</span></td>
      </tr>
      <tr>
        <td id="L2883" class="blob-num js-line-number" data-line-number="2883"></td>
        <td id="LC2883" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> pkm1; <span class="pl-c">// Polynomial</span></td>
      </tr>
      <tr>
        <td id="L2884" class="blob-num js-line-number" data-line-number="2884"></td>
        <td id="LC2884" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> pkm2; <span class="pl-c">// Polynomial</span></td>
      </tr>
      <tr>
        <td id="L2885" class="blob-num js-line-number" data-line-number="2885"></td>
        <td id="LC2885" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> pkmrk; <span class="pl-c">// Polynomial</span></td>
      </tr>
      <tr>
        <td id="L2886" class="blob-num js-line-number" data-line-number="2886"></td>
        <td id="LC2886" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> sp; <span class="pl-c">// Current iteration latitude increment</span></td>
      </tr>
      <tr>
        <td id="L2887" class="blob-num js-line-number" data-line-number="2887"></td>
        <td id="LC2887" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> xz; <span class="pl-c">// Abscissa estimate</span></td>
      </tr>
      <tr>
        <td id="L2888" class="blob-num js-line-number" data-line-number="2888"></td>
        <td id="LC2888" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> cos_arg; <span class="pl-c">// Intermediate parameter introduced while attempting to eliminate valgrind &quot;uninitialised value&quot; warnings</span></td>
      </tr>
      <tr>
        <td id="L2889" class="blob-num js-line-number" data-line-number="2889"></td>
        <td id="LC2889" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> itr_cnt; <span class="pl-c">// Iteration counter</span></td>
      </tr>
      <tr>
        <td id="L2890" class="blob-num js-line-number" data-line-number="2890"></td>
        <td id="LC2890" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_idx; <span class="pl-c">// [idx] Counting index (latitude)</span></td>
      </tr>
      <tr>
        <td id="L2891" class="blob-num js-line-number" data-line-number="2891"></td>
        <td id="LC2891" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_sym_idx; <span class="pl-c">// [idx] Counting index (symmetric latitude)</span></td>
      </tr>
      <tr>
        <td id="L2892" class="blob-num js-line-number" data-line-number="2892"></td>
        <td id="LC2892" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_nnr_idx; <span class="pl-c">// [idx] Counting index (inner latitude loop)</span></td>
      </tr>
      <tr>
        <td id="L2893" class="blob-num js-line-number" data-line-number="2893"></td>
        <td id="LC2893" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_nbr_rcp2; <span class="pl-c">// lat_nbr/2 (number of latitudes in hemisphere)</span></td>
      </tr>
      <tr>
        <td id="L2894" class="blob-num js-line-number" data-line-number="2894"></td>
        <td id="LC2894" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_sin_p1; <span class="pl-c">// Sine of Gaussian latitudes double precision</span></td>
      </tr>
      <tr>
        <td id="L2895" class="blob-num js-line-number" data-line-number="2895"></td>
        <td id="LC2895" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *wgt_Gss_p1; <span class="pl-c">// Gaussian weights double precision</span></td>
      </tr>
      <tr>
        <td id="L2896" class="blob-num js-line-number" data-line-number="2896"></td>
        <td id="LC2896" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2897" class="blob-num js-line-number" data-line-number="2897"></td>
        <td id="LC2897" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Main Code */</span></td>
      </tr>
      <tr>
        <td id="L2898" class="blob-num js-line-number" data-line-number="2898"></td>
        <td id="LC2898" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: DEBUG Entering <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L2899" class="blob-num js-line-number" data-line-number="2899"></td>
        <td id="LC2899" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2900" class="blob-num js-line-number" data-line-number="2900"></td>
        <td id="LC2900" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Arrays with Fortran indexing (indicated by &quot;plus one&quot; = &quot;_p1&quot;) keep numerical algorithm in C identical to Fortran */</span></td>
      </tr>
      <tr>
        <td id="L2901" class="blob-num js-line-number" data-line-number="2901"></td>
        <td id="LC2901" class="blob-code blob-code-inner js-file-line">  lat_sin_p1=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">1</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>)); <span class="pl-c">// Sine of Gaussian latitudes double precision</span></td>
      </tr>
      <tr>
        <td id="L2902" class="blob-num js-line-number" data-line-number="2902"></td>
        <td id="LC2902" class="blob-code blob-code-inner js-file-line">  wgt_Gss_p1=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">1</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>)); <span class="pl-c">// Gaussian weights double precision</span></td>
      </tr>
      <tr>
        <td id="L2903" class="blob-num js-line-number" data-line-number="2903"></td>
        <td id="LC2903" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2904" class="blob-num js-line-number" data-line-number="2904"></td>
        <td id="LC2904" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use Newton iteration to find abscissas */</span></td>
      </tr>
      <tr>
        <td id="L2905" class="blob-num js-line-number" data-line-number="2905"></td>
        <td id="LC2905" class="blob-code blob-code-inner js-file-line">  c_cff=<span class="pl-c1">0.25</span>*(<span class="pl-c1">1.0</span>-<span class="pl-c1">4.0</span>/(pi*pi));</td>
      </tr>
      <tr>
        <td id="L2906" class="blob-num js-line-number" data-line-number="2906"></td>
        <td id="LC2906" class="blob-code blob-code-inner js-file-line">  lat_nbr_dbl=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L2907" class="blob-num js-line-number" data-line-number="2907"></td>
        <td id="LC2907" class="blob-code blob-code-inner js-file-line">  lat_nbr_rcp2=lat_nbr/<span class="pl-c1">2</span>; <span class="pl-c">// NB: Integer arithmetic</span></td>
      </tr>
      <tr>
        <td id="L2908" class="blob-num js-line-number" data-line-number="2908"></td>
        <td id="LC2908" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_bsl_zro</span>(lat_nbr_rcp2,lat_sin_p1);</td>
      </tr>
      <tr>
        <td id="L2909" class="blob-num js-line-number" data-line-number="2909"></td>
        <td id="LC2909" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;=lat_nbr_rcp2;lat_idx++){ <span class="pl-c">// NB: Loop starts at 1</span></td>
      </tr>
      <tr>
        <td id="L2910" class="blob-num js-line-number" data-line-number="2910"></td>
        <td id="LC2910" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">// 20150713: Introduce intermediate parameter cos_arg in attempt to eliminate valgrind &quot;uninitialised value&quot; warnings emitted by cos() (actually __cos_sse())</span></td>
      </tr>
      <tr>
        <td id="L2911" class="blob-num js-line-number" data-line-number="2911"></td>
        <td id="LC2911" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">// Warnings occur with gcc-compiled code, not with clang-compiled code</span></td>
      </tr>
      <tr>
        <td id="L2912" class="blob-num js-line-number" data-line-number="2912"></td>
        <td id="LC2912" class="blob-code blob-code-inner js-file-line">    cos_arg=lat_sin_p1[lat_idx]/<span class="pl-c1">sqrt</span>((lat_nbr_dbl+<span class="pl-c1">0.5</span>)*(lat_nbr_dbl+<span class="pl-c1">0.5</span>)+c_cff);</td>
      </tr>
      <tr>
        <td id="L2913" class="blob-num js-line-number" data-line-number="2913"></td>
        <td id="LC2913" class="blob-code blob-code-inner js-file-line">    xz=<span class="pl-c1">cos</span>(cos_arg);</td>
      </tr>
      <tr>
        <td id="L2914" class="blob-num js-line-number" data-line-number="2914"></td>
        <td id="LC2914" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* First approximation to xz */</span></td>
      </tr>
      <tr>
        <td id="L2915" class="blob-num js-line-number" data-line-number="2915"></td>
        <td id="LC2915" class="blob-code blob-code-inner js-file-line">    itr_cnt=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L2916" class="blob-num js-line-number" data-line-number="2916"></td>
        <td id="LC2916" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* goto label_73 */</span></td>
      </tr>
      <tr>
        <td id="L2917" class="blob-num js-line-number" data-line-number="2917"></td>
        <td id="LC2917" class="blob-code blob-code-inner js-file-line">  label_73:</td>
      </tr>
      <tr>
        <td id="L2918" class="blob-num js-line-number" data-line-number="2918"></td>
        <td id="LC2918" class="blob-code blob-code-inner js-file-line">    pkm2=<span class="pl-c1">1.0</span>;</td>
      </tr>
      <tr>
        <td id="L2919" class="blob-num js-line-number" data-line-number="2919"></td>
        <td id="LC2919" class="blob-code blob-code-inner js-file-line">    pkm1=xz;</td>
      </tr>
      <tr>
        <td id="L2920" class="blob-num js-line-number" data-line-number="2920"></td>
        <td id="LC2920" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(++itr_cnt &gt; itr_nbr_max){</td>
      </tr>
      <tr>
        <td id="L2921" class="blob-num js-line-number" data-line-number="2921"></td>
        <td id="LC2921" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports no convergence in <span class="pl-c1">%d</span> iterations for lat_idx = <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,itr_nbr_max,lat_idx);</td>
      </tr>
      <tr>
        <td id="L2922" class="blob-num js-line-number" data-line-number="2922"></td>
        <td id="LC2922" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L2923" class="blob-num js-line-number" data-line-number="2923"></td>
        <td id="LC2923" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L2924" class="blob-num js-line-number" data-line-number="2924"></td>
        <td id="LC2924" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Compute Legendre polynomial */</span></td>
      </tr>
      <tr>
        <td id="L2925" class="blob-num js-line-number" data-line-number="2925"></td>
        <td id="LC2925" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_nnr_idx=<span class="pl-c1">2</span>;lat_nnr_idx&lt;=lat_nbr;lat_nnr_idx++){</td>
      </tr>
      <tr>
        <td id="L2926" class="blob-num js-line-number" data-line-number="2926"></td>
        <td id="LC2926" class="blob-code blob-code-inner js-file-line">      lat_nnr_idx_dbl=lat_nnr_idx;</td>
      </tr>
      <tr>
        <td id="L2927" class="blob-num js-line-number" data-line-number="2927"></td>
        <td id="LC2927" class="blob-code blob-code-inner js-file-line">      pk=((<span class="pl-c1">2.0</span>*lat_nnr_idx_dbl-<span class="pl-c1">1.0</span>)*xz*pkm1-(lat_nnr_idx_dbl-<span class="pl-c1">1.0</span>)*pkm2)/lat_nnr_idx_dbl;</td>
      </tr>
      <tr>
        <td id="L2928" class="blob-num js-line-number" data-line-number="2928"></td>
        <td id="LC2928" class="blob-code blob-code-inner js-file-line">      pkm2=pkm1;</td>
      </tr>
      <tr>
        <td id="L2929" class="blob-num js-line-number" data-line-number="2929"></td>
        <td id="LC2929" class="blob-code blob-code-inner js-file-line">      pkm1=pk;</td>
      </tr>
      <tr>
        <td id="L2930" class="blob-num js-line-number" data-line-number="2930"></td>
        <td id="LC2930" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end inner loop over lat_nnr */</span></td>
      </tr>
      <tr>
        <td id="L2931" class="blob-num js-line-number" data-line-number="2931"></td>
        <td id="LC2931" class="blob-code blob-code-inner js-file-line">    pkm1=pkm2;</td>
      </tr>
      <tr>
        <td id="L2932" class="blob-num js-line-number" data-line-number="2932"></td>
        <td id="LC2932" class="blob-code blob-code-inner js-file-line">    pkmrk=(lat_nbr_dbl*(pkm1-xz*pk))/(<span class="pl-c1">1.0</span>-xz*xz);</td>
      </tr>
      <tr>
        <td id="L2933" class="blob-num js-line-number" data-line-number="2933"></td>
        <td id="LC2933" class="blob-code blob-code-inner js-file-line">    sp=pk/pkmrk;</td>
      </tr>
      <tr>
        <td id="L2934" class="blob-num js-line-number" data-line-number="2934"></td>
        <td id="LC2934" class="blob-code blob-code-inner js-file-line">    xz=xz-sp;</td>
      </tr>
      <tr>
        <td id="L2935" class="blob-num js-line-number" data-line-number="2935"></td>
        <td id="LC2935" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* NB: Easy to introduce bug here by not replacing Fortran abs() with C fabs() */</span></td>
      </tr>
      <tr>
        <td id="L2936" class="blob-num js-line-number" data-line-number="2936"></td>
        <td id="LC2936" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">fabs</span>(sp) &gt; eps_rlt) <span class="pl-k">goto</span> label_73;</td>
      </tr>
      <tr>
        <td id="L2937" class="blob-num js-line-number" data-line-number="2937"></td>
        <td id="LC2937" class="blob-code blob-code-inner js-file-line">    lat_sin_p1[lat_idx]=xz;</td>
      </tr>
      <tr>
        <td id="L2938" class="blob-num js-line-number" data-line-number="2938"></td>
        <td id="LC2938" class="blob-code blob-code-inner js-file-line">    wgt_Gss_p1[lat_idx]=(<span class="pl-c1">2.0</span>*(<span class="pl-c1">1.0</span>-xz*xz))/((lat_nbr_dbl*pkm1)*(lat_nbr_dbl*pkm1));</td>
      </tr>
      <tr>
        <td id="L2939" class="blob-num js-line-number" data-line-number="2939"></td>
        <td id="LC2939" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end outer loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L2940" class="blob-num js-line-number" data-line-number="2940"></td>
        <td id="LC2940" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_nbr != lat_nbr_rcp2*<span class="pl-c1">2</span>){</td>
      </tr>
      <tr>
        <td id="L2941" class="blob-num js-line-number" data-line-number="2941"></td>
        <td id="LC2941" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* When lat_nbr is odd, compute weight at Equator */</span></td>
      </tr>
      <tr>
        <td id="L2942" class="blob-num js-line-number" data-line-number="2942"></td>
        <td id="LC2942" class="blob-code blob-code-inner js-file-line">    lat_sin_p1[lat_nbr_rcp2+<span class="pl-c1">1</span>]=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L2943" class="blob-num js-line-number" data-line-number="2943"></td>
        <td id="LC2943" class="blob-code blob-code-inner js-file-line">    pk=<span class="pl-c1">2.0</span>/(lat_nbr_dbl*lat_nbr_dbl);</td>
      </tr>
      <tr>
        <td id="L2944" class="blob-num js-line-number" data-line-number="2944"></td>
        <td id="LC2944" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">2</span>;lat_idx&lt;=lat_nbr;lat_idx+=<span class="pl-c1">2</span>){</td>
      </tr>
      <tr>
        <td id="L2945" class="blob-num js-line-number" data-line-number="2945"></td>
        <td id="LC2945" class="blob-code blob-code-inner js-file-line">      lat_idx_dbl=lat_idx;</td>
      </tr>
      <tr>
        <td id="L2946" class="blob-num js-line-number" data-line-number="2946"></td>
        <td id="LC2946" class="blob-code blob-code-inner js-file-line">      pk=pk*lat_idx_dbl*lat_idx_dbl/((lat_idx_dbl-<span class="pl-c1">1.0</span>)*(lat_idx_dbl-<span class="pl-c1">1.0</span>));</td>
      </tr>
      <tr>
        <td id="L2947" class="blob-num js-line-number" data-line-number="2947"></td>
        <td id="LC2947" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L2948" class="blob-num js-line-number" data-line-number="2948"></td>
        <td id="LC2948" class="blob-code blob-code-inner js-file-line">    wgt_Gss_p1[lat_nbr_rcp2+<span class="pl-c1">1</span>]=pk;</td>
      </tr>
      <tr>
        <td id="L2949" class="blob-num js-line-number" data-line-number="2949"></td>
        <td id="LC2949" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif lat_nbr is odd */</span></td>
      </tr>
      <tr>
        <td id="L2950" class="blob-num js-line-number" data-line-number="2950"></td>
        <td id="LC2950" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2951" class="blob-num js-line-number" data-line-number="2951"></td>
        <td id="LC2951" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Complete sets of abscissas and weights, using symmetry properties */</span></td>
      </tr>
      <tr>
        <td id="L2952" class="blob-num js-line-number" data-line-number="2952"></td>
        <td id="LC2952" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;=lat_nbr_rcp2;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L2953" class="blob-num js-line-number" data-line-number="2953"></td>
        <td id="LC2953" class="blob-code blob-code-inner js-file-line">    lat_sym_idx=lat_nbr-lat_idx+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L2954" class="blob-num js-line-number" data-line-number="2954"></td>
        <td id="LC2954" class="blob-code blob-code-inner js-file-line">    lat_sin_p1[lat_sym_idx]=-lat_sin_p1[lat_idx];</td>
      </tr>
      <tr>
        <td id="L2955" class="blob-num js-line-number" data-line-number="2955"></td>
        <td id="LC2955" class="blob-code blob-code-inner js-file-line">    wgt_Gss_p1[lat_sym_idx]=wgt_Gss_p1[lat_idx];</td>
      </tr>
      <tr>
        <td id="L2956" class="blob-num js-line-number" data-line-number="2956"></td>
        <td id="LC2956" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L2957" class="blob-num js-line-number" data-line-number="2957"></td>
        <td id="LC2957" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L2958" class="blob-num js-line-number" data-line-number="2958"></td>
        <td id="LC2958" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Shift by one to remove Fortran offset in p1 arrays */</span></td>
      </tr>
      <tr>
        <td id="L2959" class="blob-num js-line-number" data-line-number="2959"></td>
        <td id="LC2959" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//memcpy(lat_sin,lat_sin_p1,lat_nbr*sizeof(double));</span></td>
      </tr>
      <tr>
        <td id="L2960" class="blob-num js-line-number" data-line-number="2960"></td>
        <td id="LC2960" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//memcpy(wgt_Gss,wgt_Gss_p1,lat_nbr*sizeof(double));</span></td>
      </tr>
      <tr>
        <td id="L2961" class="blob-num js-line-number" data-line-number="2961"></td>
        <td id="LC2961" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2962" class="blob-num js-line-number" data-line-number="2962"></td>
        <td id="LC2962" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Reverse and shift arrays because original CCM code algorithm computed latitudes from north-to-south</span></td>
      </tr>
      <tr>
        <td id="L2963" class="blob-num js-line-number" data-line-number="2963"></td>
        <td id="LC2963" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Shift by one to remove Fortran offset in p1 arrays */</span></td>
      </tr>
      <tr>
        <td id="L2964" class="blob-num js-line-number" data-line-number="2964"></td>
        <td id="LC2964" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L2965" class="blob-num js-line-number" data-line-number="2965"></td>
        <td id="LC2965" class="blob-code blob-code-inner js-file-line">    lat_sin[lat_idx]=lat_sin_p1[lat_nbr-lat_idx];</td>
      </tr>
      <tr>
        <td id="L2966" class="blob-num js-line-number" data-line-number="2966"></td>
        <td id="LC2966" class="blob-code blob-code-inner js-file-line">    wgt_Gss[lat_idx]=wgt_Gss_p1[lat_nbr-lat_idx];</td>
      </tr>
      <tr>
        <td id="L2967" class="blob-num js-line-number" data-line-number="2967"></td>
        <td id="LC2967" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L2968" class="blob-num js-line-number" data-line-number="2968"></td>
        <td id="LC2968" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L2969" class="blob-num js-line-number" data-line-number="2969"></td>
        <td id="LC2969" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() == nco_dbg_old){</td>
      </tr>
      <tr>
        <td id="L2970" class="blob-num js-line-number" data-line-number="2970"></td>
        <td id="LC2970" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: DEBUG <span class="pl-c1">%s</span> reports lat_nbr = <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_nbr);</td>
      </tr>
      <tr>
        <td id="L2971" class="blob-num js-line-number" data-line-number="2971"></td>
        <td id="LC2971" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>idx<span class="pl-cce">\t</span>asin<span class="pl-cce">\t</span>ngl_rad<span class="pl-cce">\t</span>ngl_dgr<span class="pl-cce">\t</span>gw<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L2972" class="blob-num js-line-number" data-line-number="2972"></td>
        <td id="LC2972" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L2973" class="blob-num js-line-number" data-line-number="2973"></td>
        <td id="LC2973" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\t</span><span class="pl-c1">%g</span><span class="pl-cce">\t</span><span class="pl-c1">%g</span><span class="pl-cce">\t</span><span class="pl-c1">%g%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_idx,lat_sin[lat_idx],<span class="pl-c1">asin</span>(lat_sin[lat_idx]),<span class="pl-c1">180.0</span>*<span class="pl-c1">asin</span>(lat_sin[lat_idx])/pi,wgt_Gss[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L2974" class="blob-num js-line-number" data-line-number="2974"></td>
        <td id="LC2974" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L2975" class="blob-num js-line-number" data-line-number="2975"></td>
        <td id="LC2975" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2976" class="blob-num js-line-number" data-line-number="2976"></td>
        <td id="LC2976" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(wgt_Gss_p1) wgt_Gss_p1=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(wgt_Gss_p1);</td>
      </tr>
      <tr>
        <td id="L2977" class="blob-num js-line-number" data-line-number="2977"></td>
        <td id="LC2977" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_sin_p1) lat_sin_p1=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_sin_p1);</td>
      </tr>
      <tr>
        <td id="L2978" class="blob-num js-line-number" data-line-number="2978"></td>
        <td id="LC2978" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span>;</td>
      </tr>
      <tr>
        <td id="L2979" class="blob-num js-line-number" data-line-number="2979"></td>
        <td id="LC2979" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_lat_wgt_gss() */</span></td>
      </tr>
      <tr>
        <td id="L2980" class="blob-num js-line-number" data-line-number="2980"></td>
        <td id="LC2980" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L2981" class="blob-num js-line-number" data-line-number="2981"></td>
        <td id="LC2981" class="blob-code blob-code-inner js-file-line"><span class="pl-k">void</span></td>
      </tr>
      <tr>
        <td id="L2982" class="blob-num js-line-number" data-line-number="2982"></td>
        <td id="LC2982" class="blob-code blob-code-inner js-file-line">nco_sph_plg_area <span class="pl-c">/* [fnc] Compute area of spherical polygon */</span></td>
      </tr>
      <tr>
        <td id="L2983" class="blob-num js-line-number" data-line-number="2983"></td>
        <td id="LC2983" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> <span class="pl-k">double</span> * <span class="pl-k">const</span> lat_bnd, <span class="pl-c">/* [dgr] Latitude  boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L2984" class="blob-num js-line-number" data-line-number="2984"></td>
        <td id="LC2984" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">double</span> * <span class="pl-k">const</span> lon_bnd, <span class="pl-c">/* [dgr] Longitude boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L2985" class="blob-num js-line-number" data-line-number="2985"></td>
        <td id="LC2985" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">long</span> col_nbr, <span class="pl-c">/* [nbr] Number of columns in grid */</span></td>
      </tr>
      <tr>
        <td id="L2986" class="blob-num js-line-number" data-line-number="2986"></td>
        <td id="LC2986" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">const</span> <span class="pl-k">int</span> bnd_nbr, <span class="pl-c">/* [nbr] Number of bounds in gridcell */</span></td>
      </tr>
      <tr>
        <td id="L2987" class="blob-num js-line-number" data-line-number="2987"></td>
        <td id="LC2987" class="blob-code blob-code-inner js-file-line"> <span class="pl-k">double</span> * <span class="pl-k">const</span> area) <span class="pl-c">/* [sr] Gridcell area */</span></td>
      </tr>
      <tr>
        <td id="L2988" class="blob-num js-line-number" data-line-number="2988"></td>
        <td id="LC2988" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L2989" class="blob-num js-line-number" data-line-number="2989"></td>
        <td id="LC2989" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Compute area of spherical polygon */</span></td>
      </tr>
      <tr>
        <td id="L2990" class="blob-num js-line-number" data-line-number="2990"></td>
        <td id="LC2990" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use L&#39;Huilier&#39;s Theorem not Girard&#39;s Formula</span></td>
      </tr>
      <tr>
        <td id="L2991" class="blob-num js-line-number" data-line-number="2991"></td>
        <td id="LC2991" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     http://mathworld.wolfram.com/LHuiliersTheorem.html</span></td>
      </tr>
      <tr>
        <td id="L2992" class="blob-num js-line-number" data-line-number="2992"></td>
        <td id="LC2992" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Girard&#39;s formula depends on pi-minus-angle and angle is usually quite small in our applications so precision would be lost</span></td>
      </tr>
      <tr>
        <td id="L2993" class="blob-num js-line-number" data-line-number="2993"></td>
        <td id="LC2993" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     L&#39;Huilier&#39;s theorem depends only on angles (a,b,c) and semi-perimeter (s) and is well-conditioned for small angles</span></td>
      </tr>
      <tr>
        <td id="L2994" class="blob-num js-line-number" data-line-number="2994"></td>
        <td id="LC2994" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     semi-perimeter = half-perimeter of triangle = 0.5*(a+b+c)</span></td>
      </tr>
      <tr>
        <td id="L2995" class="blob-num js-line-number" data-line-number="2995"></td>
        <td id="LC2995" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Spherical Excess (SE) difference between the sum of the angles of a spherical triangle area and a planar triangle area with same interior angles (which has sum equal to pi)</span></td>
      </tr>
      <tr>
        <td id="L2996" class="blob-num js-line-number" data-line-number="2996"></td>
        <td id="LC2996" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     SE is also the solid angle subtended by the spherical triangle and that&#39;s, well, astonishing and pretty cool</span></td>
      </tr>
      <tr>
        <td id="L2997" class="blob-num js-line-number" data-line-number="2997"></td>
        <td id="LC2997" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Wikipedia shows a better SE formula for triangles which are ill-conditioned for L&#39;Huillier&#39;s formula because a = b ~ 0.5c</span></td>
      </tr>
      <tr>
        <td id="L2998" class="blob-num js-line-number" data-line-number="2998"></td>
        <td id="LC2998" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://en.wikipedia.org/wiki/Spherical_trigonometry#Area_and_spherical_excess </span></td>
      </tr>
      <tr>
        <td id="L2999" class="blob-num js-line-number" data-line-number="2999"></td>
        <td id="LC2999" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     So-called &quot;proper&quot; spherical triangle are those for which all angles are less than pi, so a+b+c&lt;3*pi</span></td>
      </tr>
      <tr>
        <td id="L3000" class="blob-num js-line-number" data-line-number="3000"></td>
        <td id="LC3000" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Cartesian coordinates of (lat,lon)=(theta,phi) are (x,y,z)=(cos(theta)*cos(phi),cos(theta)*sin(phi),sin(theta)) </span></td>
      </tr>
      <tr>
        <td id="L3001" class="blob-num js-line-number" data-line-number="3001"></td>
        <td id="LC3001" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Dot-product rule for vectors gives interior angle/arc length between two points:</span></td>
      </tr>
      <tr>
        <td id="L3002" class="blob-num js-line-number" data-line-number="3002"></td>
        <td id="LC3002" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(a)=u dot v=cos(theta1)*cos(phi1)*cos(theta2)*cos(phi2)+cos(theta1)*sin(phi1)*cos(theta2)*sin(phi2)+sin(theta1)*sin(theta2)</span></td>
      </tr>
      <tr>
        <td id="L3003" class="blob-num js-line-number" data-line-number="3003"></td>
        <td id="LC3003" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Spherical law of cosines relates interior angles/arc-lengths (a,b,c) to surface angles (A,B,C) in spherical triangle:</span></td>
      </tr>
      <tr>
        <td id="L3004" class="blob-num js-line-number" data-line-number="3004"></td>
        <td id="LC3004" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://en.wikipedia.org/wiki/Spherical_law_of_cosines</span></td>
      </tr>
      <tr>
        <td id="L3005" class="blob-num js-line-number" data-line-number="3005"></td>
        <td id="LC3005" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(a)=cos(b)*cos(c)+sin(b)*sin(c)*cos(A)</span></td>
      </tr>
      <tr>
        <td id="L3006" class="blob-num js-line-number" data-line-number="3006"></td>
        <td id="LC3006" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(b)=cos(c)*cos(a)+sin(c)*sin(a)*cos(B)</span></td>
      </tr>
      <tr>
        <td id="L3007" class="blob-num js-line-number" data-line-number="3007"></td>
        <td id="LC3007" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(c)=cos(a)*cos(b)+sin(a)*sin(b)*cos(C)</span></td>
      </tr>
      <tr>
        <td id="L3008" class="blob-num js-line-number" data-line-number="3008"></td>
        <td id="LC3008" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(A)=[cos(a)-cos(b)*cos(c)]/[sin(b)*sin(c)]</span></td>
      </tr>
      <tr>
        <td id="L3009" class="blob-num js-line-number" data-line-number="3009"></td>
        <td id="LC3009" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(B)=[cos(b)-cos(c)*cos(a)]/[sin(c)*sin(a)]</span></td>
      </tr>
      <tr>
        <td id="L3010" class="blob-num js-line-number" data-line-number="3010"></td>
        <td id="LC3010" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     cos(C)=[cos(c)-cos(a)*cos(b)]/[sin(a)*sin(b)]</span></td>
      </tr>
      <tr>
        <td id="L3011" class="blob-num js-line-number" data-line-number="3011"></td>
        <td id="LC3011" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Bounds information on unstructured grids will use bounds_nbr=maximum(vertice_nbr)</span></td>
      </tr>
      <tr>
        <td id="L3012" class="blob-num js-line-number" data-line-number="3012"></td>
        <td id="LC3012" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Unused vertices are stored as either repeated points (ACME does this) or, conceiveably, as missing values</span></td>
      </tr>
      <tr>
        <td id="L3013" class="blob-num js-line-number" data-line-number="3013"></td>
        <td id="LC3013" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Given (lat,lon) for N-points algorithm to find area of spherical polygon is:</span></td>
      </tr>
      <tr>
        <td id="L3014" class="blob-num js-line-number" data-line-number="3014"></td>
        <td id="LC3014" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1. Girard method: Loses precision due to mismatch between pi and small spherical excesses</span></td>
      </tr>
      <tr>
        <td id="L3015" class="blob-num js-line-number" data-line-number="3015"></td>
        <td id="LC3015" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        A. Find interior angles/arc-lengths (a,b,c,d...) using spherical law of cosines along each edge</span></td>
      </tr>
      <tr>
        <td id="L3016" class="blob-num js-line-number" data-line-number="3016"></td>
        <td id="LC3016" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        B. Apply generalized Girard formula SE_n = Sum(A_n) - (N-2) - pi</span></td>
      </tr>
      <tr>
        <td id="L3017" class="blob-num js-line-number" data-line-number="3017"></td>
        <td id="LC3017" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     2. L&#39;Huillier method, N-2 triangle version by Zender: </span></td>
      </tr>
      <tr>
        <td id="L3018" class="blob-num js-line-number" data-line-number="3018"></td>
        <td id="LC3018" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        Convert polygon into triangles by cycling spoke through all sides from common apex</span></td>
      </tr>
      <tr>
        <td id="L3019" class="blob-num js-line-number" data-line-number="3019"></td>
        <td id="LC3019" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        This method requires computation of N-2 (not N) triangles, though fewer sides due to optimization</span></td>
      </tr>
      <tr>
        <td id="L3020" class="blob-num js-line-number" data-line-number="3020"></td>
        <td id="LC3020" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	It works on all convex polygons (interior angles less than 180) but not, in general, concave polygons</span></td>
      </tr>
      <tr>
        <td id="L3021" class="blob-num js-line-number" data-line-number="3021"></td>
        <td id="LC3021" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	Whether it works or not on concave polygons depends upon their exact shape and the choice of apex point</span></td>
      </tr>
      <tr>
        <td id="L3022" class="blob-num js-line-number" data-line-number="3022"></td>
        <td id="LC3022" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        A. First three non-identical points form first triangle with sides A,B,C (first+second point define A, etc.)</span></td>
      </tr>
      <tr>
        <td id="L3023" class="blob-num js-line-number" data-line-number="3023"></td>
        <td id="LC3023" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   i. First vertice anchors all triangles</span></td>
      </tr>
      <tr>
        <td id="L3024" class="blob-num js-line-number" data-line-number="3024"></td>
        <td id="LC3024" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ii. Third vertice of preceding triangle becomes second vertice of next triangle</span></td>
      </tr>
      <tr>
        <td id="L3025" class="blob-num js-line-number" data-line-number="3025"></td>
        <td id="LC3025" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   iii. Next non-identical point becomes last vertice of next triangle</span></td>
      </tr>
      <tr>
        <td id="L3026" class="blob-num js-line-number" data-line-number="3026"></td>
        <td id="LC3026" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   iv. Side C of previous triangle is side A of next triangle</span></td>
      </tr>
      <tr>
        <td id="L3027" class="blob-num js-line-number" data-line-number="3027"></td>
        <td id="LC3027" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	B. For each triangle, compute area with L&#39;Huillier formula unless A = B ~ 0.5*C</span></td>
      </tr>
      <tr>
        <td id="L3028" class="blob-num js-line-number" data-line-number="3028"></td>
        <td id="LC3028" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     3. L&#39;Huillier method, N triangle version by Taylor: </span></td>
      </tr>
      <tr>
        <td id="L3029" class="blob-num js-line-number" data-line-number="3029"></td>
        <td id="LC3029" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        Compute polygon centroid and treat this as hub from which spokes are drawn to all vertices</span></td>
      </tr>
      <tr>
        <td id="L3030" class="blob-num js-line-number" data-line-number="3030"></td>
        <td id="LC3030" class="blob-code blob-code-inner js-file-line"><span class="pl-c">        This method requires computation of N triangles, though fewer sides due to optimization</span></td>
      </tr>
      <tr>
        <td id="L3031" class="blob-num js-line-number" data-line-number="3031"></td>
        <td id="LC3031" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	Moreover, it works on all convex polygons and on slightly concave polygons</span></td>
      </tr>
      <tr>
        <td id="L3032" class="blob-num js-line-number" data-line-number="3032"></td>
        <td id="LC3032" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	The centroid/hub has a clear view of the interior of most simple concave polygons */</span></td>
      </tr>
      <tr>
        <td id="L3033" class="blob-num js-line-number" data-line-number="3033"></td>
        <td id="LC3033" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3034" class="blob-num js-line-number" data-line-number="3034"></td>
        <td id="LC3034" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_sph_plg_area()<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3035" class="blob-num js-line-number" data-line-number="3035"></td>
        <td id="LC3035" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> dgr2rdn=M_PI/<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L3036" class="blob-num js-line-number" data-line-number="3036"></td>
        <td id="LC3036" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">short</span> <span class="pl-k">int</span> bnd_idx;</td>
      </tr>
      <tr>
        <td id="L3037" class="blob-num js-line-number" data-line-number="3037"></td>
        <td id="LC3037" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L3038" class="blob-num js-line-number" data-line-number="3038"></td>
        <td id="LC3038" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3039" class="blob-num js-line-number" data-line-number="3039"></td>
        <td id="LC3039" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd_rdn=NULL_CEWI; <span class="pl-c">/* [rdn] Latitude  boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3040" class="blob-num js-line-number" data-line-number="3040"></td>
        <td id="LC3040" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd_rdn=NULL_CEWI; <span class="pl-c">/* [rdn] Longitude boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3041" class="blob-num js-line-number" data-line-number="3041"></td>
        <td id="LC3041" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd_sin=NULL_CEWI; <span class="pl-c">/* [frc] Sine of latitude  boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3042" class="blob-num js-line-number" data-line-number="3042"></td>
        <td id="LC3042" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd_sin=NULL_CEWI; <span class="pl-c">/* [frc] Sine of longitude boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3043" class="blob-num js-line-number" data-line-number="3043"></td>
        <td id="LC3043" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd_cos=NULL_CEWI; <span class="pl-c">/* [frc] Cosine of latitude  boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3044" class="blob-num js-line-number" data-line-number="3044"></td>
        <td id="LC3044" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd_cos=NULL_CEWI; <span class="pl-c">/* [frc] Cosine of longitude boundaries of rectangular destination grid */</span></td>
      </tr>
      <tr>
        <td id="L3045" class="blob-num js-line-number" data-line-number="3045"></td>
        <td id="LC3045" class="blob-code blob-code-inner js-file-line">  lon_bnd_rdn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3046" class="blob-num js-line-number" data-line-number="3046"></td>
        <td id="LC3046" class="blob-code blob-code-inner js-file-line">  lat_bnd_rdn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3047" class="blob-num js-line-number" data-line-number="3047"></td>
        <td id="LC3047" class="blob-code blob-code-inner js-file-line">  lon_bnd_cos=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3048" class="blob-num js-line-number" data-line-number="3048"></td>
        <td id="LC3048" class="blob-code blob-code-inner js-file-line">  lat_bnd_cos=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3049" class="blob-num js-line-number" data-line-number="3049"></td>
        <td id="LC3049" class="blob-code blob-code-inner js-file-line">  lon_bnd_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3050" class="blob-num js-line-number" data-line-number="3050"></td>
        <td id="LC3050" class="blob-code blob-code-inner js-file-line">  lat_bnd_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3051" class="blob-num js-line-number" data-line-number="3051"></td>
        <td id="LC3051" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">memcpy</span>(lat_bnd_rdn,lat_bnd,col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3052" class="blob-num js-line-number" data-line-number="3052"></td>
        <td id="LC3052" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">memcpy</span>(lon_bnd_rdn,lon_bnd,col_nbr*bnd_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3053" class="blob-num js-line-number" data-line-number="3053"></td>
        <td id="LC3053" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;col_nbr*bnd_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L3054" class="blob-num js-line-number" data-line-number="3054"></td>
        <td id="LC3054" class="blob-code blob-code-inner js-file-line">    lon_bnd_rdn[idx]*=dgr2rdn;</td>
      </tr>
      <tr>
        <td id="L3055" class="blob-num js-line-number" data-line-number="3055"></td>
        <td id="LC3055" class="blob-code blob-code-inner js-file-line">    lat_bnd_rdn[idx]*=dgr2rdn;</td>
      </tr>
      <tr>
        <td id="L3056" class="blob-num js-line-number" data-line-number="3056"></td>
        <td id="LC3056" class="blob-code blob-code-inner js-file-line">    lon_bnd_cos[idx]=<span class="pl-c1">cos</span>(lon_bnd_rdn[idx]);</td>
      </tr>
      <tr>
        <td id="L3057" class="blob-num js-line-number" data-line-number="3057"></td>
        <td id="LC3057" class="blob-code blob-code-inner js-file-line">    lat_bnd_cos[idx]=<span class="pl-c1">cos</span>(lat_bnd_rdn[idx]);</td>
      </tr>
      <tr>
        <td id="L3058" class="blob-num js-line-number" data-line-number="3058"></td>
        <td id="LC3058" class="blob-code blob-code-inner js-file-line">    lon_bnd_sin[idx]=<span class="pl-c1">sin</span>(lon_bnd_rdn[idx]);</td>
      </tr>
      <tr>
        <td id="L3059" class="blob-num js-line-number" data-line-number="3059"></td>
        <td id="LC3059" class="blob-code blob-code-inner js-file-line">    lat_bnd_sin[idx]=<span class="pl-c1">sin</span>(lat_bnd_rdn[idx]);</td>
      </tr>
      <tr>
        <td id="L3060" class="blob-num js-line-number" data-line-number="3060"></td>
        <td id="LC3060" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L3061" class="blob-num js-line-number" data-line-number="3061"></td>
        <td id="LC3061" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_dlt; <span class="pl-c">/* [rdn] Latitudinal difference */</span></td>
      </tr>
      <tr>
        <td id="L3062" class="blob-num js-line-number" data-line-number="3062"></td>
        <td id="LC3062" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_dlt; <span class="pl-c">/* [rdn] Longitudinal difference */</span></td>
      </tr>
      <tr>
        <td id="L3063" class="blob-num js-line-number" data-line-number="3063"></td>
        <td id="LC3063" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> ngl_a; <span class="pl-c">/* [rdn] Interior angle/great circle arc a */</span></td>
      </tr>
      <tr>
        <td id="L3064" class="blob-num js-line-number" data-line-number="3064"></td>
        <td id="LC3064" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> ngl_b; <span class="pl-c">/* [rdn] Interior angle/great circle arc b */</span></td>
      </tr>
      <tr>
        <td id="L3065" class="blob-num js-line-number" data-line-number="3065"></td>
        <td id="LC3065" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> ngl_c; <span class="pl-c">/* [rdn] Interior angle/great circle arc c */</span></td>
      </tr>
      <tr>
        <td id="L3066" class="blob-num js-line-number" data-line-number="3066"></td>
        <td id="LC3066" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> prm_smi; <span class="pl-c">/* [rdn] Semi-perimeter of triangle */</span></td>
      </tr>
      <tr>
        <td id="L3067" class="blob-num js-line-number" data-line-number="3067"></td>
        <td id="LC3067" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> sin_hlf_tht; <span class="pl-c">/* [frc] Sine of half angle/great circle arc theta connecting two points */</span></td>
      </tr>
      <tr>
        <td id="L3068" class="blob-num js-line-number" data-line-number="3068"></td>
        <td id="LC3068" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> xcs_sph; <span class="pl-c">/* [sr] Spherical excess */</span></td>
      </tr>
      <tr>
        <td id="L3069" class="blob-num js-line-number" data-line-number="3069"></td>
        <td id="LC3069" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> xcs_sph_qtr_tan; <span class="pl-c">/* [frc] Tangent of one-quarter the spherical excess */</span></td>
      </tr>
      <tr>
        <td id="L3070" class="blob-num js-line-number" data-line-number="3070"></td>
        <td id="LC3070" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> tri_nbr; <span class="pl-c">/* [nbr] Number of triangles in polygon */</span></td>
      </tr>
      <tr>
        <td id="L3071" class="blob-num js-line-number" data-line-number="3071"></td>
        <td id="LC3071" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx_a; <span class="pl-c">/* [idx] Point A 1-D index */</span></td>
      </tr>
      <tr>
        <td id="L3072" class="blob-num js-line-number" data-line-number="3072"></td>
        <td id="LC3072" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx_b; <span class="pl-c">/* [idx] Point B 1-D index */</span></td>
      </tr>
      <tr>
        <td id="L3073" class="blob-num js-line-number" data-line-number="3073"></td>
        <td id="LC3073" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx_c; <span class="pl-c">/* [idx] Point C 1-D index */</span></td>
      </tr>
      <tr>
        <td id="L3074" class="blob-num js-line-number" data-line-number="3074"></td>
        <td id="LC3074" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> col_idx=<span class="pl-c1">0</span>;col_idx&lt;col_nbr;col_idx++){</td>
      </tr>
      <tr>
        <td id="L3075" class="blob-num js-line-number" data-line-number="3075"></td>
        <td id="LC3075" class="blob-code blob-code-inner js-file-line">    ngl_c=double_CEWI; <span class="pl-c">/* Otherwise compiler unsure ngl_c is initialized first use */</span></td>
      </tr>
      <tr>
        <td id="L3076" class="blob-num js-line-number" data-line-number="3076"></td>
        <td id="LC3076" class="blob-code blob-code-inner js-file-line">    area[col_idx]=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L3077" class="blob-num js-line-number" data-line-number="3077"></td>
        <td id="LC3077" class="blob-code blob-code-inner js-file-line">    tri_nbr=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L3078" class="blob-num js-line-number" data-line-number="3078"></td>
        <td id="LC3078" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* A is always first vertice */</span></td>
      </tr>
      <tr>
        <td id="L3079" class="blob-num js-line-number" data-line-number="3079"></td>
        <td id="LC3079" class="blob-code blob-code-inner js-file-line">    idx_a=bnd_nbr*col_idx; </td>
      </tr>
      <tr>
        <td id="L3080" class="blob-num js-line-number" data-line-number="3080"></td>
        <td id="LC3080" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Start search for B at next vertice */</span></td>
      </tr>
      <tr>
        <td id="L3081" class="blob-num js-line-number" data-line-number="3081"></td>
        <td id="LC3081" class="blob-code blob-code-inner js-file-line">    bnd_idx=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L3082" class="blob-num js-line-number" data-line-number="3082"></td>
        <td id="LC3082" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* bnd_idx labels offset from point A of potential location of triangle points B and C </span></td>
      </tr>
      <tr>
        <td id="L3083" class="blob-num js-line-number" data-line-number="3083"></td>
        <td id="LC3083" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       We know that bnd_idx(A) == 0, bnd_idx(B) &lt; bnd_nbr-1, bnd_idx(C) &lt; bnd_nbr */</span></td>
      </tr>
      <tr>
        <td id="L3084" class="blob-num js-line-number" data-line-number="3084"></td>
        <td id="LC3084" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">while</span>(bnd_idx&lt;bnd_nbr-<span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L3085" class="blob-num js-line-number" data-line-number="3085"></td>
        <td id="LC3085" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Only first triangle must search for B, subsequent triangles recycle previous C as current B */</span></td>
      </tr>
      <tr>
        <td id="L3086" class="blob-num js-line-number" data-line-number="3086"></td>
        <td id="LC3086" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(tri_nbr == <span class="pl-c1">0</span>){</td>
      </tr>
      <tr>
        <td id="L3087" class="blob-num js-line-number" data-line-number="3087"></td>
        <td id="LC3087" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Skip repeated points that must occur when polygon has fewer than allowed vertices */</span></td>
      </tr>
      <tr>
        <td id="L3088" class="blob-num js-line-number" data-line-number="3088"></td>
        <td id="LC3088" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">while</span>(lon_bnd[idx_a] == lon_bnd[idx_a+bnd_idx] &amp;&amp; lat_bnd[idx_a] == lat_bnd[idx_a+bnd_idx]){</td>
      </tr>
      <tr>
        <td id="L3089" class="blob-num js-line-number" data-line-number="3089"></td>
        <td id="LC3089" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Next vertice may not duplicate A */</span></td>
      </tr>
      <tr>
        <td id="L3090" class="blob-num js-line-number" data-line-number="3090"></td>
        <td id="LC3090" class="blob-code blob-code-inner js-file-line">	  bnd_idx++;</td>
      </tr>
      <tr>
        <td id="L3091" class="blob-num js-line-number" data-line-number="3091"></td>
        <td id="LC3091" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* If there is no room for C then all triangles found */</span></td>
      </tr>
      <tr>
        <td id="L3092" class="blob-num js-line-number" data-line-number="3092"></td>
        <td id="LC3092" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(bnd_idx == bnd_nbr-<span class="pl-c1">1</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3093" class="blob-num js-line-number" data-line-number="3093"></td>
        <td id="LC3093" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !while */</span></td>
      </tr>
      <tr>
        <td id="L3094" class="blob-num js-line-number" data-line-number="3094"></td>
        <td id="LC3094" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Jump to next column when all triangles found */</span></td>
      </tr>
      <tr>
        <td id="L3095" class="blob-num js-line-number" data-line-number="3095"></td>
        <td id="LC3095" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(bnd_idx == bnd_nbr-<span class="pl-c1">1</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3096" class="blob-num js-line-number" data-line-number="3096"></td>
        <td id="LC3096" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !tri_nbr */</span></td>
      </tr>
      <tr>
        <td id="L3097" class="blob-num js-line-number" data-line-number="3097"></td>
        <td id="LC3097" class="blob-code blob-code-inner js-file-line">      idx_b=idx_a+bnd_idx;</td>
      </tr>
      <tr>
        <td id="L3098" class="blob-num js-line-number" data-line-number="3098"></td>
        <td id="LC3098" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Search for C at next vertice */</span></td>
      </tr>
      <tr>
        <td id="L3099" class="blob-num js-line-number" data-line-number="3099"></td>
        <td id="LC3099" class="blob-code blob-code-inner js-file-line">      bnd_idx++;</td>
      </tr>
      <tr>
        <td id="L3100" class="blob-num js-line-number" data-line-number="3100"></td>
        <td id="LC3100" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">while</span>(lon_bnd[idx_b] == lon_bnd[idx_a+bnd_idx] &amp;&amp; lat_bnd[idx_b] == lat_bnd[idx_a+bnd_idx]){</td>
      </tr>
      <tr>
        <td id="L3101" class="blob-num js-line-number" data-line-number="3101"></td>
        <td id="LC3101" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Next vertice may not duplicate B */</span></td>
      </tr>
      <tr>
        <td id="L3102" class="blob-num js-line-number" data-line-number="3102"></td>
        <td id="LC3102" class="blob-code blob-code-inner js-file-line">	bnd_idx++;</td>
      </tr>
      <tr>
        <td id="L3103" class="blob-num js-line-number" data-line-number="3103"></td>
        <td id="LC3103" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* If there is no room for C then all triangles found */</span></td>
      </tr>
      <tr>
        <td id="L3104" class="blob-num js-line-number" data-line-number="3104"></td>
        <td id="LC3104" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(bnd_idx == bnd_nbr) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3105" class="blob-num js-line-number" data-line-number="3105"></td>
        <td id="LC3105" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !while */</span></td>
      </tr>
      <tr>
        <td id="L3106" class="blob-num js-line-number" data-line-number="3106"></td>
        <td id="LC3106" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Jump to next column when all triangles found */</span></td>
      </tr>
      <tr>
        <td id="L3107" class="blob-num js-line-number" data-line-number="3107"></td>
        <td id="LC3107" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(bnd_idx == bnd_nbr) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3108" class="blob-num js-line-number" data-line-number="3108"></td>
        <td id="LC3108" class="blob-code blob-code-inner js-file-line">      idx_c=idx_a+bnd_idx;</td>
      </tr>
      <tr>
        <td id="L3109" class="blob-num js-line-number" data-line-number="3109"></td>
        <td id="LC3109" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Valid triangle, vertices are known and labeled */</span></td>
      </tr>
      <tr>
        <td id="L3110" class="blob-num js-line-number" data-line-number="3110"></td>
        <td id="LC3110" class="blob-code blob-code-inner js-file-line">      tri_nbr++;</td>
      </tr>
      <tr>
        <td id="L3111" class="blob-num js-line-number" data-line-number="3111"></td>
        <td id="LC3111" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Compute interior angle/great circle arc a for first triangle; subsequent triangles recycle previous arc c */</span></td>
      </tr>
      <tr>
        <td id="L3112" class="blob-num js-line-number" data-line-number="3112"></td>
        <td id="LC3112" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(tri_nbr == <span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L3113" class="blob-num js-line-number" data-line-number="3113"></td>
        <td id="LC3113" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* 20150831: Test by computing ncol=0 area in conus chevrons grid:</span></td>
      </tr>
      <tr>
        <td id="L3114" class="blob-num js-line-number" data-line-number="3114"></td>
        <td id="LC3114" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ncks -O -D 5 -v FSNT --map ${DATA}/maps/map_ne30np4_to_fv257x512_aave.20150823.nc ${DATA}/ne30/rgr/famipc5_ne30_v0.3_00003.cam.h0.1979-01.nc ${DATA}/ne30/rgr/fv_FSNT.nc</span></td>
      </tr>
      <tr>
        <td id="L3115" class="blob-num js-line-number" data-line-number="3115"></td>
        <td id="LC3115" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ncks -O -D 5 -v FSNT --map ${DATA}/maps/map_fv257x512_to_conusx4v1np4_chevrons_bilin.20150901.nc ${DATA}/ne30/rgr/fv_FSNT.nc ${DATA}/ne30/rgr/dogfood.nc</span></td>
      </tr>
      <tr>
        <td id="L3116" class="blob-num js-line-number" data-line-number="3116"></td>
        <td id="LC3116" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ncks -H -s %20.15e -v area -d ncol,0 ${DATA}/ne30/rgr/dogfood.nc</span></td>
      </tr>
      <tr>
        <td id="L3117" class="blob-num js-line-number" data-line-number="3117"></td>
        <td id="LC3117" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ncks -H -s %20.15e -v grid_area -d grid_size,0 ${DATA}/grids/conusx4v1np4_chevrons_scrip_c150815.nc</span></td>
      </tr>
      <tr>
        <td id="L3118" class="blob-num js-line-number" data-line-number="3118"></td>
        <td id="LC3118" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   </span></td>
      </tr>
      <tr>
        <td id="L3119" class="blob-num js-line-number" data-line-number="3119"></td>
        <td id="LC3119" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   ncol=0 on conus chevrons file:</span></td>
      </tr>
      <tr>
        <td id="L3120" class="blob-num js-line-number" data-line-number="3120"></td>
        <td id="LC3120" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   3.653857995295246e-05 raw GLL weight</span></td>
      </tr>
      <tr>
        <td id="L3121" class="blob-num js-line-number" data-line-number="3121"></td>
        <td id="LC3121" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   3.653857995294302e-05 matlab N-2 triangles</span></td>
      </tr>
      <tr>
        <td id="L3122" class="blob-num js-line-number" data-line-number="3122"></td>
        <td id="LC3122" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   3.653857995294301e-05 matlab N   triangles</span></td>
      </tr>
      <tr>
        <td id="L3123" class="blob-num js-line-number" data-line-number="3123"></td>
        <td id="LC3123" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   3.653857995294258e-05 new NCO (haversine)</span></td>
      </tr>
      <tr>
        <td id="L3124" class="blob-num js-line-number" data-line-number="3124"></td>
        <td id="LC3124" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   3.653857995289623e-05 old NCO (acos) */</span></td>
      </tr>
      <tr>
        <td id="L3125" class="blob-num js-line-number" data-line-number="3125"></td>
        <td id="LC3125" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Computing great circle arcs over small arcs requires care since the central angle is near 0 degrees</span></td>
      </tr>
      <tr>
        <td id="L3126" class="blob-num js-line-number" data-line-number="3126"></td>
        <td id="LC3126" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Cosine small angles changes slowly for such angles, and leads to precision loss</span></td>
      </tr>
      <tr>
        <td id="L3127" class="blob-num js-line-number" data-line-number="3127"></td>
        <td id="LC3127" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Use haversine formula instead of sphereical law of cosines formula</span></td>
      </tr>
      <tr>
        <td id="L3128" class="blob-num js-line-number" data-line-number="3128"></td>
        <td id="LC3128" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   https://en.wikipedia.org/wiki/Great-circle_distance */</span></td>
      </tr>
      <tr>
        <td id="L3129" class="blob-num js-line-number" data-line-number="3129"></td>
        <td id="LC3129" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Interior angle/great circle arc a, spherical law of cosines formula (loses precision):</span></td>
      </tr>
      <tr>
        <td id="L3130" class="blob-num js-line-number" data-line-number="3130"></td>
        <td id="LC3130" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   cos_a=lat_bnd_cos[idx_a]*lon_bnd_cos[idx_a]*lat_bnd_cos[idx_b]*lon_bnd_cos[idx_b]+</span></td>
      </tr>
      <tr>
        <td id="L3131" class="blob-num js-line-number" data-line-number="3131"></td>
        <td id="LC3131" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   lat_bnd_cos[idx_a]*lon_bnd_sin[idx_a]*lat_bnd_cos[idx_b]*lon_bnd_sin[idx_b]+</span></td>
      </tr>
      <tr>
        <td id="L3132" class="blob-num js-line-number" data-line-number="3132"></td>
        <td id="LC3132" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   lat_bnd_sin[idx_a]*lat_bnd_sin[idx_b];ngl_a=acos(cos_a); */</span></td>
      </tr>
      <tr>
        <td id="L3133" class="blob-num js-line-number" data-line-number="3133"></td>
        <td id="LC3133" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Interior angle/great circle arc a, haversine formula: */</span></td>
      </tr>
      <tr>
        <td id="L3134" class="blob-num js-line-number" data-line-number="3134"></td>
        <td id="LC3134" class="blob-code blob-code-inner js-file-line">	lon_dlt=<span class="pl-c1">fabs</span>(lon_bnd_rdn[idx_a]-lon_bnd_rdn[idx_b]);</td>
      </tr>
      <tr>
        <td id="L3135" class="blob-num js-line-number" data-line-number="3135"></td>
        <td id="LC3135" class="blob-code blob-code-inner js-file-line">	lat_dlt=<span class="pl-c1">fabs</span>(lat_bnd_rdn[idx_a]-lat_bnd_rdn[idx_b]);</td>
      </tr>
      <tr>
        <td id="L3136" class="blob-num js-line-number" data-line-number="3136"></td>
        <td id="LC3136" class="blob-code blob-code-inner js-file-line">	sin_hlf_tht=<span class="pl-c1">sqrt</span>(<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lat_dlt),<span class="pl-c1">2</span>)+lat_bnd_cos[idx_a]*lat_bnd_cos[idx_b]*<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lon_dlt),<span class="pl-c1">2</span>));</td>
      </tr>
      <tr>
        <td id="L3137" class="blob-num js-line-number" data-line-number="3137"></td>
        <td id="LC3137" class="blob-code blob-code-inner js-file-line">	ngl_a=<span class="pl-c1">2.0</span>*<span class="pl-c1">asin</span>(sin_hlf_tht);</td>
      </tr>
      <tr>
        <td id="L3138" class="blob-num js-line-number" data-line-number="3138"></td>
        <td id="LC3138" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L3139" class="blob-num js-line-number" data-line-number="3139"></td>
        <td id="LC3139" class="blob-code blob-code-inner js-file-line">	ngl_a=ngl_c;</td>
      </tr>
      <tr>
        <td id="L3140" class="blob-num js-line-number" data-line-number="3140"></td>
        <td id="LC3140" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !tri_nbr */</span></td>
      </tr>
      <tr>
        <td id="L3141" class="blob-num js-line-number" data-line-number="3141"></td>
        <td id="LC3141" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Interior angle/great circle arc b */</span></td>
      </tr>
      <tr>
        <td id="L3142" class="blob-num js-line-number" data-line-number="3142"></td>
        <td id="LC3142" class="blob-code blob-code-inner js-file-line">      lon_dlt=<span class="pl-c1">fabs</span>(lon_bnd_rdn[idx_b]-lon_bnd_rdn[idx_c]);</td>
      </tr>
      <tr>
        <td id="L3143" class="blob-num js-line-number" data-line-number="3143"></td>
        <td id="LC3143" class="blob-code blob-code-inner js-file-line">      lat_dlt=<span class="pl-c1">fabs</span>(lat_bnd_rdn[idx_b]-lat_bnd_rdn[idx_c]);</td>
      </tr>
      <tr>
        <td id="L3144" class="blob-num js-line-number" data-line-number="3144"></td>
        <td id="LC3144" class="blob-code blob-code-inner js-file-line">      sin_hlf_tht=<span class="pl-c1">sqrt</span>(<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lat_dlt),<span class="pl-c1">2</span>)+lat_bnd_cos[idx_b]*lat_bnd_cos[idx_c]*<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lon_dlt),<span class="pl-c1">2</span>));</td>
      </tr>
      <tr>
        <td id="L3145" class="blob-num js-line-number" data-line-number="3145"></td>
        <td id="LC3145" class="blob-code blob-code-inner js-file-line">      ngl_b=<span class="pl-c1">2.0</span>*<span class="pl-c1">asin</span>(sin_hlf_tht);</td>
      </tr>
      <tr>
        <td id="L3146" class="blob-num js-line-number" data-line-number="3146"></td>
        <td id="LC3146" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Interior angle/great circle arc c */</span></td>
      </tr>
      <tr>
        <td id="L3147" class="blob-num js-line-number" data-line-number="3147"></td>
        <td id="LC3147" class="blob-code blob-code-inner js-file-line">      lon_dlt=<span class="pl-c1">fabs</span>(lon_bnd_rdn[idx_c]-lon_bnd_rdn[idx_a]);</td>
      </tr>
      <tr>
        <td id="L3148" class="blob-num js-line-number" data-line-number="3148"></td>
        <td id="LC3148" class="blob-code blob-code-inner js-file-line">      lat_dlt=<span class="pl-c1">fabs</span>(lat_bnd_rdn[idx_c]-lat_bnd_rdn[idx_a]);</td>
      </tr>
      <tr>
        <td id="L3149" class="blob-num js-line-number" data-line-number="3149"></td>
        <td id="LC3149" class="blob-code blob-code-inner js-file-line">      sin_hlf_tht=<span class="pl-c1">sqrt</span>(<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lat_dlt),<span class="pl-c1">2</span>)+lat_bnd_cos[idx_c]*lat_bnd_cos[idx_a]*<span class="pl-c1">pow</span>(<span class="pl-c1">sin</span>(<span class="pl-c1">0.5</span>*lon_dlt),<span class="pl-c1">2</span>));</td>
      </tr>
      <tr>
        <td id="L3150" class="blob-num js-line-number" data-line-number="3150"></td>
        <td id="LC3150" class="blob-code blob-code-inner js-file-line">      ngl_c=<span class="pl-c1">2.0</span>*<span class="pl-c1">asin</span>(sin_hlf_tht);</td>
      </tr>
      <tr>
        <td id="L3151" class="blob-num js-line-number" data-line-number="3151"></td>
        <td id="LC3151" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Ill-conditioned? */</span></td>
      </tr>
      <tr>
        <td id="L3152" class="blob-num js-line-number" data-line-number="3152"></td>
        <td id="LC3152" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(((<span class="pl-k">float</span>)ngl_a == (<span class="pl-k">float</span>)ngl_b &amp;&amp; (<span class="pl-k">float</span>)ngl_a == (<span class="pl-k">float</span>)(<span class="pl-c1">0.5</span>*ngl_c)) || <span class="pl-c">/* c is half a and b */</span></td>
      </tr>
      <tr>
        <td id="L3153" class="blob-num js-line-number" data-line-number="3153"></td>
        <td id="LC3153" class="blob-code blob-code-inner js-file-line">	 ((<span class="pl-k">float</span>)ngl_b == (<span class="pl-k">float</span>)ngl_c &amp;&amp; (<span class="pl-k">float</span>)ngl_b == (<span class="pl-k">float</span>)(<span class="pl-c1">0.5</span>*ngl_a)) || <span class="pl-c">/* a is half b and c */</span></td>
      </tr>
      <tr>
        <td id="L3154" class="blob-num js-line-number" data-line-number="3154"></td>
        <td id="LC3154" class="blob-code blob-code-inner js-file-line">	 ((<span class="pl-k">float</span>)ngl_c == (<span class="pl-k">float</span>)ngl_a &amp;&amp; (<span class="pl-k">float</span>)ngl_c == (<span class="pl-k">float</span>)(<span class="pl-c1">0.5</span>*ngl_b))){  <span class="pl-c">/* b is half c and a */</span></td>
      </tr>
      <tr>
        <td id="L3155" class="blob-num js-line-number" data-line-number="3155"></td>
        <td id="LC3155" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports col_idx = <span class="pl-c1">%u</span> triangle <span class="pl-c1">%d</span> is ill-conditioned. Spherical excess and thus cell area are likely inaccurate. Ask Charlie to implement SAS formula...<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,col_idx,tri_nbr);</td>
      </tr>
      <tr>
        <td id="L3156" class="blob-num js-line-number" data-line-number="3156"></td>
        <td id="LC3156" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !ill */</span></td>
      </tr>
      <tr>
        <td id="L3157" class="blob-num js-line-number" data-line-number="3157"></td>
        <td id="LC3157" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Semi-perimeter */</span></td>
      </tr>
      <tr>
        <td id="L3158" class="blob-num js-line-number" data-line-number="3158"></td>
        <td id="LC3158" class="blob-code blob-code-inner js-file-line">      prm_smi=<span class="pl-c1">0.5</span>*(ngl_a+ngl_b+ngl_c);</td>
      </tr>
      <tr>
        <td id="L3159" class="blob-num js-line-number" data-line-number="3159"></td>
        <td id="LC3159" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* L&#39;Huillier&#39;s formula */</span></td>
      </tr>
      <tr>
        <td id="L3160" class="blob-num js-line-number" data-line-number="3160"></td>
        <td id="LC3160" class="blob-code blob-code-inner js-file-line">      xcs_sph_qtr_tan=<span class="pl-c1">sqrt</span>(<span class="pl-c1">tan</span>(<span class="pl-c1">0.5</span>*prm_smi)*<span class="pl-c1">tan</span>(<span class="pl-c1">0.5</span>*(prm_smi-ngl_a))*<span class="pl-c1">tan</span>(<span class="pl-c1">0.5</span>*(prm_smi-ngl_b))*<span class="pl-c1">tan</span>(<span class="pl-c1">0.5</span>*(prm_smi-ngl_c)));</td>
      </tr>
      <tr>
        <td id="L3161" class="blob-num js-line-number" data-line-number="3161"></td>
        <td id="LC3161" class="blob-code blob-code-inner js-file-line">      xcs_sph=<span class="pl-c1">4.0</span>*<span class="pl-c1">atan</span>(xcs_sph_qtr_tan);</td>
      </tr>
      <tr>
        <td id="L3162" class="blob-num js-line-number" data-line-number="3162"></td>
        <td id="LC3162" class="blob-code blob-code-inner js-file-line">      area[col_idx]+=xcs_sph;</td>
      </tr>
      <tr>
        <td id="L3163" class="blob-num js-line-number" data-line-number="3163"></td>
        <td id="LC3163" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Begin search for next B at current C */</span></td>
      </tr>
      <tr>
        <td id="L3164" class="blob-num js-line-number" data-line-number="3164"></td>
        <td id="LC3164" class="blob-code blob-code-inner js-file-line">      bnd_idx=idx_c-idx_a;</td>
      </tr>
      <tr>
        <td id="L3165" class="blob-num js-line-number" data-line-number="3165"></td>
        <td id="LC3165" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !tri_idx */</span></td>
      </tr>
      <tr>
        <td id="L3166" class="blob-num js-line-number" data-line-number="3166"></td>
        <td id="LC3166" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_io) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports col_idx = <span class="pl-c1">%u</span> has <span class="pl-c1">%d</span> triangles<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,col_idx,tri_nbr);</td>
      </tr>
      <tr>
        <td id="L3167" class="blob-num js-line-number" data-line-number="3167"></td>
        <td id="LC3167" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !col_idx */</span></td>
      </tr>
      <tr>
        <td id="L3168" class="blob-num js-line-number" data-line-number="3168"></td>
        <td id="LC3168" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd_rdn) lat_bnd_rdn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd_rdn);</td>
      </tr>
      <tr>
        <td id="L3169" class="blob-num js-line-number" data-line-number="3169"></td>
        <td id="LC3169" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd_rdn) lon_bnd_rdn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd_rdn);</td>
      </tr>
      <tr>
        <td id="L3170" class="blob-num js-line-number" data-line-number="3170"></td>
        <td id="LC3170" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd_cos) lat_bnd_cos=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd_cos);</td>
      </tr>
      <tr>
        <td id="L3171" class="blob-num js-line-number" data-line-number="3171"></td>
        <td id="LC3171" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd_cos) lon_bnd_cos=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd_cos);</td>
      </tr>
      <tr>
        <td id="L3172" class="blob-num js-line-number" data-line-number="3172"></td>
        <td id="LC3172" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd_sin) lat_bnd_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd_sin);</td>
      </tr>
      <tr>
        <td id="L3173" class="blob-num js-line-number" data-line-number="3173"></td>
        <td id="LC3173" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd_sin) lon_bnd_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd_sin);</td>
      </tr>
      <tr>
        <td id="L3174" class="blob-num js-line-number" data-line-number="3174"></td>
        <td id="LC3174" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3175" class="blob-num js-line-number" data-line-number="3175"></td>
        <td id="LC3175" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* !nco_sph_plg_area() */</span></td>
      </tr>
      <tr>
        <td id="L3176" class="blob-num js-line-number" data-line-number="3176"></td>
        <td id="LC3176" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3177" class="blob-num js-line-number" data-line-number="3177"></td>
        <td id="LC3177" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-c">/* O [enm] Return code */</span></td>
      </tr>
      <tr>
        <td id="L3178" class="blob-num js-line-number" data-line-number="3178"></td>
        <td id="LC3178" class="blob-code blob-code-inner js-file-line">nco_rgr_tps <span class="pl-c">/* [fnc] Regrid using Tempest library */</span></td>
      </tr>
      <tr>
        <td id="L3179" class="blob-num js-line-number" data-line-number="3179"></td>
        <td id="LC3179" class="blob-code blob-code-inner js-file-line">(rgr_sct * <span class="pl-k">const</span> rgr) <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L3180" class="blob-num js-line-number" data-line-number="3180"></td>
        <td id="LC3180" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3181" class="blob-num js-line-number" data-line-number="3181"></td>
        <td id="LC3181" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Regrid fields using Tempest remapping &quot;library&quot; (more precisely, executables)</span></td>
      </tr>
      <tr>
        <td id="L3182" class="blob-num js-line-number" data-line-number="3182"></td>
        <td id="LC3182" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3183" class="blob-num js-line-number" data-line-number="3183"></td>
        <td id="LC3183" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Test Tempest library: no way to activate yet</span></td>
      </tr>
      <tr>
        <td id="L3184" class="blob-num js-line-number" data-line-number="3184"></td>
        <td id="LC3184" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     export DATA_TEMPEST=&#39;/data/zender/rgr&#39;;ncks -O --rgr=Y ${DATA}/rgr/essgcm14_clm.nc ~/foo.nc */</span></td>
      </tr>
      <tr>
        <td id="L3185" class="blob-num js-line-number" data-line-number="3185"></td>
        <td id="LC3185" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3186" class="blob-num js-line-number" data-line-number="3186"></td>
        <td id="LC3186" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_rgr_tps()<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3187" class="blob-num js-line-number" data-line-number="3187"></td>
        <td id="LC3187" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3188" class="blob-num js-line-number" data-line-number="3188"></td>
        <td id="LC3188" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> fmt_chr_nbr=<span class="pl-c1">6</span>;</td>
      </tr>
      <tr>
        <td id="L3189" class="blob-num js-line-number" data-line-number="3189"></td>
        <td id="LC3189" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> *cmd_rgr_fmt;</td>
      </tr>
      <tr>
        <td id="L3190" class="blob-num js-line-number" data-line-number="3190"></td>
        <td id="LC3190" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *cmd_rgr;</td>
      </tr>
      <tr>
        <td id="L3191" class="blob-num js-line-number" data-line-number="3191"></td>
        <td id="LC3191" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> fl_grd_dst[]=<span class="pl-s"><span class="pl-pds">&quot;</span>/tmp/foo_outRLLMesh.g<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3192" class="blob-num js-line-number" data-line-number="3192"></td>
        <td id="LC3192" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_grd_dst_cdl;</td>
      </tr>
      <tr>
        <td id="L3193" class="blob-num js-line-number" data-line-number="3193"></td>
        <td id="LC3193" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rcd_sys;</td>
      </tr>
      <tr>
        <td id="L3194" class="blob-num js-line-number" data-line-number="3194"></td>
        <td id="LC3194" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_nbr_rqs=<span class="pl-c1">180</span>;</td>
      </tr>
      <tr>
        <td id="L3195" class="blob-num js-line-number" data-line-number="3195"></td>
        <td id="LC3195" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_nbr_rqs=<span class="pl-c1">360</span>;</td>
      </tr>
      <tr>
        <td id="L3196" class="blob-num js-line-number" data-line-number="3196"></td>
        <td id="LC3196" class="blob-code blob-code-inner js-file-line">  nco_rgr_cmd_typ nco_rgr_cmd; <span class="pl-c">/* [enm] Tempest remap command enum */</span></td>
      </tr>
      <tr>
        <td id="L3197" class="blob-num js-line-number" data-line-number="3197"></td>
        <td id="LC3197" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3198" class="blob-num js-line-number" data-line-number="3198"></td>
        <td id="LC3198" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *nvr_DATA_TEMPEST; <span class="pl-c">/* [sng] Directory where Tempest grids, meshes, and weights are stored */</span></td>
      </tr>
      <tr>
        <td id="L3199" class="blob-num js-line-number" data-line-number="3199"></td>
        <td id="LC3199" class="blob-code blob-code-inner js-file-line">  nvr_DATA_TEMPEST=<span class="pl-c1">getenv</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>DATA_TEMPEST<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3200" class="blob-num js-line-number" data-line-number="3200"></td>
        <td id="LC3200" class="blob-code blob-code-inner js-file-line">  rgr-&gt;drc_tps= (nvr_DATA_TEMPEST &amp;&amp; <span class="pl-c1">strlen</span>(nvr_DATA_TEMPEST) &gt; <span class="pl-c1">0L</span>) ? (<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(nvr_DATA_TEMPEST) : (<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>/tmp<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3201" class="blob-num js-line-number" data-line-number="3201"></td>
        <td id="LC3201" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3202" class="blob-num js-line-number" data-line-number="3202"></td>
        <td id="LC3202" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L3203" class="blob-num js-line-number" data-line-number="3203"></td>
        <td id="LC3203" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L3204" class="blob-num js-line-number" data-line-number="3204"></td>
        <td id="LC3204" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>drc_tps = <span class="pl-c1">%s</span>, <span class="pl-pds">&quot;</span></span>,rgr-&gt;drc_tps ? rgr-&gt;drc_tps : <span class="pl-s"><span class="pl-pds">&quot;</span>NULL<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3205" class="blob-num js-line-number" data-line-number="3205"></td>
        <td id="LC3205" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3206" class="blob-num js-line-number" data-line-number="3206"></td>
        <td id="LC3206" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L3207" class="blob-num js-line-number" data-line-number="3207"></td>
        <td id="LC3207" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3208" class="blob-num js-line-number" data-line-number="3208"></td>
        <td id="LC3208" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allow for whitespace characters in fl_grd_dst</span></td>
      </tr>
      <tr>
        <td id="L3209" class="blob-num js-line-number" data-line-number="3209"></td>
        <td id="LC3209" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Assume CDL translation results in acceptable name for shell commands */</span></td>
      </tr>
      <tr>
        <td id="L3210" class="blob-num js-line-number" data-line-number="3210"></td>
        <td id="LC3210" class="blob-code blob-code-inner js-file-line">  fl_grd_dst_cdl=<span class="pl-c1">nm2sng_fl</span>(fl_grd_dst);</td>
      </tr>
      <tr>
        <td id="L3211" class="blob-num js-line-number" data-line-number="3211"></td>
        <td id="LC3211" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//drc_tps=strcat(drc_tps,&quot;/&quot;);</span></td>
      </tr>
      <tr>
        <td id="L3212" class="blob-num js-line-number" data-line-number="3212"></td>
        <td id="LC3212" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//drc_tps=strcat(drc_tps,fl_grd_dst);</span></td>
      </tr>
      <tr>
        <td id="L3213" class="blob-num js-line-number" data-line-number="3213"></td>
        <td id="LC3213" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3214" class="blob-num js-line-number" data-line-number="3214"></td>
        <td id="LC3214" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Construct and execute regridding command */</span></td>
      </tr>
      <tr>
        <td id="L3215" class="blob-num js-line-number" data-line-number="3215"></td>
        <td id="LC3215" class="blob-code blob-code-inner js-file-line">  nco_rgr_cmd=nco_rgr_GenerateRLLMesh;</td>
      </tr>
      <tr>
        <td id="L3216" class="blob-num js-line-number" data-line-number="3216"></td>
        <td id="LC3216" class="blob-code blob-code-inner js-file-line">  cmd_rgr_fmt=<span class="pl-c1">nco_tps_cmd_fmt_sng</span>(nco_rgr_cmd);</td>
      </tr>
      <tr>
        <td id="L3217" class="blob-num js-line-number" data-line-number="3217"></td>
        <td id="LC3217" class="blob-code blob-code-inner js-file-line">  cmd_rgr=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((<span class="pl-c1">strlen</span>(cmd_rgr_fmt)+<span class="pl-c1">strlen</span>(fl_grd_dst_cdl)-fmt_chr_nbr+<span class="pl-c1">1UL</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">char</span>));</td>
      </tr>
      <tr>
        <td id="L3218" class="blob-num js-line-number" data-line-number="3218"></td>
        <td id="LC3218" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_fl) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: <span class="pl-c1">%s</span> reports generating <span class="pl-c1">%d</span> by <span class="pl-c1">%d</span> RLL mesh in <span class="pl-c1">%s</span>...<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_nbr_rqs,lon_nbr_rqs,fl_grd_dst);</td>
      </tr>
      <tr>
        <td id="L3219" class="blob-num js-line-number" data-line-number="3219"></td>
        <td id="LC3219" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">sprintf</span>(cmd_rgr,cmd_rgr_fmt,lat_nbr_rqs,lon_nbr_rqs,fl_grd_dst_cdl);</td>
      </tr>
      <tr>
        <td id="L3220" class="blob-num js-line-number" data-line-number="3220"></td>
        <td id="LC3220" class="blob-code blob-code-inner js-file-line">  rcd_sys=<span class="pl-c1">system</span>(cmd_rgr);</td>
      </tr>
      <tr>
        <td id="L3221" class="blob-num js-line-number" data-line-number="3221"></td>
        <td id="LC3221" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(rcd_sys == -<span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L3222" class="blob-num js-line-number" data-line-number="3222"></td>
        <td id="LC3222" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unable to complete Tempest regridding command <span class="pl-cce">\&quot;</span><span class="pl-c1">%s</span><span class="pl-cce">\&quot;\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,cmd_rgr);</td>
      </tr>
      <tr>
        <td id="L3223" class="blob-num js-line-number" data-line-number="3223"></td>
        <td id="LC3223" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L3224" class="blob-num js-line-number" data-line-number="3224"></td>
        <td id="LC3224" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end if */</span></td>
      </tr>
      <tr>
        <td id="L3225" class="blob-num js-line-number" data-line-number="3225"></td>
        <td id="LC3225" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span>done<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3226" class="blob-num js-line-number" data-line-number="3226"></td>
        <td id="LC3226" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3227" class="blob-num js-line-number" data-line-number="3227"></td>
        <td id="LC3227" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Clean-up memory */</span></td>
      </tr>
      <tr>
        <td id="L3228" class="blob-num js-line-number" data-line-number="3228"></td>
        <td id="LC3228" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(fl_grd_dst_cdl) fl_grd_dst_cdl=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(fl_grd_dst_cdl);</td>
      </tr>
      <tr>
        <td id="L3229" class="blob-num js-line-number" data-line-number="3229"></td>
        <td id="LC3229" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(cmd_rgr) cmd_rgr=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(cmd_rgr);</td>
      </tr>
      <tr>
        <td id="L3230" class="blob-num js-line-number" data-line-number="3230"></td>
        <td id="LC3230" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3231" class="blob-num js-line-number" data-line-number="3231"></td>
        <td id="LC3231" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> NCO_NOERR;</td>
      </tr>
      <tr>
        <td id="L3232" class="blob-num js-line-number" data-line-number="3232"></td>
        <td id="LC3232" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_tps() */</span></td>
      </tr>
      <tr>
        <td id="L3233" class="blob-num js-line-number" data-line-number="3233"></td>
        <td id="LC3233" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3234" class="blob-num js-line-number" data-line-number="3234"></td>
        <td id="LC3234" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing two-dimensional grid-type */</span></td>
      </tr>
      <tr>
        <td id="L3235" class="blob-num js-line-number" data-line-number="3235"></td>
        <td id="LC3235" class="blob-code blob-code-inner js-file-line">nco_grd_2D_sng <span class="pl-c">/* [fnc] Convert two-dimensional grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3236" class="blob-num js-line-number" data-line-number="3236"></td>
        <td id="LC3236" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_grd_2D_typ_enm nco_grd_2D_typ) <span class="pl-c">/* I [enm] Two-dimensional grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3237" class="blob-num js-line-number" data-line-number="3237"></td>
        <td id="LC3237" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3238" class="blob-num js-line-number" data-line-number="3238"></td>
        <td id="LC3238" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert two-dimensional grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3239" class="blob-num js-line-number" data-line-number="3239"></td>
        <td id="LC3239" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_grd_2D_typ){</td>
      </tr>
      <tr>
        <td id="L3240" class="blob-num js-line-number" data-line-number="3240"></td>
        <td id="LC3240" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_2D_unk: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown or unclassified 2D grid type (e.g., curvilinear, POP displaced-pole)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3241" class="blob-num js-line-number" data-line-number="3241"></td>
        <td id="LC3241" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_2D_gss: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Gaussian latitude grid. Used by spectral transform models, e.g., CCM 1-3, CAM 1-3, LSM, MATCH, UCICTM.<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3242" class="blob-num js-line-number" data-line-number="3242"></td>
        <td id="LC3242" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_2D_fv: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Cap grid. Uniform/Equi-angle (except at poles) latitude grid with poles are considered at (and labeled as) centers of first and last gridcells (i.e., lat_ctr[0]=-90), and those polar gridcells span half the equi-angular latitude increment. AKA FV-scalar grid (in Lin-Rood representation). Used by CAM FV, GEOS-CHEM, UCICTM, UKMO.<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3243" class="blob-num js-line-number" data-line-number="3243"></td>
        <td id="LC3243" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_2D_eqa: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Uniform/Equi-Angular latitude grid. Uniform/Equi-angle (everywhere) latitude grid. When global (not regional) in extent, poles are at edges of first and last gridcells (i.e., lat_ctr[0]=-89.xxx). When global forms valid FV-staggered AKA FV velocity grid (for Lin-Rood representation). Used by CIESIN/SEDAC, IGBP-DIS, TOMS AAI.<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3244" class="blob-num js-line-number" data-line-number="3244"></td>
        <td id="LC3244" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3245" class="blob-num js-line-number" data-line-number="3245"></td>
        <td id="LC3245" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3246" class="blob-num js-line-number" data-line-number="3246"></td>
        <td id="LC3246" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3247" class="blob-num js-line-number" data-line-number="3247"></td>
        <td id="LC3247" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3248" class="blob-num js-line-number" data-line-number="3248"></td>
        <td id="LC3248" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3249" class="blob-num js-line-number" data-line-number="3249"></td>
        <td id="LC3249" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_grd_2D_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3250" class="blob-num js-line-number" data-line-number="3250"></td>
        <td id="LC3250" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3251" class="blob-num js-line-number" data-line-number="3251"></td>
        <td id="LC3251" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing latitude grid-type */</span></td>
      </tr>
      <tr>
        <td id="L3252" class="blob-num js-line-number" data-line-number="3252"></td>
        <td id="LC3252" class="blob-code blob-code-inner js-file-line">nco_grd_lat_sng <span class="pl-c">/* [fnc] Convert latitude grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3253" class="blob-num js-line-number" data-line-number="3253"></td>
        <td id="LC3253" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_grd_lat_typ_enm nco_grd_lat_typ) <span class="pl-c">/* I [enm] Latitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3254" class="blob-num js-line-number" data-line-number="3254"></td>
        <td id="LC3254" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3255" class="blob-num js-line-number" data-line-number="3255"></td>
        <td id="LC3255" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert latitude grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3256" class="blob-num js-line-number" data-line-number="3256"></td>
        <td id="LC3256" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_grd_lat_typ){</td>
      </tr>
      <tr>
        <td id="L3257" class="blob-num js-line-number" data-line-number="3257"></td>
        <td id="LC3257" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_unk: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown or unclassified latitude grid type (e.g., curvilinear, POP3)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3258" class="blob-num js-line-number" data-line-number="3258"></td>
        <td id="LC3258" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_gss: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Gaussian latitude grid used by global spectral models: CCM 1-3, CAM 1-3, LSM, MATCH, UCICTM<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3259" class="blob-num js-line-number" data-line-number="3259"></td>
        <td id="LC3259" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_fv: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Cap-latitude grid. Uniform/Equi-angle (except at poles) latitude grid with poles are considered at (and labeled as) centers of first and last gridcells (i.e., lat_ctr[0]=-90), and those polar gridcells span half the equi-angular latitude increment. AKA FV-scalar grid (in Lin-Rood representation). Used by: CAM FV, GEOS-CHEM, UCICTM, UKMO<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3260" class="blob-num js-line-number" data-line-number="3260"></td>
        <td id="LC3260" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_eqa: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Uniform/Equi-Angular latitude grid. Uniform/Equi-angle (everywhere) latitude grid. When global (not regional) in extent, poles are at edges of first and last gridcells (e.g., lat_ctr[0]=-89.xxx). When global can be latitude-component of a valid FV-staggered grid AKA FV velocity grid (for Lin-Rood representation). Used by: CIESIN/SEDAC, IGBP-DIS, TOMS AAI<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3261" class="blob-num js-line-number" data-line-number="3261"></td>
        <td id="LC3261" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3262" class="blob-num js-line-number" data-line-number="3262"></td>
        <td id="LC3262" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3263" class="blob-num js-line-number" data-line-number="3263"></td>
        <td id="LC3263" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3264" class="blob-num js-line-number" data-line-number="3264"></td>
        <td id="LC3264" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3265" class="blob-num js-line-number" data-line-number="3265"></td>
        <td id="LC3265" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3266" class="blob-num js-line-number" data-line-number="3266"></td>
        <td id="LC3266" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_grd_lat_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3267" class="blob-num js-line-number" data-line-number="3267"></td>
        <td id="LC3267" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3268" class="blob-num js-line-number" data-line-number="3268"></td>
        <td id="LC3268" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing longitude grid-type */</span></td>
      </tr>
      <tr>
        <td id="L3269" class="blob-num js-line-number" data-line-number="3269"></td>
        <td id="LC3269" class="blob-code blob-code-inner js-file-line">nco_grd_lon_sng <span class="pl-c">/* [fnc] Convert longitude grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3270" class="blob-num js-line-number" data-line-number="3270"></td>
        <td id="LC3270" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_grd_lon_typ_enm nco_grd_lon_typ) <span class="pl-c">/* I [enm] Longitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3271" class="blob-num js-line-number" data-line-number="3271"></td>
        <td id="LC3271" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3272" class="blob-num js-line-number" data-line-number="3272"></td>
        <td id="LC3272" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert longitude grid-type enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3273" class="blob-num js-line-number" data-line-number="3273"></td>
        <td id="LC3273" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_grd_lon_typ){</td>
      </tr>
      <tr>
        <td id="L3274" class="blob-num js-line-number" data-line-number="3274"></td>
        <td id="LC3274" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_unk: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown or unclassified longitude grid type (e.g., curvilinear)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3275" class="blob-num js-line-number" data-line-number="3275"></td>
        <td id="LC3275" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_180_wst: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Date line at west edge of first longitude cell<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3276" class="blob-num js-line-number" data-line-number="3276"></td>
        <td id="LC3276" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_180_ctr: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Date line at center of first longitude cell<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3277" class="blob-num js-line-number" data-line-number="3277"></td>
        <td id="LC3277" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_Grn_wst: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Greenwich at west edge of first longitude cell<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3278" class="blob-num js-line-number" data-line-number="3278"></td>
        <td id="LC3278" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_Grn_ctr: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Greenwich at center of first longitude cell<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3279" class="blob-num js-line-number" data-line-number="3279"></td>
        <td id="LC3279" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lon_bb: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Longitude grid determined by bounding box (lon_wst/lon_est) and gridcell number (lon_nbr)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3280" class="blob-num js-line-number" data-line-number="3280"></td>
        <td id="LC3280" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3281" class="blob-num js-line-number" data-line-number="3281"></td>
        <td id="LC3281" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3282" class="blob-num js-line-number" data-line-number="3282"></td>
        <td id="LC3282" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3283" class="blob-num js-line-number" data-line-number="3283"></td>
        <td id="LC3283" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3284" class="blob-num js-line-number" data-line-number="3284"></td>
        <td id="LC3284" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3285" class="blob-num js-line-number" data-line-number="3285"></td>
        <td id="LC3285" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_grd_lon_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3286" class="blob-num js-line-number" data-line-number="3286"></td>
        <td id="LC3286" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3287" class="blob-num js-line-number" data-line-number="3287"></td>
        <td id="LC3287" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing grid extent */</span></td>
      </tr>
      <tr>
        <td id="L3288" class="blob-num js-line-number" data-line-number="3288"></td>
        <td id="LC3288" class="blob-code blob-code-inner js-file-line">nco_grd_xtn_sng <span class="pl-c">/* [fnc] Convert two-dimensional grid-extent enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3289" class="blob-num js-line-number" data-line-number="3289"></td>
        <td id="LC3289" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_grd_xtn_enm nco_grd_xtn) <span class="pl-c">/* I [enm] Grid-extent enum */</span></td>
      </tr>
      <tr>
        <td id="L3290" class="blob-num js-line-number" data-line-number="3290"></td>
        <td id="LC3290" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3291" class="blob-num js-line-number" data-line-number="3291"></td>
        <td id="LC3291" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert grid-extent enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3292" class="blob-num js-line-number" data-line-number="3292"></td>
        <td id="LC3292" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_grd_xtn){</td>
      </tr>
      <tr>
        <td id="L3293" class="blob-num js-line-number" data-line-number="3293"></td>
        <td id="LC3293" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_xtn_nil: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3294" class="blob-num js-line-number" data-line-number="3294"></td>
        <td id="LC3294" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_xtn_glb: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Global<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3295" class="blob-num js-line-number" data-line-number="3295"></td>
        <td id="LC3295" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_xtn_rgn: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Regional<span class="pl-pds">&quot;</span></span>; </td>
      </tr>
      <tr>
        <td id="L3296" class="blob-num js-line-number" data-line-number="3296"></td>
        <td id="LC3296" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3297" class="blob-num js-line-number" data-line-number="3297"></td>
        <td id="LC3297" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3298" class="blob-num js-line-number" data-line-number="3298"></td>
        <td id="LC3298" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3299" class="blob-num js-line-number" data-line-number="3299"></td>
        <td id="LC3299" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3300" class="blob-num js-line-number" data-line-number="3300"></td>
        <td id="LC3300" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3301" class="blob-num js-line-number" data-line-number="3301"></td>
        <td id="LC3301" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_grd_xtn_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3302" class="blob-num js-line-number" data-line-number="3302"></td>
        <td id="LC3302" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3303" class="blob-num js-line-number" data-line-number="3303"></td>
        <td id="LC3303" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing grid conversion */</span></td>
      </tr>
      <tr>
        <td id="L3304" class="blob-num js-line-number" data-line-number="3304"></td>
        <td id="LC3304" class="blob-code blob-code-inner js-file-line">nco_rgr_grd_sng <span class="pl-c">/* [fnc] Convert grid conversion enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3305" class="blob-num js-line-number" data-line-number="3305"></td>
        <td id="LC3305" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_typ_enm nco_rgr_typ) <span class="pl-c">/* I [enm] Grid conversion enum */</span></td>
      </tr>
      <tr>
        <td id="L3306" class="blob-num js-line-number" data-line-number="3306"></td>
        <td id="LC3306" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3307" class="blob-num js-line-number" data-line-number="3307"></td>
        <td id="LC3307" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert grid conversion enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3308" class="blob-num js-line-number" data-line-number="3308"></td>
        <td id="LC3308" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_typ){</td>
      </tr>
      <tr>
        <td id="L3309" class="blob-num js-line-number" data-line-number="3309"></td>
        <td id="LC3309" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_grd_1D_to_1D: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>1D_to_1D<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3310" class="blob-num js-line-number" data-line-number="3310"></td>
        <td id="LC3310" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_grd_1D_to_2D: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>1D_to_2D<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3311" class="blob-num js-line-number" data-line-number="3311"></td>
        <td id="LC3311" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_grd_2D_to_1D: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>2D_to_1D<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3312" class="blob-num js-line-number" data-line-number="3312"></td>
        <td id="LC3312" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_grd_2D_to_2D: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>2D_to_2D<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3313" class="blob-num js-line-number" data-line-number="3313"></td>
        <td id="LC3313" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3314" class="blob-num js-line-number" data-line-number="3314"></td>
        <td id="LC3314" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3315" class="blob-num js-line-number" data-line-number="3315"></td>
        <td id="LC3315" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3316" class="blob-num js-line-number" data-line-number="3316"></td>
        <td id="LC3316" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3317" class="blob-num js-line-number" data-line-number="3317"></td>
        <td id="LC3317" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3318" class="blob-num js-line-number" data-line-number="3318"></td>
        <td id="LC3318" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_grd_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3319" class="blob-num js-line-number" data-line-number="3319"></td>
        <td id="LC3319" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3320" class="blob-num js-line-number" data-line-number="3320"></td>
        <td id="LC3320" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing regridding method */</span></td>
      </tr>
      <tr>
        <td id="L3321" class="blob-num js-line-number" data-line-number="3321"></td>
        <td id="LC3321" class="blob-code blob-code-inner js-file-line">nco_rgr_mth_sng <span class="pl-c">/* [fnc] Convert regridding method enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3322" class="blob-num js-line-number" data-line-number="3322"></td>
        <td id="LC3322" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_mth_typ_enm nco_rgr_mth_typ) <span class="pl-c">/* I [enm] Regridding method enum */</span></td>
      </tr>
      <tr>
        <td id="L3323" class="blob-num js-line-number" data-line-number="3323"></td>
        <td id="LC3323" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3324" class="blob-num js-line-number" data-line-number="3324"></td>
        <td id="LC3324" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert regridding method enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3325" class="blob-num js-line-number" data-line-number="3325"></td>
        <td id="LC3325" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_mth_typ){</td>
      </tr>
      <tr>
        <td id="L3326" class="blob-num js-line-number" data-line-number="3326"></td>
        <td id="LC3326" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mth_conservative: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Conservative remapping<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3327" class="blob-num js-line-number" data-line-number="3327"></td>
        <td id="LC3327" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mth_bilinear: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Bilinear remapping<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3328" class="blob-num js-line-number" data-line-number="3328"></td>
        <td id="LC3328" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mth_none: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>none<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3329" class="blob-num js-line-number" data-line-number="3329"></td>
        <td id="LC3329" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mth_unknown: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown (Tempest)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3330" class="blob-num js-line-number" data-line-number="3330"></td>
        <td id="LC3330" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3331" class="blob-num js-line-number" data-line-number="3331"></td>
        <td id="LC3331" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3332" class="blob-num js-line-number" data-line-number="3332"></td>
        <td id="LC3332" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3333" class="blob-num js-line-number" data-line-number="3333"></td>
        <td id="LC3333" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3334" class="blob-num js-line-number" data-line-number="3334"></td>
        <td id="LC3334" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3335" class="blob-num js-line-number" data-line-number="3335"></td>
        <td id="LC3335" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_mth_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3336" class="blob-num js-line-number" data-line-number="3336"></td>
        <td id="LC3336" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3337" class="blob-num js-line-number" data-line-number="3337"></td>
        <td id="LC3337" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing mapfile generator */</span></td>
      </tr>
      <tr>
        <td id="L3338" class="blob-num js-line-number" data-line-number="3338"></td>
        <td id="LC3338" class="blob-code blob-code-inner js-file-line">nco_rgr_mpf_sng <span class="pl-c">/* [fnc] Convert mapfile generator enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3339" class="blob-num js-line-number" data-line-number="3339"></td>
        <td id="LC3339" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_mpf_typ_enm nco_rgr_mpf_typ) <span class="pl-c">/* I [enm] Mapfile generator enum */</span></td>
      </tr>
      <tr>
        <td id="L3340" class="blob-num js-line-number" data-line-number="3340"></td>
        <td id="LC3340" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3341" class="blob-num js-line-number" data-line-number="3341"></td>
        <td id="LC3341" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert mapfile generator enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3342" class="blob-num js-line-number" data-line-number="3342"></td>
        <td id="LC3342" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_mpf_typ){</td>
      </tr>
      <tr>
        <td id="L3343" class="blob-num js-line-number" data-line-number="3343"></td>
        <td id="LC3343" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_ESMF: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ESMF Offline Regridding Weight Generator (either ESMF_RegridWeightGen directly or via NCL)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3344" class="blob-num js-line-number" data-line-number="3344"></td>
        <td id="LC3344" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_SCRIP: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>SCRIP (original LANL package)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3345" class="blob-num js-line-number" data-line-number="3345"></td>
        <td id="LC3345" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_mpf_Tempest: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>TempestRemap (GenerateOfflineMap)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3346" class="blob-num js-line-number" data-line-number="3346"></td>
        <td id="LC3346" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3347" class="blob-num js-line-number" data-line-number="3347"></td>
        <td id="LC3347" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3348" class="blob-num js-line-number" data-line-number="3348"></td>
        <td id="LC3348" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3349" class="blob-num js-line-number" data-line-number="3349"></td>
        <td id="LC3349" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3350" class="blob-num js-line-number" data-line-number="3350"></td>
        <td id="LC3350" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3351" class="blob-num js-line-number" data-line-number="3351"></td>
        <td id="LC3351" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_mpf_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3352" class="blob-num js-line-number" data-line-number="3352"></td>
        <td id="LC3352" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3353" class="blob-num js-line-number" data-line-number="3353"></td>
        <td id="LC3353" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String describing regridding normalization */</span></td>
      </tr>
      <tr>
        <td id="L3354" class="blob-num js-line-number" data-line-number="3354"></td>
        <td id="LC3354" class="blob-code blob-code-inner js-file-line">nco_rgr_nrm_sng <span class="pl-c">/* [fnc] Convert regridding normalization enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3355" class="blob-num js-line-number" data-line-number="3355"></td>
        <td id="LC3355" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_nrm_typ_enm nco_rgr_nrm_typ) <span class="pl-c">/* I [enm] Regridding normalization enum */</span></td>
      </tr>
      <tr>
        <td id="L3356" class="blob-num js-line-number" data-line-number="3356"></td>
        <td id="LC3356" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3357" class="blob-num js-line-number" data-line-number="3357"></td>
        <td id="LC3357" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert regridding normalization enum to string */</span></td>
      </tr>
      <tr>
        <td id="L3358" class="blob-num js-line-number" data-line-number="3358"></td>
        <td id="LC3358" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_nrm_typ){</td>
      </tr>
      <tr>
        <td id="L3359" class="blob-num js-line-number" data-line-number="3359"></td>
        <td id="LC3359" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_nrm_fracarea: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>fracarea<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3360" class="blob-num js-line-number" data-line-number="3360"></td>
        <td id="LC3360" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_nrm_destarea: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>destarea<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3361" class="blob-num js-line-number" data-line-number="3361"></td>
        <td id="LC3361" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_nrm_none: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>none<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3362" class="blob-num js-line-number" data-line-number="3362"></td>
        <td id="LC3362" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_nrm_unknown: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>Unknown (Tempest)<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3363" class="blob-num js-line-number" data-line-number="3363"></td>
        <td id="LC3363" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3364" class="blob-num js-line-number" data-line-number="3364"></td>
        <td id="LC3364" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3365" class="blob-num js-line-number" data-line-number="3365"></td>
        <td id="LC3365" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3366" class="blob-num js-line-number" data-line-number="3366"></td>
        <td id="LC3366" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3367" class="blob-num js-line-number" data-line-number="3367"></td>
        <td id="LC3367" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3368" class="blob-num js-line-number" data-line-number="3368"></td>
        <td id="LC3368" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_rgr_nrm_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3369" class="blob-num js-line-number" data-line-number="3369"></td>
        <td id="LC3369" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3370" class="blob-num js-line-number" data-line-number="3370"></td>
        <td id="LC3370" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String containing regridding command and format */</span></td>
      </tr>
      <tr>
        <td id="L3371" class="blob-num js-line-number" data-line-number="3371"></td>
        <td id="LC3371" class="blob-code blob-code-inner js-file-line">nco_tps_cmd_fmt_sng <span class="pl-c">/* [fnc] Convert Tempest remap command enum to command string */</span></td>
      </tr>
      <tr>
        <td id="L3372" class="blob-num js-line-number" data-line-number="3372"></td>
        <td id="LC3372" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_cmd_typ nco_rgr_cmd) <span class="pl-c">/* I [enm] Tempest remap command enum */</span></td>
      </tr>
      <tr>
        <td id="L3373" class="blob-num js-line-number" data-line-number="3373"></td>
        <td id="LC3373" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3374" class="blob-num js-line-number" data-line-number="3374"></td>
        <td id="LC3374" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert Tempest remap command enum to command string and format */</span></td>
      </tr>
      <tr>
        <td id="L3375" class="blob-num js-line-number" data-line-number="3375"></td>
        <td id="LC3375" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_cmd){</td>
      </tr>
      <tr>
        <td id="L3376" class="blob-num js-line-number" data-line-number="3376"></td>
        <td id="LC3376" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_ApplyOfflineMap:</td>
      </tr>
      <tr>
        <td id="L3377" class="blob-num js-line-number" data-line-number="3377"></td>
        <td id="LC3377" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ApplyOfflineMap<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3378" class="blob-num js-line-number" data-line-number="3378"></td>
        <td id="LC3378" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_CalculateDiffNorms:</td>
      </tr>
      <tr>
        <td id="L3379" class="blob-num js-line-number" data-line-number="3379"></td>
        <td id="LC3379" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>CalculateDiffNorms<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3380" class="blob-num js-line-number" data-line-number="3380"></td>
        <td id="LC3380" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateCSMesh:</td>
      </tr>
      <tr>
        <td id="L3381" class="blob-num js-line-number" data-line-number="3381"></td>
        <td id="LC3381" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateCSMesh --res <span class="pl-c1">%d</span> --file <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3382" class="blob-num js-line-number" data-line-number="3382"></td>
        <td id="LC3382" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateGLLMetaData:</td>
      </tr>
      <tr>
        <td id="L3383" class="blob-num js-line-number" data-line-number="3383"></td>
        <td id="LC3383" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateGLLMetaData<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3384" class="blob-num js-line-number" data-line-number="3384"></td>
        <td id="LC3384" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateICOMesh:</td>
      </tr>
      <tr>
        <td id="L3385" class="blob-num js-line-number" data-line-number="3385"></td>
        <td id="LC3385" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateICOMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3386" class="blob-num js-line-number" data-line-number="3386"></td>
        <td id="LC3386" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateLambertConfConicMesh:</td>
      </tr>
      <tr>
        <td id="L3387" class="blob-num js-line-number" data-line-number="3387"></td>
        <td id="LC3387" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateLambertConfConicMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3388" class="blob-num js-line-number" data-line-number="3388"></td>
        <td id="LC3388" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateOfflineMap:</td>
      </tr>
      <tr>
        <td id="L3389" class="blob-num js-line-number" data-line-number="3389"></td>
        <td id="LC3389" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateOfflineMap --in_mesh <span class="pl-c1">%s</span> --out_mesh <span class="pl-c1">%s</span> --ov_mesh <span class="pl-c1">%s</span> --in_data <span class="pl-c1">%s</span> --out_data <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3390" class="blob-num js-line-number" data-line-number="3390"></td>
        <td id="LC3390" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateOverlapMesh:</td>
      </tr>
      <tr>
        <td id="L3391" class="blob-num js-line-number" data-line-number="3391"></td>
        <td id="LC3391" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateOverlapMesh --a <span class="pl-c1">%s</span> --b <span class="pl-c1">%s</span> --out <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3392" class="blob-num js-line-number" data-line-number="3392"></td>
        <td id="LC3392" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateRLLMesh:</td>
      </tr>
      <tr>
        <td id="L3393" class="blob-num js-line-number" data-line-number="3393"></td>
        <td id="LC3393" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateRLLMesh --lat <span class="pl-c1">%d</span> --lon <span class="pl-c1">%d</span> --file <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3394" class="blob-num js-line-number" data-line-number="3394"></td>
        <td id="LC3394" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateTestData:</td>
      </tr>
      <tr>
        <td id="L3395" class="blob-num js-line-number" data-line-number="3395"></td>
        <td id="LC3395" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateTestData --mesh <span class="pl-c1">%s</span> --np <span class="pl-c1">%d</span> --test <span class="pl-c1">%d</span> --out <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3396" class="blob-num js-line-number" data-line-number="3396"></td>
        <td id="LC3396" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_MeshToTxt:</td>
      </tr>
      <tr>
        <td id="L3397" class="blob-num js-line-number" data-line-number="3397"></td>
        <td id="LC3397" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>MeshToTxt<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3398" class="blob-num js-line-number" data-line-number="3398"></td>
        <td id="LC3398" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_AAA_nil:</td>
      </tr>
      <tr>
        <td id="L3399" class="blob-num js-line-number" data-line-number="3399"></td>
        <td id="LC3399" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_ZZZ_last:</td>
      </tr>
      <tr>
        <td id="L3400" class="blob-num js-line-number" data-line-number="3400"></td>
        <td id="LC3400" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3401" class="blob-num js-line-number" data-line-number="3401"></td>
        <td id="LC3401" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3402" class="blob-num js-line-number" data-line-number="3402"></td>
        <td id="LC3402" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3403" class="blob-num js-line-number" data-line-number="3403"></td>
        <td id="LC3403" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3404" class="blob-num js-line-number" data-line-number="3404"></td>
        <td id="LC3404" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3405" class="blob-num js-line-number" data-line-number="3405"></td>
        <td id="LC3405" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_tps_cmd_fmt_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3406" class="blob-num js-line-number" data-line-number="3406"></td>
        <td id="LC3406" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3407" class="blob-num js-line-number" data-line-number="3407"></td>
        <td id="LC3407" class="blob-code blob-code-inner js-file-line"><span class="pl-k">const</span> <span class="pl-k">char</span> * <span class="pl-c">/* O [sng] String containing regridding command name */</span></td>
      </tr>
      <tr>
        <td id="L3408" class="blob-num js-line-number" data-line-number="3408"></td>
        <td id="LC3408" class="blob-code blob-code-inner js-file-line">nco_tps_cmd_sng <span class="pl-c">/* [fnc] Convert Tempest remap command enum to command name */</span></td>
      </tr>
      <tr>
        <td id="L3409" class="blob-num js-line-number" data-line-number="3409"></td>
        <td id="LC3409" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">const</span> nco_rgr_cmd_typ nco_rgr_cmd) <span class="pl-c">/* I [enm] Tempest remap command enum */</span></td>
      </tr>
      <tr>
        <td id="L3410" class="blob-num js-line-number" data-line-number="3410"></td>
        <td id="LC3410" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3411" class="blob-num js-line-number" data-line-number="3411"></td>
        <td id="LC3411" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Convert Tempest remap command enum to command string */</span></td>
      </tr>
      <tr>
        <td id="L3412" class="blob-num js-line-number" data-line-number="3412"></td>
        <td id="LC3412" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(nco_rgr_cmd){</td>
      </tr>
      <tr>
        <td id="L3413" class="blob-num js-line-number" data-line-number="3413"></td>
        <td id="LC3413" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_ApplyOfflineMap: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>ApplyOfflineMap<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3414" class="blob-num js-line-number" data-line-number="3414"></td>
        <td id="LC3414" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_CalculateDiffNorms: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>CalculateDiffNorms<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3415" class="blob-num js-line-number" data-line-number="3415"></td>
        <td id="LC3415" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateCSMesh: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateCSMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3416" class="blob-num js-line-number" data-line-number="3416"></td>
        <td id="LC3416" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateGLLMetaData: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateGLLMetaData<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3417" class="blob-num js-line-number" data-line-number="3417"></td>
        <td id="LC3417" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateICOMesh: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateICOMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3418" class="blob-num js-line-number" data-line-number="3418"></td>
        <td id="LC3418" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateLambertConfConicMesh: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateLambertConfConicMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3419" class="blob-num js-line-number" data-line-number="3419"></td>
        <td id="LC3419" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateOfflineMap: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateOfflineMap<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3420" class="blob-num js-line-number" data-line-number="3420"></td>
        <td id="LC3420" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateOverlapMesh: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateOverlapMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3421" class="blob-num js-line-number" data-line-number="3421"></td>
        <td id="LC3421" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateRLLMesh: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateRLLMesh<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3422" class="blob-num js-line-number" data-line-number="3422"></td>
        <td id="LC3422" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_GenerateTestData: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>GenerateTestData<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3423" class="blob-num js-line-number" data-line-number="3423"></td>
        <td id="LC3423" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_MeshToTxt: <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">&quot;</span>MeshToTxt<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3424" class="blob-num js-line-number" data-line-number="3424"></td>
        <td id="LC3424" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_AAA_nil:</td>
      </tr>
      <tr>
        <td id="L3425" class="blob-num js-line-number" data-line-number="3425"></td>
        <td id="LC3425" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_rgr_ZZZ_last:</td>
      </tr>
      <tr>
        <td id="L3426" class="blob-num js-line-number" data-line-number="3426"></td>
        <td id="LC3426" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>: <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3427" class="blob-num js-line-number" data-line-number="3427"></td>
        <td id="LC3427" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end switch */</span></td>
      </tr>
      <tr>
        <td id="L3428" class="blob-num js-line-number" data-line-number="3428"></td>
        <td id="LC3428" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3429" class="blob-num js-line-number" data-line-number="3429"></td>
        <td id="LC3429" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Some compilers: e.g., SGI cc, need return statement to end non-void functions */</span></td>
      </tr>
      <tr>
        <td id="L3430" class="blob-num js-line-number" data-line-number="3430"></td>
        <td id="LC3430" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> (<span class="pl-k">char</span> *)<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3431" class="blob-num js-line-number" data-line-number="3431"></td>
        <td id="LC3431" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* end nco_tps_cmd_sng() */</span></td>
      </tr>
      <tr>
        <td id="L3432" class="blob-num js-line-number" data-line-number="3432"></td>
        <td id="LC3432" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3433" class="blob-num js-line-number" data-line-number="3433"></td>
        <td id="LC3433" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-c">/* O [enm] Return code */</span></td>
      </tr>
      <tr>
        <td id="L3434" class="blob-num js-line-number" data-line-number="3434"></td>
        <td id="LC3434" class="blob-code blob-code-inner js-file-line">nco_grd_mk <span class="pl-c">/* [fnc] Create SCRIP-format grid file */</span></td>
      </tr>
      <tr>
        <td id="L3435" class="blob-num js-line-number" data-line-number="3435"></td>
        <td id="LC3435" class="blob-code blob-code-inner js-file-line">(rgr_sct * <span class="pl-k">const</span> rgr) <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L3436" class="blob-num js-line-number" data-line-number="3436"></td>
        <td id="LC3436" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L3437" class="blob-num js-line-number" data-line-number="3437"></td>
        <td id="LC3437" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Use grid information to create SCRIP-format grid file</span></td>
      </tr>
      <tr>
        <td id="L3438" class="blob-num js-line-number" data-line-number="3438"></td>
        <td id="LC3438" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3439" class="blob-num js-line-number" data-line-number="3439"></td>
        <td id="LC3439" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Spherical geometry terminology:</span></td>
      </tr>
      <tr>
        <td id="L3440" class="blob-num js-line-number" data-line-number="3440"></td>
        <td id="LC3440" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical cap = spherical dome = volume cut-off by plane</span></td>
      </tr>
      <tr>
        <td id="L3441" class="blob-num js-line-number" data-line-number="3441"></td>
        <td id="LC3441" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical lune = digon = area bounded by two half-great circles = base of spherical wedge</span></td>
      </tr>
      <tr>
        <td id="L3442" class="blob-num js-line-number" data-line-number="3442"></td>
        <td id="LC3442" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical segment = volume defined by cutting sphere with pair parallel planes</span></td>
      </tr>
      <tr>
        <td id="L3443" class="blob-num js-line-number" data-line-number="3443"></td>
        <td id="LC3443" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical sector = volume subtended by lat1</span></td>
      </tr>
      <tr>
        <td id="L3444" class="blob-num js-line-number" data-line-number="3444"></td>
        <td id="LC3444" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical wedge = ungula = volume subtended by lon2-lon1</span></td>
      </tr>
      <tr>
        <td id="L3445" class="blob-num js-line-number" data-line-number="3445"></td>
        <td id="LC3445" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     spherical zone = area of spherical segment excluding bases</span></td>
      </tr>
      <tr>
        <td id="L3446" class="blob-num js-line-number" data-line-number="3446"></td>
        <td id="LC3446" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3447" class="blob-num js-line-number" data-line-number="3447"></td>
        <td id="LC3447" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ACME:</span></td>
      </tr>
      <tr>
        <td id="L3448" class="blob-num js-line-number" data-line-number="3448"></td>
        <td id="LC3448" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://acme-svn2.ornl.gov/acme-repo/acme/mapping/grids</span></td>
      </tr>
      <tr>
        <td id="L3449" class="blob-num js-line-number" data-line-number="3449"></td>
        <td id="LC3449" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     https://acme-svn2.ornl.gov/acme-repo/acme/inputdata/cpl/gridmaps</span></td>
      </tr>
      <tr>
        <td id="L3450" class="blob-num js-line-number" data-line-number="3450"></td>
        <td id="LC3450" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3451" class="blob-num js-line-number" data-line-number="3451"></td>
        <td id="LC3451" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NCAR:</span></td>
      </tr>
      <tr>
        <td id="L3452" class="blob-num js-line-number" data-line-number="3452"></td>
        <td id="LC3452" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     /glade/p/cesm/cseg/mapping/grids</span></td>
      </tr>
      <tr>
        <td id="L3453" class="blob-num js-line-number" data-line-number="3453"></td>
        <td id="LC3453" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3454" class="blob-num js-line-number" data-line-number="3454"></td>
        <td id="LC3454" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate global RLL grids:</span></td>
      </tr>
      <tr>
        <td id="L3455" class="blob-num js-line-number" data-line-number="3455"></td>
        <td id="LC3455" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;Equiangular grid 180x360&#39; --rgr grid=${DATA}/grids/180x360_SCRIP.20150901.nc --rgr lat_nbr=180 --rgr lon_nbr=360 --rgr lat_typ=eqa --rgr lon_typ=Grn_ctr ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3456" class="blob-num js-line-number" data-line-number="3456"></td>
        <td id="LC3456" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;Equiangular grid 90x180&#39; --rgr grid=${DATA}/grids/90x180_SCRIP.20150901.nc --rgr lat_nbr=90 --rgr lon_nbr=180 --rgr lat_typ=eqa --rgr lon_typ=Grn_ctr ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3457" class="blob-num js-line-number" data-line-number="3457"></td>
        <td id="LC3457" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3458" class="blob-num js-line-number" data-line-number="3458"></td>
        <td id="LC3458" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate maps for global RLL grids:</span></td>
      </tr>
      <tr>
        <td id="L3459" class="blob-num js-line-number" data-line-number="3459"></td>
        <td id="LC3459" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/180x360_SCRIP.20150901.nc -d ${DATA}/grids/90x180_SCRIP.20150901.nc -w ${DATA}/maps/map_180x360_to_90x180.20150901.nc --method conserve</span></td>
      </tr>
      <tr>
        <td id="L3460" class="blob-num js-line-number" data-line-number="3460"></td>
        <td id="LC3460" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/90x180_SCRIP.20150901.nc -d ${DATA}/grids/180x360_SCRIP.20150901.nc -w ${DATA}/maps/map_90x180_to_180x360.20150901.nc --method conserve</span></td>
      </tr>
      <tr>
        <td id="L3461" class="blob-num js-line-number" data-line-number="3461"></td>
        <td id="LC3461" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3462" class="blob-num js-line-number" data-line-number="3462"></td>
        <td id="LC3462" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate ACME grids:</span></td>
      </tr>
      <tr>
        <td id="L3463" class="blob-num js-line-number" data-line-number="3463"></td>
        <td id="LC3463" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;FV-scalar grid 129x256&#39; --rgr grid=${DATA}/grids/129x256_SCRIP.20150910.nc --rgr lat_nbr=129 --rgr lon_nbr=256 --rgr lat_typ=cap --rgr lon_typ=Grn_ctr  ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3464" class="blob-num js-line-number" data-line-number="3464"></td>
        <td id="LC3464" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;FV-scalar grid 257x512&#39; --rgr grid=${DATA}/grids/257x512_SCRIP.20150910.nc --rgr lat_nbr=257 --rgr lon_nbr=512 --rgr lat_typ=cap --rgr lon_typ=Grn_ctr  ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3465" class="blob-num js-line-number" data-line-number="3465"></td>
        <td id="LC3465" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;FV-scalar grid 801x1600&#39; --rgr grid=${DATA}/grids/801x1600_SCRIP.20150910.nc --rgr lat_nbr=801 --rgr lon_nbr=1600 --rgr lat_typ=cap --rgr lon_typ=Grn_ctr  ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3466" class="blob-num js-line-number" data-line-number="3466"></td>
        <td id="LC3466" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3467" class="blob-num js-line-number" data-line-number="3467"></td>
        <td id="LC3467" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate ACME maps:</span></td>
      </tr>
      <tr>
        <td id="L3468" class="blob-num js-line-number" data-line-number="3468"></td>
        <td id="LC3468" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/ne30np4_pentagons.091226.nc -d ${DATA}/grids/129x256_SCRIP.20150910.nc -w ${DATA}/maps/map_ne30np4_to_fv129x256_aave.20150910.nc --method conserve</span></td>
      </tr>
      <tr>
        <td id="L3469" class="blob-num js-line-number" data-line-number="3469"></td>
        <td id="LC3469" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/ne30np4_pentagons.091226.nc -d ${DATA}/grids/257x512_SCRIP.20150910.nc -w ${DATA}/maps/map_ne30np4_to_fv257x512_bilin.20150910.nc --method bilinear</span></td>
      </tr>
      <tr>
        <td id="L3470" class="blob-num js-line-number" data-line-number="3470"></td>
        <td id="LC3470" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/ne120np4_pentagons.100310.nc -d ${DATA}/grids/257x512_SCRIP.20150910.nc -w ${DATA}/maps/map_ne120np4_to_fv257x512_aave.20150910.nc --method conserve</span></td>
      </tr>
      <tr>
        <td id="L3471" class="blob-num js-line-number" data-line-number="3471"></td>
        <td id="LC3471" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ESMF_RegridWeightGen -s ${DATA}/grids/ne120np4_pentagons.100310.nc -d ${DATA}/grids/801x1600_SCRIP.20150910.nc -w ${DATA}/maps/map_ne120np4_to_fv801x1600_bilin.20150910.nc --method bilinear</span></td>
      </tr>
      <tr>
        <td id="L3472" class="blob-num js-line-number" data-line-number="3472"></td>
        <td id="LC3472" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3473" class="blob-num js-line-number" data-line-number="3473"></td>
        <td id="LC3473" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate regional RLL grids:</span></td>
      </tr>
      <tr>
        <td id="L3474" class="blob-num js-line-number" data-line-number="3474"></td>
        <td id="LC3474" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;Equiangular grid 180x360&#39; --rgr grid=${DATA}/sld/rgr/grd_dst.nc --rgr lat_nbr=100 --rgr lon_nbr=100 --rgr snwe=30.0,70.0,-120.0,-90.0 ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3475" class="blob-num js-line-number" data-line-number="3475"></td>
        <td id="LC3475" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3476" class="blob-num js-line-number" data-line-number="3476"></td>
        <td id="LC3476" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate global RLL skeleton:</span></td>
      </tr>
      <tr>
        <td id="L3477" class="blob-num js-line-number" data-line-number="3477"></td>
        <td id="LC3477" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;Equiangular grid 180x360&#39; --rgr skl=${DATA}/sld/rgr/skl_180x360.nc --rgr grid=${DATA}/grids/180x360_SCRIP.20150901.nc --rgr lat_nbr=180 --rgr lon_nbr=360 --rgr lat_typ=eqa --rgr lon_typ=Grn_ctr ~/nco/data/in.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L3478" class="blob-num js-line-number" data-line-number="3478"></td>
        <td id="LC3478" class="blob-code blob-code-inner js-file-line"><span class="pl-c"></span></td>
      </tr>
      <tr>
        <td id="L3479" class="blob-num js-line-number" data-line-number="3479"></td>
        <td id="LC3479" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Generate curvilinear grids:</span></td>
      </tr>
      <tr>
        <td id="L3480" class="blob-num js-line-number" data-line-number="3480"></td>
        <td id="LC3480" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr grd_ttl=&#39;Curvilinear grid 10x20&#39; --rgr lon_crv=1.0 --rgr grid=${DATA}/sld/rgr/grd_crv.nc --rgr lat_nbr=10 --rgr lon_nbr=20 --rgr snwe=-5.0,5.0,-10.0,10.0 ~/nco/data/in.nc ~/foo.nc */</span></td>
      </tr>
      <tr>
        <td id="L3481" class="blob-num js-line-number" data-line-number="3481"></td>
        <td id="LC3481" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3482" class="blob-num js-line-number" data-line-number="3482"></td>
        <td id="LC3482" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_grd_mk()<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Function name */</span></td>
      </tr>
      <tr>
        <td id="L3483" class="blob-num js-line-number" data-line-number="3483"></td>
        <td id="LC3483" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3484" class="blob-num js-line-number" data-line-number="3484"></td>
        <td id="LC3484" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> rdn2dgr=<span class="pl-c1">180.0</span>/M_PI;</td>
      </tr>
      <tr>
        <td id="L3485" class="blob-num js-line-number" data-line-number="3485"></td>
        <td id="LC3485" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> dgr2rdn=M_PI/<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L3486" class="blob-num js-line-number" data-line-number="3486"></td>
        <td id="LC3486" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3487" class="blob-num js-line-number" data-line-number="3487"></td>
        <td id="LC3487" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_1D=<span class="pl-c1">1</span>; <span class="pl-c">/* [nbr] Rank of 1-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L3488" class="blob-num js-line-number" data-line-number="3488"></td>
        <td id="LC3488" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_2D=<span class="pl-c1">2</span>; <span class="pl-c">/* [nbr] Rank of 2-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L3489" class="blob-num js-line-number" data-line-number="3489"></td>
        <td id="LC3489" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_3D=<span class="pl-c1">3</span>; <span class="pl-c">/* [nbr] Rank of 3-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L3490" class="blob-num js-line-number" data-line-number="3490"></td>
        <td id="LC3490" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_grd_max=dmn_nbr_3D; <span class="pl-c">/* [nbr] Maximum rank of grid variables */</span></td>
      </tr>
      <tr>
        <td id="L3491" class="blob-num js-line-number" data-line-number="3491"></td>
        <td id="LC3491" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> itr_nbr_max=<span class="pl-c1">20</span>; <span class="pl-c">// [nbr] Maximum number of iterations</span></td>
      </tr>
      <tr>
        <td id="L3492" class="blob-num js-line-number" data-line-number="3492"></td>
        <td id="LC3492" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="L3493" class="blob-num js-line-number" data-line-number="3493"></td>
        <td id="LC3493" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> nc_type crd_typ=NC_DOUBLE;</td>
      </tr>
      <tr>
        <td id="L3494" class="blob-num js-line-number" data-line-number="3494"></td>
        <td id="LC3494" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3495" class="blob-num js-line-number" data-line-number="3495"></td>
        <td id="LC3495" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_out_tmp=NULL_CEWI;</td>
      </tr>
      <tr>
        <td id="L3496" class="blob-num js-line-number" data-line-number="3496"></td>
        <td id="LC3496" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_out;</td>
      </tr>
      <tr>
        <td id="L3497" class="blob-num js-line-number" data-line-number="3497"></td>
        <td id="LC3497" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_area_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_area<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* 20150830: NB ESMF_RegridWeightGen --user_areas looks for variable named &quot;grid_area&quot; */</span></td>
      </tr>
      <tr>
        <td id="L3498" class="blob-num js-line-number" data-line-number="3498"></td>
        <td id="LC3498" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> dmn_sz_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_dims<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3499" class="blob-num js-line-number" data-line-number="3499"></td>
        <td id="LC3499" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_lat_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corner_lat<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3500" class="blob-num js-line-number" data-line-number="3500"></td>
        <td id="LC3500" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_lon_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corner_lon<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3501" class="blob-num js-line-number" data-line-number="3501"></td>
        <td id="LC3501" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corners<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3502" class="blob-num js-line-number" data-line-number="3502"></td>
        <td id="LC3502" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_ctr_lat_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_center_lat<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3503" class="blob-num js-line-number" data-line-number="3503"></td>
        <td id="LC3503" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_ctr_lon_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_center_lon<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3504" class="blob-num js-line-number" data-line-number="3504"></td>
        <td id="LC3504" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_rnk_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_rank<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3505" class="blob-num js-line-number" data-line-number="3505"></td>
        <td id="LC3505" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_sz_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_size<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3506" class="blob-num js-line-number" data-line-number="3506"></td>
        <td id="LC3506" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> msk_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_imask<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L3507" class="blob-num js-line-number" data-line-number="3507"></td>
        <td id="LC3507" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3508" class="blob-num js-line-number" data-line-number="3508"></td>
        <td id="LC3508" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_ctr_lat; <span class="pl-c">/* [dgr] Latitude  centers of grid */</span></td>
      </tr>
      <tr>
        <td id="L3509" class="blob-num js-line-number" data-line-number="3509"></td>
        <td id="LC3509" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_ctr_lon; <span class="pl-c">/* [dgr] Longitude centers of grid */</span></td>
      </tr>
      <tr>
        <td id="L3510" class="blob-num js-line-number" data-line-number="3510"></td>
        <td id="LC3510" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_crn_lat; <span class="pl-c">/* [dgr] Latitude  corners of grid */</span></td>
      </tr>
      <tr>
        <td id="L3511" class="blob-num js-line-number" data-line-number="3511"></td>
        <td id="LC3511" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_crn_lon; <span class="pl-c">/* [dgr] Longitude corners of grid */</span></td>
      </tr>
      <tr>
        <td id="L3512" class="blob-num js-line-number" data-line-number="3512"></td>
        <td id="LC3512" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *area; <span class="pl-c">/* [sr] Area of grid */</span></td>
      </tr>
      <tr>
        <td id="L3513" class="blob-num js-line-number" data-line-number="3513"></td>
        <td id="LC3513" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3514" class="blob-num js-line-number" data-line-number="3514"></td>
        <td id="LC3514" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_crn=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  corners of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3515" class="blob-num js-line-number" data-line-number="3515"></td>
        <td id="LC3515" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ctr=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  centers of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3516" class="blob-num js-line-number" data-line-number="3516"></td>
        <td id="LC3516" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ntf=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  interfaces of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3517" class="blob-num js-line-number" data-line-number="3517"></td>
        <td id="LC3517" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_wgt=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  weights of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3518" class="blob-num js-line-number" data-line-number="3518"></td>
        <td id="LC3518" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3519" class="blob-num js-line-number" data-line-number="3519"></td>
        <td id="LC3519" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_crn=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude corners of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3520" class="blob-num js-line-number" data-line-number="3520"></td>
        <td id="LC3520" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ctr=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude centers of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3521" class="blob-num js-line-number" data-line-number="3521"></td>
        <td id="LC3521" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ntf=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude interfaces of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3522" class="blob-num js-line-number" data-line-number="3522"></td>
        <td id="LC3522" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3523" class="blob-num js-line-number" data-line-number="3523"></td>
        <td id="LC3523" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> area_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Exact sum of area */</span></td>
      </tr>
      <tr>
        <td id="L3524" class="blob-num js-line-number" data-line-number="3524"></td>
        <td id="LC3524" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_crv; <span class="pl-c">/* [dgr] Latitudinal  curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L3525" class="blob-num js-line-number" data-line-number="3525"></td>
        <td id="LC3525" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_crv; <span class="pl-c">/* [dgr] Longitudinal curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L3526" class="blob-num js-line-number" data-line-number="3526"></td>
        <td id="LC3526" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_nrt; <span class="pl-c">/* [dgr] Latitude of northern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3527" class="blob-num js-line-number" data-line-number="3527"></td>
        <td id="LC3527" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_sth; <span class="pl-c">/* [dgr] Latitude of southern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3528" class="blob-num js-line-number" data-line-number="3528"></td>
        <td id="LC3528" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Actual sum of quadrature weights */</span></td>
      </tr>
      <tr>
        <td id="L3529" class="blob-num js-line-number" data-line-number="3529"></td>
        <td id="LC3529" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_gss; <span class="pl-c">/* [frc] Latitude weight estimated from interface latitudes */</span></td>
      </tr>
      <tr>
        <td id="L3530" class="blob-num js-line-number" data-line-number="3530"></td>
        <td id="LC3530" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_est; <span class="pl-c">/* [dgr] Longitude of eastern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3531" class="blob-num js-line-number" data-line-number="3531"></td>
        <td id="LC3531" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_wst; <span class="pl-c">/* [dgr] Longitude of western edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3532" class="blob-num js-line-number" data-line-number="3532"></td>
        <td id="LC3532" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_ncr; <span class="pl-c">/* [dgr] Longitude increment */</span></td>
      </tr>
      <tr>
        <td id="L3533" class="blob-num js-line-number" data-line-number="3533"></td>
        <td id="LC3533" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_ncr; <span class="pl-c">/* [dgr] Latitude increment */</span></td>
      </tr>
      <tr>
        <td id="L3534" class="blob-num js-line-number" data-line-number="3534"></td>
        <td id="LC3534" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_spn; <span class="pl-c">/* [dgr] Longitude span */</span></td>
      </tr>
      <tr>
        <td id="L3535" class="blob-num js-line-number" data-line-number="3535"></td>
        <td id="LC3535" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_spn; <span class="pl-c">/* [dgr] Latitude span */</span></td>
      </tr>
      <tr>
        <td id="L3536" class="blob-num js-line-number" data-line-number="3536"></td>
        <td id="LC3536" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *wgt_Gss=<span class="pl-c1">NULL</span>; <span class="pl-c">// [frc] Gaussian weights double precision</span></td>
      </tr>
      <tr>
        <td id="L3537" class="blob-num js-line-number" data-line-number="3537"></td>
        <td id="LC3537" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3538" class="blob-num js-line-number" data-line-number="3538"></td>
        <td id="LC3538" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *msk=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [flg] Mask of grid */</span></td>
      </tr>
      <tr>
        <td id="L3539" class="blob-num js-line-number" data-line-number="3539"></td>
        <td id="LC3539" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_sz_int; <span class="pl-c">/* [nbr] Array of dimension sizes of grid */</span></td>
      </tr>
      <tr>
        <td id="L3540" class="blob-num js-line-number" data-line-number="3540"></td>
        <td id="LC3540" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3541" class="blob-num js-line-number" data-line-number="3541"></td>
        <td id="LC3541" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_ids[dmn_nbr_grd_max]; <span class="pl-c">/* [id] Dimension IDs array for output variable */</span></td>
      </tr>
      <tr>
        <td id="L3542" class="blob-num js-line-number" data-line-number="3542"></td>
        <td id="LC3542" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3543" class="blob-num js-line-number" data-line-number="3543"></td>
        <td id="LC3543" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> fl_out_fmt=NC_FORMAT_CLASSIC; <span class="pl-c">/* [enm] Output file format */</span></td>
      </tr>
      <tr>
        <td id="L3544" class="blob-num js-line-number" data-line-number="3544"></td>
        <td id="LC3544" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> out_id; <span class="pl-c">/* I [id] Output netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L3545" class="blob-num js-line-number" data-line-number="3545"></td>
        <td id="LC3545" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rcd=NC_NOERR;</td>
      </tr>
      <tr>
        <td id="L3546" class="blob-num js-line-number" data-line-number="3546"></td>
        <td id="LC3546" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3547" class="blob-num js-line-number" data-line-number="3547"></td>
        <td id="LC3547" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> area_id; <span class="pl-c">/* [id] Area variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3548" class="blob-num js-line-number" data-line-number="3548"></td>
        <td id="LC3548" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_crn; <span class="pl-c">/* [id] Grid corners dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L3549" class="blob-num js-line-number" data-line-number="3549"></td>
        <td id="LC3549" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_rnk; <span class="pl-c">/* [id] Grid rank dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L3550" class="blob-num js-line-number" data-line-number="3550"></td>
        <td id="LC3550" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_sz; <span class="pl-c">/* [id] Grid size dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L3551" class="blob-num js-line-number" data-line-number="3551"></td>
        <td id="LC3551" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_sz_int_id; <span class="pl-c">/* [id] Grid dimension sizes ID */</span></td>
      </tr>
      <tr>
        <td id="L3552" class="blob-num js-line-number" data-line-number="3552"></td>
        <td id="LC3552" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_crn_lat_id; <span class="pl-c">/* [id] Grid corner latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3553" class="blob-num js-line-number" data-line-number="3553"></td>
        <td id="LC3553" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_crn_lon_id; <span class="pl-c">/* [id] Grid corner longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3554" class="blob-num js-line-number" data-line-number="3554"></td>
        <td id="LC3554" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_ctr_lat_id; <span class="pl-c">/* [id] Grid center latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3555" class="blob-num js-line-number" data-line-number="3555"></td>
        <td id="LC3555" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_ctr_lon_id; <span class="pl-c">/* [id] Grid center longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3556" class="blob-num js-line-number" data-line-number="3556"></td>
        <td id="LC3556" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> itr_cnt; <span class="pl-c">/* Iteration counter */</span></td>
      </tr>
      <tr>
        <td id="L3557" class="blob-num js-line-number" data-line-number="3557"></td>
        <td id="LC3557" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> msk_id; <span class="pl-c">/* [id] Mask variable ID */</span></td>
      </tr>
      <tr>
        <td id="L3558" class="blob-num js-line-number" data-line-number="3558"></td>
        <td id="LC3558" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3559" class="blob-num js-line-number" data-line-number="3559"></td>
        <td id="LC3559" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_srt[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L3560" class="blob-num js-line-number" data-line-number="3560"></td>
        <td id="LC3560" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_cnt[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L3561" class="blob-num js-line-number" data-line-number="3561"></td>
        <td id="LC3561" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3562" class="blob-num js-line-number" data-line-number="3562"></td>
        <td id="LC3562" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> bnd_nbr; <span class="pl-c">/* [nbr] Number of bounds in gridcell */</span></td>
      </tr>
      <tr>
        <td id="L3563" class="blob-num js-line-number" data-line-number="3563"></td>
        <td id="LC3563" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> col_nbr; <span class="pl-c">/* [nbr] Number of columns in grid */</span></td>
      </tr>
      <tr>
        <td id="L3564" class="blob-num js-line-number" data-line-number="3564"></td>
        <td id="LC3564" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> crn_idx; <span class="pl-c">/* [idx] Counting index for corners */</span></td>
      </tr>
      <tr>
        <td id="L3565" class="blob-num js-line-number" data-line-number="3565"></td>
        <td id="LC3565" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_crn_nbr; <span class="pl-c">/* [nbr] Number of corners in gridcell */</span></td>
      </tr>
      <tr>
        <td id="L3566" class="blob-num js-line-number" data-line-number="3566"></td>
        <td id="LC3566" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_rnk_nbr; <span class="pl-c">/* [nbr] Number of dimensions in grid */</span></td>
      </tr>
      <tr>
        <td id="L3567" class="blob-num js-line-number" data-line-number="3567"></td>
        <td id="LC3567" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_sz_nbr; <span class="pl-c">/* [nbr] Number of gridcells in grid */</span></td>
      </tr>
      <tr>
        <td id="L3568" class="blob-num js-line-number" data-line-number="3568"></td>
        <td id="LC3568" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx2; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L3569" class="blob-num js-line-number" data-line-number="3569"></td>
        <td id="LC3569" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L3570" class="blob-num js-line-number" data-line-number="3570"></td>
        <td id="LC3570" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_idx2; <span class="pl-c">/* [idx] Counting index for unrolled latitude */</span></td>
      </tr>
      <tr>
        <td id="L3571" class="blob-num js-line-number" data-line-number="3571"></td>
        <td id="LC3571" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_idx;</td>
      </tr>
      <tr>
        <td id="L3572" class="blob-num js-line-number" data-line-number="3572"></td>
        <td id="LC3572" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_nbr; <span class="pl-c">/* [nbr] Number of latitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L3573" class="blob-num js-line-number" data-line-number="3573"></td>
        <td id="LC3573" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_idx2; <span class="pl-c">/* [idx] Counting index for unrolled longitude */</span></td>
      </tr>
      <tr>
        <td id="L3574" class="blob-num js-line-number" data-line-number="3574"></td>
        <td id="LC3574" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_idx;</td>
      </tr>
      <tr>
        <td id="L3575" class="blob-num js-line-number" data-line-number="3575"></td>
        <td id="LC3575" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_nbr; <span class="pl-c">/* [nbr] Number of longitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L3576" class="blob-num js-line-number" data-line-number="3576"></td>
        <td id="LC3576" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3577" class="blob-num js-line-number" data-line-number="3577"></td>
        <td id="LC3577" class="blob-code blob-code-inner js-file-line">  nco_bool FORCE_APPEND=False; <span class="pl-c">/* Option A */</span></td>
      </tr>
      <tr>
        <td id="L3578" class="blob-num js-line-number" data-line-number="3578"></td>
        <td id="LC3578" class="blob-code blob-code-inner js-file-line">  nco_bool FORCE_OVERWRITE=True; <span class="pl-c">/* Option O */</span></td>
      </tr>
      <tr>
        <td id="L3579" class="blob-num js-line-number" data-line-number="3579"></td>
        <td id="LC3579" class="blob-code blob-code-inner js-file-line">  nco_bool RAM_CREATE=False; <span class="pl-c">/* [flg] Create file in RAM */</span></td>
      </tr>
      <tr>
        <td id="L3580" class="blob-num js-line-number" data-line-number="3580"></td>
        <td id="LC3580" class="blob-code blob-code-inner js-file-line">  nco_bool RAM_OPEN=False; <span class="pl-c">/* [flg] Open (netCDF3-only) file(s) in RAM */</span></td>
      </tr>
      <tr>
        <td id="L3581" class="blob-num js-line-number" data-line-number="3581"></td>
        <td id="LC3581" class="blob-code blob-code-inner js-file-line">  nco_bool WRT_TMP_FL=False; <span class="pl-c">/* [flg] Write output to temporary file */</span></td>
      </tr>
      <tr>
        <td id="L3582" class="blob-num js-line-number" data-line-number="3582"></td>
        <td id="LC3582" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_1D=False;</td>
      </tr>
      <tr>
        <td id="L3583" class="blob-num js-line-number" data-line-number="3583"></td>
        <td id="LC3583" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_2D=False;</td>
      </tr>
      <tr>
        <td id="L3584" class="blob-num js-line-number" data-line-number="3584"></td>
        <td id="LC3584" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_crv=False;</td>
      </tr>
      <tr>
        <td id="L3585" class="blob-num js-line-number" data-line-number="3585"></td>
        <td id="LC3585" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3586" class="blob-num js-line-number" data-line-number="3586"></td>
        <td id="LC3586" class="blob-code blob-code-inner js-file-line">  nco_grd_2D_typ_enm grd_typ; <span class="pl-c">/* [enm] Grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3587" class="blob-num js-line-number" data-line-number="3587"></td>
        <td id="LC3587" class="blob-code blob-code-inner js-file-line">  nco_grd_lat_typ_enm lat_typ; <span class="pl-c">/* [enm] Latitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3588" class="blob-num js-line-number" data-line-number="3588"></td>
        <td id="LC3588" class="blob-code blob-code-inner js-file-line">  nco_grd_lon_typ_enm lon_typ; <span class="pl-c">/* [enm] Longitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L3589" class="blob-num js-line-number" data-line-number="3589"></td>
        <td id="LC3589" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3590" class="blob-num js-line-number" data-line-number="3590"></td>
        <td id="LC3590" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> bfr_sz_hnt=NC_SIZEHINT_DEFAULT; <span class="pl-c">/* [B] Buffer size hint */</span></td>
      </tr>
      <tr>
        <td id="L3591" class="blob-num js-line-number" data-line-number="3591"></td>
        <td id="LC3591" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3592" class="blob-num js-line-number" data-line-number="3592"></td>
        <td id="LC3592" class="blob-code blob-code-inner js-file-line">  grd_typ=rgr-&gt;grd_typ; <span class="pl-c">/* [enm] Grid type */</span></td>
      </tr>
      <tr>
        <td id="L3593" class="blob-num js-line-number" data-line-number="3593"></td>
        <td id="LC3593" class="blob-code blob-code-inner js-file-line">  fl_out=rgr-&gt;fl_grd;</td>
      </tr>
      <tr>
        <td id="L3594" class="blob-num js-line-number" data-line-number="3594"></td>
        <td id="LC3594" class="blob-code blob-code-inner js-file-line">  lat_typ=rgr-&gt;lat_typ; <span class="pl-c">/* [enm] Latitude grid type */</span></td>
      </tr>
      <tr>
        <td id="L3595" class="blob-num js-line-number" data-line-number="3595"></td>
        <td id="LC3595" class="blob-code blob-code-inner js-file-line">  lon_typ=rgr-&gt;lon_typ; <span class="pl-c">/* [enm] Longitude grid type */</span></td>
      </tr>
      <tr>
        <td id="L3596" class="blob-num js-line-number" data-line-number="3596"></td>
        <td id="LC3596" class="blob-code blob-code-inner js-file-line">  lat_nbr=rgr-&gt;lat_nbr; <span class="pl-c">/* [nbr] Number of latitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L3597" class="blob-num js-line-number" data-line-number="3597"></td>
        <td id="LC3597" class="blob-code blob-code-inner js-file-line">  lon_nbr=rgr-&gt;lon_nbr; <span class="pl-c">/* [nbr] Number of longitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L3598" class="blob-num js-line-number" data-line-number="3598"></td>
        <td id="LC3598" class="blob-code blob-code-inner js-file-line">  lat_crv=rgr-&gt;lat_crv; <span class="pl-c">/* [dgr] Latitude  curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L3599" class="blob-num js-line-number" data-line-number="3599"></td>
        <td id="LC3599" class="blob-code blob-code-inner js-file-line">  lon_crv=rgr-&gt;lon_crv; <span class="pl-c">/* [dgr] Longitude curvilinearity */</span></td>
      </tr>
      <tr>
        <td id="L3600" class="blob-num js-line-number" data-line-number="3600"></td>
        <td id="LC3600" class="blob-code blob-code-inner js-file-line">  lat_sth=rgr-&gt;lat_sth; <span class="pl-c">/* [dgr] Latitude of southern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3601" class="blob-num js-line-number" data-line-number="3601"></td>
        <td id="LC3601" class="blob-code blob-code-inner js-file-line">  lon_wst=rgr-&gt;lon_wst; <span class="pl-c">/* [dgr] Longitude of western edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3602" class="blob-num js-line-number" data-line-number="3602"></td>
        <td id="LC3602" class="blob-code blob-code-inner js-file-line">  lat_nrt=rgr-&gt;lat_nrt; <span class="pl-c">/* [dgr] Latitude of northern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3603" class="blob-num js-line-number" data-line-number="3603"></td>
        <td id="LC3603" class="blob-code blob-code-inner js-file-line">  lon_est=rgr-&gt;lon_est; <span class="pl-c">/* [dgr] Longitude of eastern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L3604" class="blob-num js-line-number" data-line-number="3604"></td>
        <td id="LC3604" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3605" class="blob-num js-line-number" data-line-number="3605"></td>
        <td id="LC3605" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use curvilinear coordinates (lat and lon are 2D arrays) if flg_crv already set or it lat_crv or lon_crv set */</span></td>
      </tr>
      <tr>
        <td id="L3606" class="blob-num js-line-number" data-line-number="3606"></td>
        <td id="LC3606" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_crv != <span class="pl-c1">0.0</span> || lon_crv != <span class="pl-c1">0.0</span> || rgr-&gt;flg_crv) flg_grd_crv=True;</td>
      </tr>
      <tr>
        <td id="L3607" class="blob-num js-line-number" data-line-number="3607"></td>
        <td id="LC3607" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3608" class="blob-num js-line-number" data-line-number="3608"></td>
        <td id="LC3608" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Assume 2D grid */</span></td>
      </tr>
      <tr>
        <td id="L3609" class="blob-num js-line-number" data-line-number="3609"></td>
        <td id="LC3609" class="blob-code blob-code-inner js-file-line">  flg_grd_2D=True;</td>
      </tr>
      <tr>
        <td id="L3610" class="blob-num js-line-number" data-line-number="3610"></td>
        <td id="LC3610" class="blob-code blob-code-inner js-file-line">  grd_rnk_nbr=dmn_nbr_2D;</td>
      </tr>
      <tr>
        <td id="L3611" class="blob-num js-line-number" data-line-number="3611"></td>
        <td id="LC3611" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Assume quadrilaterals */</span></td>
      </tr>
      <tr>
        <td id="L3612" class="blob-num js-line-number" data-line-number="3612"></td>
        <td id="LC3612" class="blob-code blob-code-inner js-file-line">  grd_crn_nbr=<span class="pl-c1">4</span>;</td>
      </tr>
      <tr>
        <td id="L3613" class="blob-num js-line-number" data-line-number="3613"></td>
        <td id="LC3613" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Assume rectangles */</span></td>
      </tr>
      <tr>
        <td id="L3614" class="blob-num js-line-number" data-line-number="3614"></td>
        <td id="LC3614" class="blob-code blob-code-inner js-file-line">  bnd_nbr=<span class="pl-c1">2</span>;</td>
      </tr>
      <tr>
        <td id="L3615" class="blob-num js-line-number" data-line-number="3615"></td>
        <td id="LC3615" class="blob-code blob-code-inner js-file-line">  col_nbr=lat_nbr*lon_nbr;</td>
      </tr>
      <tr>
        <td id="L3616" class="blob-num js-line-number" data-line-number="3616"></td>
        <td id="LC3616" class="blob-code blob-code-inner js-file-line">  grd_sz_nbr=lat_nbr*lon_nbr;</td>
      </tr>
      <tr>
        <td id="L3617" class="blob-num js-line-number" data-line-number="3617"></td>
        <td id="LC3617" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3618" class="blob-num js-line-number" data-line-number="3618"></td>
        <td id="LC3618" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space for output data */</span></td>
      </tr>
      <tr>
        <td id="L3619" class="blob-num js-line-number" data-line-number="3619"></td>
        <td id="LC3619" class="blob-code blob-code-inner js-file-line">  area=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3620" class="blob-num js-line-number" data-line-number="3620"></td>
        <td id="LC3620" class="blob-code blob-code-inner js-file-line">  dmn_sz_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(grd_rnk_nbr*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L3621" class="blob-num js-line-number" data-line-number="3621"></td>
        <td id="LC3621" class="blob-code blob-code-inner js-file-line">  msk=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L3622" class="blob-num js-line-number" data-line-number="3622"></td>
        <td id="LC3622" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3623" class="blob-num js-line-number" data-line-number="3623"></td>
        <td id="LC3623" class="blob-code blob-code-inner js-file-line">  lat_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3624" class="blob-num js-line-number" data-line-number="3624"></td>
        <td id="LC3624" class="blob-code blob-code-inner js-file-line">  lat_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3625" class="blob-num js-line-number" data-line-number="3625"></td>
        <td id="LC3625" class="blob-code blob-code-inner js-file-line">  lat_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3626" class="blob-num js-line-number" data-line-number="3626"></td>
        <td id="LC3626" class="blob-code blob-code-inner js-file-line">  lat_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3627" class="blob-num js-line-number" data-line-number="3627"></td>
        <td id="LC3627" class="blob-code blob-code-inner js-file-line">  lat_wgt=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3628" class="blob-num js-line-number" data-line-number="3628"></td>
        <td id="LC3628" class="blob-code blob-code-inner js-file-line">  lon_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3629" class="blob-num js-line-number" data-line-number="3629"></td>
        <td id="LC3629" class="blob-code blob-code-inner js-file-line">  lon_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3630" class="blob-num js-line-number" data-line-number="3630"></td>
        <td id="LC3630" class="blob-code blob-code-inner js-file-line">  lon_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3631" class="blob-num js-line-number" data-line-number="3631"></td>
        <td id="LC3631" class="blob-code blob-code-inner js-file-line">  lon_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lon_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3632" class="blob-num js-line-number" data-line-number="3632"></td>
        <td id="LC3632" class="blob-code blob-code-inner js-file-line">  wgt_Gss=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3633" class="blob-num js-line-number" data-line-number="3633"></td>
        <td id="LC3633" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3634" class="blob-num js-line-number" data-line-number="3634"></td>
        <td id="LC3634" class="blob-code blob-code-inner js-file-line">  grd_ctr_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3635" class="blob-num js-line-number" data-line-number="3635"></td>
        <td id="LC3635" class="blob-code blob-code-inner js-file-line">  grd_ctr_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3636" class="blob-num js-line-number" data-line-number="3636"></td>
        <td id="LC3636" class="blob-code blob-code-inner js-file-line">  grd_crn_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_crn_nbr*grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3637" class="blob-num js-line-number" data-line-number="3637"></td>
        <td id="LC3637" class="blob-code blob-code-inner js-file-line">  grd_crn_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_crn_nbr*grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L3638" class="blob-num js-line-number" data-line-number="3638"></td>
        <td id="LC3638" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3639" class="blob-num js-line-number" data-line-number="3639"></td>
        <td id="LC3639" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define variable values */</span></td>
      </tr>
      <tr>
        <td id="L3640" class="blob-num js-line-number" data-line-number="3640"></td>
        <td id="LC3640" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_psn; <span class="pl-c">/* [idx] Ordinal position of longitude size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3641" class="blob-num js-line-number" data-line-number="3641"></td>
        <td id="LC3641" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_psn; <span class="pl-c">/* [idx] Ordinal position of latitude  size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L3642" class="blob-num js-line-number" data-line-number="3642"></td>
        <td id="LC3642" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_rnk_nbr == dmn_nbr_2D){</td>
      </tr>
      <tr>
        <td id="L3643" class="blob-num js-line-number" data-line-number="3643"></td>
        <td id="LC3643" class="blob-code blob-code-inner js-file-line">    lon_psn=<span class="pl-c1">0</span>; <span class="pl-c">/* SCRIP introduced [lon,lat] convention because more natural for Fortran */</span></td>
      </tr>
      <tr>
        <td id="L3644" class="blob-num js-line-number" data-line-number="3644"></td>
        <td id="LC3644" class="blob-code blob-code-inner js-file-line">    lat_psn=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L3645" class="blob-num js-line-number" data-line-number="3645"></td>
        <td id="LC3645" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_in_2D */</span></td>
      </tr>
      <tr>
        <td id="L3646" class="blob-num js-line-number" data-line-number="3646"></td>
        <td id="LC3646" class="blob-code blob-code-inner js-file-line">  dmn_sz_int[lon_psn]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L3647" class="blob-num js-line-number" data-line-number="3647"></td>
        <td id="LC3647" class="blob-code blob-code-inner js-file-line">  dmn_sz_int[lat_psn]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L3648" class="blob-num js-line-number" data-line-number="3648"></td>
        <td id="LC3648" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3649" class="blob-num js-line-number" data-line-number="3649"></td>
        <td id="LC3649" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++) msk[idx]=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L3650" class="blob-num js-line-number" data-line-number="3650"></td>
        <td id="LC3650" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3651" class="blob-num js-line-number" data-line-number="3651"></td>
        <td id="LC3651" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Compute rectangular arrays</span></td>
      </tr>
      <tr>
        <td id="L3652" class="blob-num js-line-number" data-line-number="3652"></td>
        <td id="LC3652" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NB: Much is a more-generic rewrite of map/map_grd.F90:map_grd_mk() */</span></td>
      </tr>
      <tr>
        <td id="L3653" class="blob-num js-line-number" data-line-number="3653"></td>
        <td id="LC3653" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3654" class="blob-num js-line-number" data-line-number="3654"></td>
        <td id="LC3654" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* 20150827: </span></td>
      </tr>
      <tr>
        <td id="L3655" class="blob-num js-line-number" data-line-number="3655"></td>
        <td id="LC3655" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Old rule: Longitude grid was entirely specified by one of four longitude map tokens: Grn_ctr,Grn_wst,180_ctr,180_wst</span></td>
      </tr>
      <tr>
        <td id="L3656" class="blob-num js-line-number" data-line-number="3656"></td>
        <td id="LC3656" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     New rule: User may specify bounds (lon_wst,lon_est,lat_sth,lat_nrt) independently of grid token</span></td>
      </tr>
      <tr>
        <td id="L3657" class="blob-num js-line-number" data-line-number="3657"></td>
        <td id="LC3657" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Such bounds ALWAYS refer bounding box interface edges, NEVER to centers of first last gridcells</span></td>
      </tr>
      <tr>
        <td id="L3658" class="blob-num js-line-number" data-line-number="3658"></td>
        <td id="LC3658" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Bounds and number of gridcells completely determine uniform grid so former longitude-type tokens have no effect when bounds specified (so letting grid-type tokens affect grid would over-determine grid and lead to errors)</span></td>
      </tr>
      <tr>
        <td id="L3659" class="blob-num js-line-number" data-line-number="3659"></td>
        <td id="LC3659" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Hence, grid-type tokens may be used as short-hand to specify grids but may not be required to exist later (because regional grids would not have specified them)</span></td>
      </tr>
      <tr>
        <td id="L3660" class="blob-num js-line-number" data-line-number="3660"></td>
        <td id="LC3660" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Grid grid-type tokens lon_bb/lat_bb imply bounding box was originally used to specify bounds</span></td>
      </tr>
      <tr>
        <td id="L3661" class="blob-num js-line-number" data-line-number="3661"></td>
        <td id="LC3661" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1x1 degree global grid with first longitude centered at Greenwich:</span></td>
      </tr>
      <tr>
        <td id="L3662" class="blob-num js-line-number" data-line-number="3662"></td>
        <td id="LC3662" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=360 --lon_typ Grn_ctr</span></td>
      </tr>
      <tr>
        <td id="L3663" class="blob-num js-line-number" data-line-number="3663"></td>
        <td id="LC3663" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=360 --lon_wst=-0.5 --lon_est=359.5</span></td>
      </tr>
      <tr>
        <td id="L3664" class="blob-num js-line-number" data-line-number="3664"></td>
        <td id="LC3664" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1x1 degree global grid with Greenwich at west edge of first longitude:</span></td>
      </tr>
      <tr>
        <td id="L3665" class="blob-num js-line-number" data-line-number="3665"></td>
        <td id="LC3665" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=360 --lon_typ Grn_wst</span></td>
      </tr>
      <tr>
        <td id="L3666" class="blob-num js-line-number" data-line-number="3666"></td>
        <td id="LC3666" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=360 --lon_wst=0.0 --lon_est=360.0</span></td>
      </tr>
      <tr>
        <td id="L3667" class="blob-num js-line-number" data-line-number="3667"></td>
        <td id="LC3667" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1x1 degree regional grid, total size 9x9 degrees, Greenwich at center of middle gridcell:</span></td>
      </tr>
      <tr>
        <td id="L3668" class="blob-num js-line-number" data-line-number="3668"></td>
        <td id="LC3668" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=9 --lon_wst=-4.5 --lon_est=4.5</span></td>
      </tr>
      <tr>
        <td id="L3669" class="blob-num js-line-number" data-line-number="3669"></td>
        <td id="LC3669" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     1x1 degree regional grid, total size 10x10 degrees, Greenwich at east/west edges of middle two gridcells</span></td>
      </tr>
      <tr>
        <td id="L3670" class="blob-num js-line-number" data-line-number="3670"></td>
        <td id="LC3670" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     --lon_nbr=10 --lon_wst=-5.0 --lon_est=5.0 */</span></td>
      </tr>
      <tr>
        <td id="L3671" class="blob-num js-line-number" data-line-number="3671"></td>
        <td id="LC3671" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3672" class="blob-num js-line-number" data-line-number="3672"></td>
        <td id="LC3672" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Were east/west longitude bounds set explicitly or implicitly?</span></td>
      </tr>
      <tr>
        <td id="L3673" class="blob-num js-line-number" data-line-number="3673"></td>
        <td id="LC3673" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     NB: This is redundant since it was done in nco_rgr_ini(), but better safe than sorry */</span></td>
      </tr>
      <tr>
        <td id="L3674" class="blob-num js-line-number" data-line-number="3674"></td>
        <td id="LC3674" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_wst != NC_MAX_DOUBLE || lon_est != NC_MAX_DOUBLE) lon_typ=rgr-&gt;lon_typ=nco_grd_lon_bb;</td>
      </tr>
      <tr>
        <td id="L3675" class="blob-num js-line-number" data-line-number="3675"></td>
        <td id="LC3675" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3676" class="blob-num js-line-number" data-line-number="3676"></td>
        <td id="LC3676" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_wst == NC_MAX_DOUBLE){</td>
      </tr>
      <tr>
        <td id="L3677" class="blob-num js-line-number" data-line-number="3677"></td>
        <td id="LC3677" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Precomputed longitude grids begin with longitude 0.0 or -180.0 degrees */</span></td>
      </tr>
      <tr>
        <td id="L3678" class="blob-num js-line-number" data-line-number="3678"></td>
        <td id="LC3678" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(lon_typ){</td>
      </tr>
      <tr>
        <td id="L3679" class="blob-num js-line-number" data-line-number="3679"></td>
        <td id="LC3679" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_bb:</td>
      </tr>
      <tr>
        <td id="L3680" class="blob-num js-line-number" data-line-number="3680"></td>
        <td id="LC3680" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_Grn_ctr:</td>
      </tr>
      <tr>
        <td id="L3681" class="blob-num js-line-number" data-line-number="3681"></td>
        <td id="LC3681" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_Grn_wst:</td>
      </tr>
      <tr>
        <td id="L3682" class="blob-num js-line-number" data-line-number="3682"></td>
        <td id="LC3682" class="blob-code blob-code-inner js-file-line">      lon_wst=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L3683" class="blob-num js-line-number" data-line-number="3683"></td>
        <td id="LC3683" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3684" class="blob-num js-line-number" data-line-number="3684"></td>
        <td id="LC3684" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_180_ctr:</td>
      </tr>
      <tr>
        <td id="L3685" class="blob-num js-line-number" data-line-number="3685"></td>
        <td id="LC3685" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_180_wst:</td>
      </tr>
      <tr>
        <td id="L3686" class="blob-num js-line-number" data-line-number="3686"></td>
        <td id="LC3686" class="blob-code blob-code-inner js-file-line">      lon_wst=-<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L3687" class="blob-num js-line-number" data-line-number="3687"></td>
        <td id="LC3687" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3688" class="blob-num js-line-number" data-line-number="3688"></td>
        <td id="LC3688" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L3689" class="blob-num js-line-number" data-line-number="3689"></td>
        <td id="LC3689" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3690" class="blob-num js-line-number" data-line-number="3690"></td>
        <td id="LC3690" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_typ */</span></td>
      </tr>
      <tr>
        <td id="L3691" class="blob-num js-line-number" data-line-number="3691"></td>
        <td id="LC3691" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L3692" class="blob-num js-line-number" data-line-number="3692"></td>
        <td id="LC3692" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3693" class="blob-num js-line-number" data-line-number="3693"></td>
        <td id="LC3693" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_est == NC_MAX_DOUBLE){</td>
      </tr>
      <tr>
        <td id="L3694" class="blob-num js-line-number" data-line-number="3694"></td>
        <td id="LC3694" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Precomputed longitude grids end with longitude 360.0 or 180.0 degrees */</span></td>
      </tr>
      <tr>
        <td id="L3695" class="blob-num js-line-number" data-line-number="3695"></td>
        <td id="LC3695" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(lon_typ){</td>
      </tr>
      <tr>
        <td id="L3696" class="blob-num js-line-number" data-line-number="3696"></td>
        <td id="LC3696" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_bb:</td>
      </tr>
      <tr>
        <td id="L3697" class="blob-num js-line-number" data-line-number="3697"></td>
        <td id="LC3697" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_Grn_ctr:</td>
      </tr>
      <tr>
        <td id="L3698" class="blob-num js-line-number" data-line-number="3698"></td>
        <td id="LC3698" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_Grn_wst:</td>
      </tr>
      <tr>
        <td id="L3699" class="blob-num js-line-number" data-line-number="3699"></td>
        <td id="LC3699" class="blob-code blob-code-inner js-file-line">      lon_est=<span class="pl-c1">360.0</span>;</td>
      </tr>
      <tr>
        <td id="L3700" class="blob-num js-line-number" data-line-number="3700"></td>
        <td id="LC3700" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3701" class="blob-num js-line-number" data-line-number="3701"></td>
        <td id="LC3701" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_180_ctr:</td>
      </tr>
      <tr>
        <td id="L3702" class="blob-num js-line-number" data-line-number="3702"></td>
        <td id="LC3702" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lon_180_wst:</td>
      </tr>
      <tr>
        <td id="L3703" class="blob-num js-line-number" data-line-number="3703"></td>
        <td id="LC3703" class="blob-code blob-code-inner js-file-line">      lon_est=<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L3704" class="blob-num js-line-number" data-line-number="3704"></td>
        <td id="LC3704" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3705" class="blob-num js-line-number" data-line-number="3705"></td>
        <td id="LC3705" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L3706" class="blob-num js-line-number" data-line-number="3706"></td>
        <td id="LC3706" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3707" class="blob-num js-line-number" data-line-number="3707"></td>
        <td id="LC3707" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_typ */</span></td>
      </tr>
      <tr>
        <td id="L3708" class="blob-num js-line-number" data-line-number="3708"></td>
        <td id="LC3708" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L3709" class="blob-num js-line-number" data-line-number="3709"></td>
        <td id="LC3709" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3710" class="blob-num js-line-number" data-line-number="3710"></td>
        <td id="LC3710" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Determine longitude increment from span of pre-centered bounding box (centering will not change span) */</span></td>
      </tr>
      <tr>
        <td id="L3711" class="blob-num js-line-number" data-line-number="3711"></td>
        <td id="LC3711" class="blob-code blob-code-inner js-file-line">  lon_spn=lon_est-lon_wst;</td>
      </tr>
      <tr>
        <td id="L3712" class="blob-num js-line-number" data-line-number="3712"></td>
        <td id="LC3712" class="blob-code blob-code-inner js-file-line">  lon_ncr=lon_spn/lon_nbr;</td>
      </tr>
      <tr>
        <td id="L3713" class="blob-num js-line-number" data-line-number="3713"></td>
        <td id="LC3713" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3714" class="blob-num js-line-number" data-line-number="3714"></td>
        <td id="LC3714" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Centering: If user did not set explicit longitude bounds then... */</span></td>
      </tr>
      <tr>
        <td id="L3715" class="blob-num js-line-number" data-line-number="3715"></td>
        <td id="LC3715" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_typ != nco_grd_lon_bb)</td>
      </tr>
      <tr>
        <td id="L3716" class="blob-num js-line-number" data-line-number="3716"></td>
        <td id="LC3716" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* map_lon_ctr_typ determines whether lon_wst refers to cell center or Western edge */</span></td>
      </tr>
      <tr>
        <td id="L3717" class="blob-num js-line-number" data-line-number="3717"></td>
        <td id="LC3717" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>((lon_typ == nco_grd_lon_Grn_ctr) || (lon_typ == nco_grd_lon_180_ctr)) lon_wst=lon_wst-(lon_ncr/<span class="pl-c1">2.0</span>);</td>
      </tr>
      <tr>
        <td id="L3718" class="blob-num js-line-number" data-line-number="3718"></td>
        <td id="LC3718" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3719" class="blob-num js-line-number" data-line-number="3719"></td>
        <td id="LC3719" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Re-derive lon_est from lon_wst and lon_nbr (more fundamental properties) */</span></td>
      </tr>
      <tr>
        <td id="L3720" class="blob-num js-line-number" data-line-number="3720"></td>
        <td id="LC3720" class="blob-code blob-code-inner js-file-line">  lon_est=lon_wst+lon_ncr*lon_nbr;</td>
      </tr>
      <tr>
        <td id="L3721" class="blob-num js-line-number" data-line-number="3721"></td>
        <td id="LC3721" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3722" class="blob-num js-line-number" data-line-number="3722"></td>
        <td id="LC3722" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* lon_wst and lon_est have been set and will not change */</span></td>
      </tr>
      <tr>
        <td id="L3723" class="blob-num js-line-number" data-line-number="3723"></td>
        <td id="LC3723" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(lon_wst &lt; lon_est);</td>
      </tr>
      <tr>
        <td id="L3724" class="blob-num js-line-number" data-line-number="3724"></td>
        <td id="LC3724" class="blob-code blob-code-inner js-file-line">  lon_ntf[<span class="pl-c1">0</span>]=lon_wst;</td>
      </tr>
      <tr>
        <td id="L3725" class="blob-num js-line-number" data-line-number="3725"></td>
        <td id="LC3725" class="blob-code blob-code-inner js-file-line">  lon_ntf[lon_nbr]=lon_est;</td>
      </tr>
      <tr>
        <td id="L3726" class="blob-num js-line-number" data-line-number="3726"></td>
        <td id="LC3726" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3727" class="blob-num js-line-number" data-line-number="3727"></td>
        <td id="LC3727" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">1</span>;lon_idx&lt;lon_nbr;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L3728" class="blob-num js-line-number" data-line-number="3728"></td>
        <td id="LC3728" class="blob-code blob-code-inner js-file-line">    lon_ntf[lon_idx]=lon_ntf[<span class="pl-c1">0</span>]+lon_idx*lon_ncr;</td>
      </tr>
      <tr>
        <td id="L3729" class="blob-num js-line-number" data-line-number="3729"></td>
        <td id="LC3729" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Ensure rounding errors do not produce unphysical grid */</span></td>
      </tr>
      <tr>
        <td id="L3730" class="blob-num js-line-number" data-line-number="3730"></td>
        <td id="LC3730" class="blob-code blob-code-inner js-file-line">  lon_ntf[lon_nbr]=lon_ntf[<span class="pl-c1">0</span>]+lon_spn;</td>
      </tr>
      <tr>
        <td id="L3731" class="blob-num js-line-number" data-line-number="3731"></td>
        <td id="LC3731" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3732" class="blob-num js-line-number" data-line-number="3732"></td>
        <td id="LC3732" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Finished with longitude, now tackle latitude */</span></td>
      </tr>
      <tr>
        <td id="L3733" class="blob-num js-line-number" data-line-number="3733"></td>
        <td id="LC3733" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3734" class="blob-num js-line-number" data-line-number="3734"></td>
        <td id="LC3734" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Were south/north latitude bounds set explicitly or implicitly? */</span></td>
      </tr>
      <tr>
        <td id="L3735" class="blob-num js-line-number" data-line-number="3735"></td>
        <td id="LC3735" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  if(lat_sth != NC_MAX_DOUBLE || lat_nrt != NC_MAX_DOUBLE) lon_typ=rgr-&gt;lat_typ=nco_grd_lat_bb;</span></td>
      </tr>
      <tr>
        <td id="L3736" class="blob-num js-line-number" data-line-number="3736"></td>
        <td id="LC3736" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_sth == NC_MAX_DOUBLE) lat_sth=-<span class="pl-c1">90.0</span>;</td>
      </tr>
      <tr>
        <td id="L3737" class="blob-num js-line-number" data-line-number="3737"></td>
        <td id="LC3737" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_nrt == NC_MAX_DOUBLE) lat_nrt=<span class="pl-c1">90.0</span>;</td>
      </tr>
      <tr>
        <td id="L3738" class="blob-num js-line-number" data-line-number="3738"></td>
        <td id="LC3738" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3739" class="blob-num js-line-number" data-line-number="3739"></td>
        <td id="LC3739" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Determine latitude increment from span of pre-centered bounding box (centering will not change span) */</span></td>
      </tr>
      <tr>
        <td id="L3740" class="blob-num js-line-number" data-line-number="3740"></td>
        <td id="LC3740" class="blob-code blob-code-inner js-file-line">  lat_spn=lat_nrt-lat_sth;</td>
      </tr>
      <tr>
        <td id="L3741" class="blob-num js-line-number" data-line-number="3741"></td>
        <td id="LC3741" class="blob-code blob-code-inner js-file-line">  lat_ncr=lat_spn/lat_nbr;</td>
      </tr>
      <tr>
        <td id="L3742" class="blob-num js-line-number" data-line-number="3742"></td>
        <td id="LC3742" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3743" class="blob-num js-line-number" data-line-number="3743"></td>
        <td id="LC3743" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_sin=<span class="pl-c1">NULL</span>; <span class="pl-c">// [frc] Sine of Gaussian latitudes double precision</span></td>
      </tr>
      <tr>
        <td id="L3744" class="blob-num js-line-number" data-line-number="3744"></td>
        <td id="LC3744" class="blob-code blob-code-inner js-file-line">  lat_ntf[<span class="pl-c1">0</span>]=lat_sth;</td>
      </tr>
      <tr>
        <td id="L3745" class="blob-num js-line-number" data-line-number="3745"></td>
        <td id="LC3745" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(lat_typ){</td>
      </tr>
      <tr>
        <td id="L3746" class="blob-num js-line-number" data-line-number="3746"></td>
        <td id="LC3746" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_fv:</td>
      </tr>
      <tr>
        <td id="L3747" class="blob-num js-line-number" data-line-number="3747"></td>
        <td id="LC3747" class="blob-code blob-code-inner js-file-line">    lat_ncr=lat_spn/(lat_nbr-<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="L3748" class="blob-num js-line-number" data-line-number="3748"></td>
        <td id="LC3748" class="blob-code blob-code-inner js-file-line">    lat_ntf[<span class="pl-c1">1</span>]=lat_ntf[<span class="pl-c1">0</span>]+<span class="pl-c1">0.5</span>*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L3749" class="blob-num js-line-number" data-line-number="3749"></td>
        <td id="LC3749" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">2</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3750" class="blob-num js-line-number" data-line-number="3750"></td>
        <td id="LC3750" class="blob-code blob-code-inner js-file-line">      lat_ntf[lat_idx]=lat_ntf[<span class="pl-c1">1</span>]+(lat_idx-<span class="pl-c1">1</span>)*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L3751" class="blob-num js-line-number" data-line-number="3751"></td>
        <td id="LC3751" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3752" class="blob-num js-line-number" data-line-number="3752"></td>
        <td id="LC3752" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_eqa:</td>
      </tr>
      <tr>
        <td id="L3753" class="blob-num js-line-number" data-line-number="3753"></td>
        <td id="LC3753" class="blob-code blob-code-inner js-file-line">    lat_ncr=lat_spn/lat_nbr;</td>
      </tr>
      <tr>
        <td id="L3754" class="blob-num js-line-number" data-line-number="3754"></td>
        <td id="LC3754" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3755" class="blob-num js-line-number" data-line-number="3755"></td>
        <td id="LC3755" class="blob-code blob-code-inner js-file-line">      lat_ntf[lat_idx]=lat_ntf[<span class="pl-c1">0</span>]+lat_idx*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L3756" class="blob-num js-line-number" data-line-number="3756"></td>
        <td id="LC3756" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3757" class="blob-num js-line-number" data-line-number="3757"></td>
        <td id="LC3757" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_gss:</td>
      </tr>
      <tr>
        <td id="L3758" class="blob-num js-line-number" data-line-number="3758"></td>
        <td id="LC3758" class="blob-code blob-code-inner js-file-line">    lat_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L3759" class="blob-num js-line-number" data-line-number="3759"></td>
        <td id="LC3759" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_lat_wgt_gss</span>(lat_nbr,lat_sin,wgt_Gss);</td>
      </tr>
      <tr>
        <td id="L3760" class="blob-num js-line-number" data-line-number="3760"></td>
        <td id="LC3760" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3761" class="blob-num js-line-number" data-line-number="3761"></td>
        <td id="LC3761" class="blob-code blob-code-inner js-file-line">      lat_ctr[lat_idx]=rdn2dgr*<span class="pl-c1">asin</span>(lat_sin[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L3762" class="blob-num js-line-number" data-line-number="3762"></td>
        <td id="LC3762" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* First guess for lat_ntf is midway between Gaussian abscissae */</span></td>
      </tr>
      <tr>
        <td id="L3763" class="blob-num js-line-number" data-line-number="3763"></td>
        <td id="LC3763" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3764" class="blob-num js-line-number" data-line-number="3764"></td>
        <td id="LC3764" class="blob-code blob-code-inner js-file-line">      lat_ntf[lat_idx]=<span class="pl-c1">0.5</span>*(lat_ctr[lat_idx-<span class="pl-c1">1</span>]+lat_ctr[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L3765" class="blob-num js-line-number" data-line-number="3765"></td>
        <td id="LC3765" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Iterate guess until area between interfaces matches Gaussian weight */</span></td>
      </tr>
      <tr>
        <td id="L3766" class="blob-num js-line-number" data-line-number="3766"></td>
        <td id="LC3766" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L3767" class="blob-num js-line-number" data-line-number="3767"></td>
        <td id="LC3767" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">double</span> fofx_at_x0; <span class="pl-c">/* [frc] Function to iterate evaluated at current guess */</span></td>
      </tr>
      <tr>
        <td id="L3768" class="blob-num js-line-number" data-line-number="3768"></td>
        <td id="LC3768" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">double</span> dfdx_at_x0; <span class="pl-c">/* [frc] Derivation of equation evaluated at current guess */</span></td>
      </tr>
      <tr>
        <td id="L3769" class="blob-num js-line-number" data-line-number="3769"></td>
        <td id="LC3769" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt_cnv=<span class="pl-c1">1.0e-15</span>; <span class="pl-c">// Convergence criterion (1.0e-16 pushes double precision to the brink)</span></td>
      </tr>
      <tr>
        <td id="L3770" class="blob-num js-line-number" data-line-number="3770"></td>
        <td id="LC3770" class="blob-code blob-code-inner js-file-line">      itr_cnt=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L3771" class="blob-num js-line-number" data-line-number="3771"></td>
        <td id="LC3771" class="blob-code blob-code-inner js-file-line">      lat_wgt_gss=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L3772" class="blob-num js-line-number" data-line-number="3772"></td>
        <td id="LC3772" class="blob-code blob-code-inner js-file-line">      fofx_at_x0=wgt_Gss[lat_idx-<span class="pl-c1">1</span>]-lat_wgt_gss;</td>
      </tr>
      <tr>
        <td id="L3773" class="blob-num js-line-number" data-line-number="3773"></td>
        <td id="LC3773" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">while</span>(<span class="pl-c1">fabs</span>(fofx_at_x0) &gt; eps_rlt_cnv){</td>
      </tr>
      <tr>
        <td id="L3774" class="blob-num js-line-number" data-line-number="3774"></td>
        <td id="LC3774" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Newton-Raphson iteration:</span></td>
      </tr>
      <tr>
        <td id="L3775" class="blob-num js-line-number" data-line-number="3775"></td>
        <td id="LC3775" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Let x=lat_ntf[lat_idx], y0=lat_ntf[lat_idx-1], gw = Gaussian weight (exact solution)</span></td>
      </tr>
      <tr>
        <td id="L3776" class="blob-num js-line-number" data-line-number="3776"></td>
        <td id="LC3776" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   f(x)=sin(dgr2rdn*x)-sin(dgr2rdn*y0)-gw=0 </span></td>
      </tr>
      <tr>
        <td id="L3777" class="blob-num js-line-number" data-line-number="3777"></td>
        <td id="LC3777" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   dfdx(x)=dgr2rdn*(dgr2rdn*x)</span></td>
      </tr>
      <tr>
        <td id="L3778" class="blob-num js-line-number" data-line-number="3778"></td>
        <td id="LC3778" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   x_better=x0-f(x0)/f&#39;(x0) */</span></td>
      </tr>
      <tr>
        <td id="L3779" class="blob-num js-line-number" data-line-number="3779"></td>
        <td id="LC3779" class="blob-code blob-code-inner js-file-line">	dfdx_at_x0=dgr2rdn*<span class="pl-c1">cos</span>(dgr2rdn*lat_ntf[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L3780" class="blob-num js-line-number" data-line-number="3780"></td>
        <td id="LC3780" class="blob-code blob-code-inner js-file-line">	lat_ntf[lat_idx]+=fofx_at_x0/dfdx_at_x0; <span class="pl-c">/* NB: not sure why this is minus not plus but it works :) */</span></td>
      </tr>
      <tr>
        <td id="L3781" class="blob-num js-line-number" data-line-number="3781"></td>
        <td id="LC3781" class="blob-code blob-code-inner js-file-line">	lat_wgt_gss=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L3782" class="blob-num js-line-number" data-line-number="3782"></td>
        <td id="LC3782" class="blob-code blob-code-inner js-file-line">	fofx_at_x0=wgt_Gss[lat_idx-<span class="pl-c1">1</span>]-lat_wgt_gss;</td>
      </tr>
      <tr>
        <td id="L3783" class="blob-num js-line-number" data-line-number="3783"></td>
        <td id="LC3783" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(++itr_cnt &gt; itr_nbr_max){</td>
      </tr>
      <tr>
        <td id="L3784" class="blob-num js-line-number" data-line-number="3784"></td>
        <td id="LC3784" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports no convergence in <span class="pl-c1">%d</span> iterations for lat_idx = <span class="pl-c1">%ld</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,itr_nbr_max,lat_idx);</td>
      </tr>
      <tr>
        <td id="L3785" class="blob-num js-line-number" data-line-number="3785"></td>
        <td id="LC3785" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L3786" class="blob-num js-line-number" data-line-number="3786"></td>
        <td id="LC3786" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L3787" class="blob-num js-line-number" data-line-number="3787"></td>
        <td id="LC3787" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !while */</span></td>
      </tr>
      <tr>
        <td id="L3788" class="blob-num js-line-number" data-line-number="3788"></td>
        <td id="LC3788" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L3789" class="blob-num js-line-number" data-line-number="3789"></td>
        <td id="LC3789" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3790" class="blob-num js-line-number" data-line-number="3790"></td>
        <td id="LC3790" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L3791" class="blob-num js-line-number" data-line-number="3791"></td>
        <td id="LC3791" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3792" class="blob-num js-line-number" data-line-number="3792"></td>
        <td id="LC3792" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_typ */</span></td>
      </tr>
      <tr>
        <td id="L3793" class="blob-num js-line-number" data-line-number="3793"></td>
        <td id="LC3793" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Ensure rounding errors do not produce unphysical grid */</span></td>
      </tr>
      <tr>
        <td id="L3794" class="blob-num js-line-number" data-line-number="3794"></td>
        <td id="LC3794" class="blob-code blob-code-inner js-file-line">  lat_ntf[lat_nbr]=lat_nrt;</td>
      </tr>
      <tr>
        <td id="L3795" class="blob-num js-line-number" data-line-number="3795"></td>
        <td id="LC3795" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3796" class="blob-num js-line-number" data-line-number="3796"></td>
        <td id="LC3796" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Always define longitude centers midway between interfaces */</span></td>
      </tr>
      <tr>
        <td id="L3797" class="blob-num js-line-number" data-line-number="3797"></td>
        <td id="LC3797" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;=lon_nbr-<span class="pl-c1">1</span>;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L3798" class="blob-num js-line-number" data-line-number="3798"></td>
        <td id="LC3798" class="blob-code blob-code-inner js-file-line">    lon_ctr[lon_idx]=<span class="pl-c1">0.5</span>*(lon_ntf[lon_idx]+lon_ntf[lon_idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L3799" class="blob-num js-line-number" data-line-number="3799"></td>
        <td id="LC3799" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3800" class="blob-num js-line-number" data-line-number="3800"></td>
        <td id="LC3800" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Many grids have center latitude equally spaced between interfaces */</span></td>
      </tr>
      <tr>
        <td id="L3801" class="blob-num js-line-number" data-line-number="3801"></td>
        <td id="LC3801" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3802" class="blob-num js-line-number" data-line-number="3802"></td>
        <td id="LC3802" class="blob-code blob-code-inner js-file-line">    lat_ctr[lat_idx]=<span class="pl-c1">0.5</span>*(lat_ntf[lat_idx]+lat_ntf[lat_idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L3803" class="blob-num js-line-number" data-line-number="3803"></td>
        <td id="LC3803" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3804" class="blob-num js-line-number" data-line-number="3804"></td>
        <td id="LC3804" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Cap grids excepted---they place centers of first/last gridcells at poles */</span></td>
      </tr>
      <tr>
        <td id="L3805" class="blob-num js-line-number" data-line-number="3805"></td>
        <td id="LC3805" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_typ == nco_grd_lat_fv){</td>
      </tr>
      <tr>
        <td id="L3806" class="blob-num js-line-number" data-line-number="3806"></td>
        <td id="LC3806" class="blob-code blob-code-inner js-file-line">    lat_ctr[<span class="pl-c1">0</span>]=lat_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L3807" class="blob-num js-line-number" data-line-number="3807"></td>
        <td id="LC3807" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr-<span class="pl-c1">1</span>;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3808" class="blob-num js-line-number" data-line-number="3808"></td>
        <td id="LC3808" class="blob-code blob-code-inner js-file-line">      lat_ctr[lat_idx]=<span class="pl-c1">0.5</span>*(lat_ntf[lat_idx]+lat_ntf[lat_idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L3809" class="blob-num js-line-number" data-line-number="3809"></td>
        <td id="LC3809" class="blob-code blob-code-inner js-file-line">    lat_ctr[lat_nbr-<span class="pl-c1">1</span>]=lat_ntf[lat_nbr];</td>
      </tr>
      <tr>
        <td id="L3810" class="blob-num js-line-number" data-line-number="3810"></td>
        <td id="LC3810" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !cap */</span></td>
      </tr>
      <tr>
        <td id="L3811" class="blob-num js-line-number" data-line-number="3811"></td>
        <td id="LC3811" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Gaussian grids centerpoints are defined by solutions to Legendre polynomials */</span></td>
      </tr>
      <tr>
        <td id="L3812" class="blob-num js-line-number" data-line-number="3812"></td>
        <td id="LC3812" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_typ == nco_grd_lat_gss){</td>
      </tr>
      <tr>
        <td id="L3813" class="blob-num js-line-number" data-line-number="3813"></td>
        <td id="LC3813" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3814" class="blob-num js-line-number" data-line-number="3814"></td>
        <td id="LC3814" class="blob-code blob-code-inner js-file-line">      lat_ctr[lat_idx]=rdn2dgr*<span class="pl-c1">asin</span>(lat_sin[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L3815" class="blob-num js-line-number" data-line-number="3815"></td>
        <td id="LC3815" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !Gaussian */</span></td>
      </tr>
      <tr>
        <td id="L3816" class="blob-num js-line-number" data-line-number="3816"></td>
        <td id="LC3816" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3817" class="blob-num js-line-number" data-line-number="3817"></td>
        <td id="LC3817" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L3818" class="blob-num js-line-number" data-line-number="3818"></td>
        <td id="LC3818" class="blob-code blob-code-inner js-file-line">    lon_bnd[<span class="pl-c1">2</span>*idx]=lon_ntf[idx];</td>
      </tr>
      <tr>
        <td id="L3819" class="blob-num js-line-number" data-line-number="3819"></td>
        <td id="LC3819" class="blob-code blob-code-inner js-file-line">    lon_bnd[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lon_ntf[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3820" class="blob-num js-line-number" data-line-number="3820"></td>
        <td id="LC3820" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end loop over longitude */</span></td>
      </tr>
      <tr>
        <td id="L3821" class="blob-num js-line-number" data-line-number="3821"></td>
        <td id="LC3821" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L3822" class="blob-num js-line-number" data-line-number="3822"></td>
        <td id="LC3822" class="blob-code blob-code-inner js-file-line">    lat_bnd[<span class="pl-c1">2</span>*idx]=lat_ntf[idx];</td>
      </tr>
      <tr>
        <td id="L3823" class="blob-num js-line-number" data-line-number="3823"></td>
        <td id="LC3823" class="blob-code blob-code-inner js-file-line">    lat_bnd[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lat_ntf[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3824" class="blob-num js-line-number" data-line-number="3824"></td>
        <td id="LC3824" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* end loop over latitude */</span></td>
      </tr>
      <tr>
        <td id="L3825" class="blob-num js-line-number" data-line-number="3825"></td>
        <td id="LC3825" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3826" class="blob-num js-line-number" data-line-number="3826"></td>
        <td id="LC3826" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L3827" class="blob-num js-line-number" data-line-number="3827"></td>
        <td id="LC3827" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L3828" class="blob-num js-line-number" data-line-number="3828"></td>
        <td id="LC3828" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, vertices = <span class="pl-pds">&quot;</span></span>,idx,lat_ctr[idx]);</td>
      </tr>
      <tr>
        <td id="L3829" class="blob-num js-line-number" data-line-number="3829"></td>
        <td id="LC3829" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(<span class="pl-k">int</span> bnd_idx=<span class="pl-c1">0</span>;bnd_idx&lt;bnd_nbr;bnd_idx++)</td>
      </tr>
      <tr>
        <td id="L3830" class="blob-num js-line-number" data-line-number="3830"></td>
        <td id="LC3830" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%g%s</span><span class="pl-pds">&quot;</span></span>,bnd_idx == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>[<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,lat_bnd[bnd_nbr*idx+bnd_idx],bnd_idx == bnd_nbr-<span class="pl-c1">1</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3831" class="blob-num js-line-number" data-line-number="3831"></td>
        <td id="LC3831" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L3832" class="blob-num js-line-number" data-line-number="3832"></td>
        <td id="LC3832" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L3833" class="blob-num js-line-number" data-line-number="3833"></td>
        <td id="LC3833" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3834" class="blob-num js-line-number" data-line-number="3834"></td>
        <td id="LC3834" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use centers and boundaries to diagnose latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L3835" class="blob-num js-line-number" data-line-number="3835"></td>
        <td id="LC3835" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">switch</span>(lat_typ){</td>
      </tr>
      <tr>
        <td id="L3836" class="blob-num js-line-number" data-line-number="3836"></td>
        <td id="LC3836" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_eqa:</td>
      </tr>
      <tr>
        <td id="L3837" class="blob-num js-line-number" data-line-number="3837"></td>
        <td id="LC3837" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_fv:</td>
      </tr>
      <tr>
        <td id="L3838" class="blob-num js-line-number" data-line-number="3838"></td>
        <td id="LC3838" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++) lat_wgt[lat_idx]=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L3839" class="blob-num js-line-number" data-line-number="3839"></td>
        <td id="LC3839" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3840" class="blob-num js-line-number" data-line-number="3840"></td>
        <td id="LC3840" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">case</span> nco_grd_lat_gss:</td>
      </tr>
      <tr>
        <td id="L3841" class="blob-num js-line-number" data-line-number="3841"></td>
        <td id="LC3841" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++) lat_wgt[lat_idx]=wgt_Gss[lat_idx];</td>
      </tr>
      <tr>
        <td id="L3842" class="blob-num js-line-number" data-line-number="3842"></td>
        <td id="LC3842" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3843" class="blob-num js-line-number" data-line-number="3843"></td>
        <td id="LC3843" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L3844" class="blob-num js-line-number" data-line-number="3844"></td>
        <td id="LC3844" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L3845" class="blob-num js-line-number" data-line-number="3845"></td>
        <td id="LC3845" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_typ */</span></td>
      </tr>
      <tr>
        <td id="L3846" class="blob-num js-line-number" data-line-number="3846"></td>
        <td id="LC3846" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3847" class="blob-num js-line-number" data-line-number="3847"></td>
        <td id="LC3847" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Fuzzy test of latitude weight normalization */</span></td>
      </tr>
      <tr>
        <td id="L3848" class="blob-num js-line-number" data-line-number="3848"></td>
        <td id="LC3848" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt_max=<span class="pl-c1">1.0e-14</span>; <span class="pl-c">/* [frc] Round-off error tolerance */</span></td>
      </tr>
      <tr>
        <td id="L3849" class="blob-num js-line-number" data-line-number="3849"></td>
        <td id="LC3849" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_ttl_xpc; <span class="pl-c">/* [frc] Expected sum of latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L3850" class="blob-num js-line-number" data-line-number="3850"></td>
        <td id="LC3850" class="blob-code blob-code-inner js-file-line">  lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L3851" class="blob-num js-line-number" data-line-number="3851"></td>
        <td id="LC3851" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++) lat_wgt_ttl+=lat_wgt[idx];</td>
      </tr>
      <tr>
        <td id="L3852" class="blob-num js-line-number" data-line-number="3852"></td>
        <td id="LC3852" class="blob-code blob-code-inner js-file-line">  lat_wgt_ttl_xpc=<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*(lat_nbr-<span class="pl-c1">1</span>)+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L3853" class="blob-num js-line-number" data-line-number="3853"></td>
        <td id="LC3853" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_typ != nco_grd_2D_unk &amp;&amp; <span class="pl-c1">1.0</span>-lat_wgt_ttl/lat_wgt_ttl_xpc &gt; eps_rlt_max){</td>
      </tr>
      <tr>
        <td id="L3854" class="blob-num js-line-number" data-line-number="3854"></td>
        <td id="LC3854" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports grid normalization does not meet precision tolerance eps_rlt_max = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span>lat_wgt_ttl = <span class="pl-c1">%20.15f</span>, lat_wgt_ttl_xpc = <span class="pl-c1">%20.15f</span>, lat_wgt_frc = <span class="pl-c1">%20.15f</span>, eps_rlt = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,eps_rlt_max,lat_wgt_ttl,lat_wgt_ttl_xpc,lat_wgt_ttl/lat_wgt_ttl_xpc,<span class="pl-c1">1.0</span>-lat_wgt_ttl/lat_wgt_ttl_xpc);</td>
      </tr>
      <tr>
        <td id="L3855" class="blob-num js-line-number" data-line-number="3855"></td>
        <td id="LC3855" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L3856" class="blob-num js-line-number" data-line-number="3856"></td>
        <td id="LC3856" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !imprecise */</span></td>
      </tr>
      <tr>
        <td id="L3857" class="blob-num js-line-number" data-line-number="3857"></td>
        <td id="LC3857" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3858" class="blob-num js-line-number" data-line-number="3858"></td>
        <td id="LC3858" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">assert</span>(grd_crn_nbr == <span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="L3859" class="blob-num js-line-number" data-line-number="3859"></td>
        <td id="LC3859" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L3860" class="blob-num js-line-number" data-line-number="3860"></td>
        <td id="LC3860" class="blob-code blob-code-inner js-file-line">    idx=grd_crn_nbr*lon_idx;</td>
      </tr>
      <tr>
        <td id="L3861" class="blob-num js-line-number" data-line-number="3861"></td>
        <td id="LC3861" class="blob-code blob-code-inner js-file-line">    lon_crn[idx]=lon_ntf[lon_idx];</td>
      </tr>
      <tr>
        <td id="L3862" class="blob-num js-line-number" data-line-number="3862"></td>
        <td id="LC3862" class="blob-code blob-code-inner js-file-line">    lon_crn[idx+<span class="pl-c1">1</span>]=lon_ntf[lon_idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3863" class="blob-num js-line-number" data-line-number="3863"></td>
        <td id="LC3863" class="blob-code blob-code-inner js-file-line">    lon_crn[idx+<span class="pl-c1">2</span>]=lon_ntf[lon_idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3864" class="blob-num js-line-number" data-line-number="3864"></td>
        <td id="LC3864" class="blob-code blob-code-inner js-file-line">    lon_crn[idx+<span class="pl-c1">3</span>]=lon_ntf[lon_idx];</td>
      </tr>
      <tr>
        <td id="L3865" class="blob-num js-line-number" data-line-number="3865"></td>
        <td id="LC3865" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lon_idx */</span></td>
      </tr>
      <tr>
        <td id="L3866" class="blob-num js-line-number" data-line-number="3866"></td>
        <td id="LC3866" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3867" class="blob-num js-line-number" data-line-number="3867"></td>
        <td id="LC3867" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L3868" class="blob-num js-line-number" data-line-number="3868"></td>
        <td id="LC3868" class="blob-code blob-code-inner js-file-line">    idx=grd_crn_nbr*lat_idx;</td>
      </tr>
      <tr>
        <td id="L3869" class="blob-num js-line-number" data-line-number="3869"></td>
        <td id="LC3869" class="blob-code blob-code-inner js-file-line">    lat_crn[idx]=lat_ntf[lat_idx];</td>
      </tr>
      <tr>
        <td id="L3870" class="blob-num js-line-number" data-line-number="3870"></td>
        <td id="LC3870" class="blob-code blob-code-inner js-file-line">    lat_crn[idx+<span class="pl-c1">1</span>]=lat_ntf[lat_idx];</td>
      </tr>
      <tr>
        <td id="L3871" class="blob-num js-line-number" data-line-number="3871"></td>
        <td id="LC3871" class="blob-code blob-code-inner js-file-line">    lat_crn[idx+<span class="pl-c1">2</span>]=lat_ntf[lat_idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3872" class="blob-num js-line-number" data-line-number="3872"></td>
        <td id="LC3872" class="blob-code blob-code-inner js-file-line">    lat_crn[idx+<span class="pl-c1">3</span>]=lat_ntf[lat_idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L3873" class="blob-num js-line-number" data-line-number="3873"></td>
        <td id="LC3873" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_idx */</span></td>
      </tr>
      <tr>
        <td id="L3874" class="blob-num js-line-number" data-line-number="3874"></td>
        <td id="LC3874" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3875" class="blob-num js-line-number" data-line-number="3875"></td>
        <td id="LC3875" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Stuff rectangular arrays into unrolled arrays */</span></td>
      </tr>
      <tr>
        <td id="L3876" class="blob-num js-line-number" data-line-number="3876"></td>
        <td id="LC3876" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L3877" class="blob-num js-line-number" data-line-number="3877"></td>
        <td id="LC3877" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L3878" class="blob-num js-line-number" data-line-number="3878"></td>
        <td id="LC3878" class="blob-code blob-code-inner js-file-line">      idx=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L3879" class="blob-num js-line-number" data-line-number="3879"></td>
        <td id="LC3879" class="blob-code blob-code-inner js-file-line">      grd_ctr_lat[idx]=lat_ctr[lat_idx];</td>
      </tr>
      <tr>
        <td id="L3880" class="blob-num js-line-number" data-line-number="3880"></td>
        <td id="LC3880" class="blob-code blob-code-inner js-file-line">      grd_ctr_lon[idx]=lon_ctr[lon_idx];</td>
      </tr>
      <tr>
        <td id="L3881" class="blob-num js-line-number" data-line-number="3881"></td>
        <td id="LC3881" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(crn_idx=<span class="pl-c1">0</span>;crn_idx&lt;grd_crn_nbr;crn_idx++){</td>
      </tr>
      <tr>
        <td id="L3882" class="blob-num js-line-number" data-line-number="3882"></td>
        <td id="LC3882" class="blob-code blob-code-inner js-file-line">	idx2=grd_crn_nbr*idx+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3883" class="blob-num js-line-number" data-line-number="3883"></td>
        <td id="LC3883" class="blob-code blob-code-inner js-file-line">	lat_idx2=lat_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3884" class="blob-num js-line-number" data-line-number="3884"></td>
        <td id="LC3884" class="blob-code blob-code-inner js-file-line">	lon_idx2=lon_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3885" class="blob-num js-line-number" data-line-number="3885"></td>
        <td id="LC3885" class="blob-code blob-code-inner js-file-line">	grd_crn_lat[idx2]=lat_crn[lat_idx2];</td>
      </tr>
      <tr>
        <td id="L3886" class="blob-num js-line-number" data-line-number="3886"></td>
        <td id="LC3886" class="blob-code blob-code-inner js-file-line">	grd_crn_lon[idx2]=lon_crn[lon_idx2];</td>
      </tr>
      <tr>
        <td id="L3887" class="blob-num js-line-number" data-line-number="3887"></td>
        <td id="LC3887" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !crn */</span></td>
      </tr>
      <tr>
        <td id="L3888" class="blob-num js-line-number" data-line-number="3888"></td>
        <td id="LC3888" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L3889" class="blob-num js-line-number" data-line-number="3889"></td>
        <td id="LC3889" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L3890" class="blob-num js-line-number" data-line-number="3890"></td>
        <td id="LC3890" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3891" class="blob-num js-line-number" data-line-number="3891"></td>
        <td id="LC3891" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L3892" class="blob-num js-line-number" data-line-number="3892"></td>
        <td id="LC3892" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Impose curvilinearity by adding lon_crv offset to each row relative to previous row, and lat_crv offset to each column relative to previous column */</span></td>
      </tr>
      <tr>
        <td id="L3893" class="blob-num js-line-number" data-line-number="3893"></td>
        <td id="LC3893" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L3894" class="blob-num js-line-number" data-line-number="3894"></td>
        <td id="LC3894" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L3895" class="blob-num js-line-number" data-line-number="3895"></td>
        <td id="LC3895" class="blob-code blob-code-inner js-file-line">	idx=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L3896" class="blob-num js-line-number" data-line-number="3896"></td>
        <td id="LC3896" class="blob-code blob-code-inner js-file-line">	grd_ctr_lat[idx]+=lon_idx*lat_crv;</td>
      </tr>
      <tr>
        <td id="L3897" class="blob-num js-line-number" data-line-number="3897"></td>
        <td id="LC3897" class="blob-code blob-code-inner js-file-line">	grd_ctr_lon[idx]+=lat_idx*lon_crv;</td>
      </tr>
      <tr>
        <td id="L3898" class="blob-num js-line-number" data-line-number="3898"></td>
        <td id="LC3898" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(crn_idx=<span class="pl-c1">0</span>;crn_idx&lt;grd_crn_nbr;crn_idx++){</td>
      </tr>
      <tr>
        <td id="L3899" class="blob-num js-line-number" data-line-number="3899"></td>
        <td id="LC3899" class="blob-code blob-code-inner js-file-line">	  idx2=grd_crn_nbr*idx+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3900" class="blob-num js-line-number" data-line-number="3900"></td>
        <td id="LC3900" class="blob-code blob-code-inner js-file-line">	  lat_idx2=lat_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3901" class="blob-num js-line-number" data-line-number="3901"></td>
        <td id="LC3901" class="blob-code blob-code-inner js-file-line">	  lon_idx2=lon_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L3902" class="blob-num js-line-number" data-line-number="3902"></td>
        <td id="LC3902" class="blob-code blob-code-inner js-file-line">	  grd_crn_lat[idx2]=lat_crn[lat_idx2];</td>
      </tr>
      <tr>
        <td id="L3903" class="blob-num js-line-number" data-line-number="3903"></td>
        <td id="LC3903" class="blob-code blob-code-inner js-file-line">	  grd_crn_lon[idx2]=lon_crn[lon_idx2];</td>
      </tr>
      <tr>
        <td id="L3904" class="blob-num js-line-number" data-line-number="3904"></td>
        <td id="LC3904" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(crn_idx == <span class="pl-c1">0</span> || crn_idx == <span class="pl-c1">1</span>){</td>
      </tr>
      <tr>
        <td id="L3905" class="blob-num js-line-number" data-line-number="3905"></td>
        <td id="LC3905" class="blob-code blob-code-inner js-file-line">	    grd_crn_lat[idx2]+=lat_idx*lat_crv; <span class="pl-c">/* LL, LR */</span></td>
      </tr>
      <tr>
        <td id="L3906" class="blob-num js-line-number" data-line-number="3906"></td>
        <td id="LC3906" class="blob-code blob-code-inner js-file-line">	    grd_crn_lon[idx2]+=lat_idx*lon_crv; <span class="pl-c">/* LL, LR */</span></td>
      </tr>
      <tr>
        <td id="L3907" class="blob-num js-line-number" data-line-number="3907"></td>
        <td id="LC3907" class="blob-code blob-code-inner js-file-line">	  }<span class="pl-k">else</span> <span class="pl-k">if</span>(crn_idx == <span class="pl-c1">2</span> || crn_idx == <span class="pl-c1">3</span>){</td>
      </tr>
      <tr>
        <td id="L3908" class="blob-num js-line-number" data-line-number="3908"></td>
        <td id="LC3908" class="blob-code blob-code-inner js-file-line">	    grd_crn_lat[idx2]+=(lat_idx+<span class="pl-c1">1</span>)*lat_crv; <span class="pl-c">/* UL, UR */</span></td>
      </tr>
      <tr>
        <td id="L3909" class="blob-num js-line-number" data-line-number="3909"></td>
        <td id="LC3909" class="blob-code blob-code-inner js-file-line">	    grd_crn_lon[idx2]+=(lat_idx+<span class="pl-c1">1</span>)*lon_crv; <span class="pl-c">/* UL, UR */</span></td>
      </tr>
      <tr>
        <td id="L3910" class="blob-num js-line-number" data-line-number="3910"></td>
        <td id="LC3910" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* !crn */</span></td>
      </tr>
      <tr>
        <td id="L3911" class="blob-num js-line-number" data-line-number="3911"></td>
        <td id="LC3911" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !crn */</span></td>
      </tr>
      <tr>
        <td id="L3912" class="blob-num js-line-number" data-line-number="3912"></td>
        <td id="LC3912" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L3913" class="blob-num js-line-number" data-line-number="3913"></td>
        <td id="LC3913" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L3914" class="blob-num js-line-number" data-line-number="3914"></td>
        <td id="LC3914" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L3915" class="blob-num js-line-number" data-line-number="3915"></td>
        <td id="LC3915" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3916" class="blob-num js-line-number" data-line-number="3916"></td>
        <td id="LC3916" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std){</td>
      </tr>
      <tr>
        <td id="L3917" class="blob-num js-line-number" data-line-number="3917"></td>
        <td id="LC3917" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ll;</td>
      </tr>
      <tr>
        <td id="L3918" class="blob-num js-line-number" data-line-number="3918"></td>
        <td id="LC3918" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_lr;</td>
      </tr>
      <tr>
        <td id="L3919" class="blob-num js-line-number" data-line-number="3919"></td>
        <td id="LC3919" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ur;</td>
      </tr>
      <tr>
        <td id="L3920" class="blob-num js-line-number" data-line-number="3920"></td>
        <td id="LC3920" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ul;</td>
      </tr>
      <tr>
        <td id="L3921" class="blob-num js-line-number" data-line-number="3921"></td>
        <td id="LC3921" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> idx_dbg;</td>
      </tr>
      <tr>
        <td id="L3922" class="blob-num js-line-number" data-line-number="3922"></td>
        <td id="LC3922" class="blob-code blob-code-inner js-file-line">    idx_dbg=rgr-&gt;idx_dbg;</td>
      </tr>
      <tr>
        <td id="L3923" class="blob-num js-line-number" data-line-number="3923"></td>
        <td id="LC3923" class="blob-code blob-code-inner js-file-line">    idx_crn_ll=grd_crn_nbr*idx_dbg+<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L3924" class="blob-num js-line-number" data-line-number="3924"></td>
        <td id="LC3924" class="blob-code blob-code-inner js-file-line">    idx_crn_lr=grd_crn_nbr*idx_dbg+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L3925" class="blob-num js-line-number" data-line-number="3925"></td>
        <td id="LC3925" class="blob-code blob-code-inner js-file-line">    idx_crn_ur=grd_crn_nbr*idx_dbg+<span class="pl-c1">2</span>;</td>
      </tr>
      <tr>
        <td id="L3926" class="blob-num js-line-number" data-line-number="3926"></td>
        <td id="LC3926" class="blob-code blob-code-inner js-file-line">    idx_crn_ul=grd_crn_nbr*idx_dbg+<span class="pl-c1">3</span>;</td>
      </tr>
      <tr>
        <td id="L3927" class="blob-num js-line-number" data-line-number="3927"></td>
        <td id="LC3927" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> idx_dbg = <span class="pl-c1">%li</span>, Center [lat,lon]=[<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]; Corners LL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] LR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,idx_dbg,grd_ctr_lat[idx_dbg],grd_ctr_lon[idx_dbg],grd_crn_lat[idx_crn_ll],grd_crn_lon[idx_crn_ll],grd_crn_lat[idx_crn_lr],grd_crn_lon[idx_crn_lr],grd_crn_lat[idx_crn_ur],grd_crn_lon[idx_crn_ur],grd_crn_lat[idx_crn_ul],grd_crn_lon[idx_crn_ul]);</td>
      </tr>
      <tr>
        <td id="L3928" class="blob-num js-line-number" data-line-number="3928"></td>
        <td id="LC3928" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !dbg */</span></td>
      </tr>
      <tr>
        <td id="L3929" class="blob-num js-line-number" data-line-number="3929"></td>
        <td id="LC3929" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3930" class="blob-num js-line-number" data-line-number="3930"></td>
        <td id="LC3930" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L3931" class="blob-num js-line-number" data-line-number="3931"></td>
        <td id="LC3931" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Area of arbitrary curvilinear grids requires spherical trigonometry */</span></td>
      </tr>
      <tr>
        <td id="L3932" class="blob-num js-line-number" data-line-number="3932"></td>
        <td id="LC3932" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_sph_plg_area</span>(grd_crn_lat,grd_crn_lon,grd_sz_nbr,grd_crn_nbr,area);</td>
      </tr>
      <tr>
        <td id="L3933" class="blob-num js-line-number" data-line-number="3933"></td>
        <td id="LC3933" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L3934" class="blob-num js-line-number" data-line-number="3934"></td>
        <td id="LC3934" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Area of rectangular spherical zones from elementary calculus results</span></td>
      </tr>
      <tr>
        <td id="L3935" class="blob-num js-line-number" data-line-number="3935"></td>
        <td id="LC3935" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       20150906: Half-angle formulae for better conditioning improve area normalization for 801x1600 by 2.0e-15 </span></td>
      </tr>
      <tr>
        <td id="L3936" class="blob-num js-line-number" data-line-number="3936"></td>
        <td id="LC3936" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       area[lat_idx*lon_nbr+lon_idx]=dgr2rdn*(lon_bnd[2*lon_idx+1]-lon_bnd[2*lon_idx])*2.0*(sin(0.5*dgr2rdn*lat_bnd[2*lat_idx+1])*cos(0.5*dgr2rdn*lat_bnd[2*lat_idx+1])-sin(0.5*dgr2rdn*lat_bnd[2*lat_idx])*cos(0.5*dgr2rdn*lat_bnd[2*lat_idx])); </span></td>
      </tr>
      <tr>
        <td id="L3937" class="blob-num js-line-number" data-line-number="3937"></td>
        <td id="LC3937" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Gain not worth the extra complexity */</span></td>
      </tr>
      <tr>
        <td id="L3938" class="blob-num js-line-number" data-line-number="3938"></td>
        <td id="LC3938" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3939" class="blob-num js-line-number" data-line-number="3939"></td>
        <td id="LC3939" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L3940" class="blob-num js-line-number" data-line-number="3940"></td>
        <td id="LC3940" class="blob-code blob-code-inner js-file-line">	area[lat_idx*lon_nbr+lon_idx]=dgr2rdn*(lon_bnd[<span class="pl-c1">2</span>*lon_idx+<span class="pl-c1">1</span>]-lon_bnd[<span class="pl-c1">2</span>*lon_idx])*(<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*lat_idx]));</td>
      </tr>
      <tr>
        <td id="L3941" class="blob-num js-line-number" data-line-number="3941"></td>
        <td id="LC3941" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L3942" class="blob-num js-line-number" data-line-number="3942"></td>
        <td id="LC3942" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3943" class="blob-num js-line-number" data-line-number="3943"></td>
        <td id="LC3943" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr){</td>
      </tr>
      <tr>
        <td id="L3944" class="blob-num js-line-number" data-line-number="3944"></td>
        <td id="LC3944" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L3945" class="blob-num js-line-number" data-line-number="3945"></td>
        <td id="LC3945" class="blob-code blob-code-inner js-file-line">    area_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L3946" class="blob-num js-line-number" data-line-number="3946"></td>
        <td id="LC3946" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L3947" class="blob-num js-line-number" data-line-number="3947"></td>
        <td id="LC3947" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports destination rectangular latitude grid:<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L3948" class="blob-num js-line-number" data-line-number="3948"></td>
        <td id="LC3948" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3949" class="blob-num js-line-number" data-line-number="3949"></td>
        <td id="LC3949" class="blob-code blob-code-inner js-file-line">	lat_wgt_ttl+=lat_wgt[lat_idx];</td>
      </tr>
      <tr>
        <td id="L3950" class="blob-num js-line-number" data-line-number="3950"></td>
        <td id="LC3950" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L3951" class="blob-num js-line-number" data-line-number="3951"></td>
        <td id="LC3951" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L3952" class="blob-num js-line-number" data-line-number="3952"></td>
        <td id="LC3952" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L3953" class="blob-num js-line-number" data-line-number="3953"></td>
        <td id="LC3953" class="blob-code blob-code-inner js-file-line">	area_ttl+=area[lat_idx*lon_nbr+lon_idx];</td>
      </tr>
      <tr>
        <td id="L3954" class="blob-num js-line-number" data-line-number="3954"></td>
        <td id="LC3954" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_wgt_ttl = <span class="pl-c1">%20.15f</span>, frc_lat_wgt = <span class="pl-c1">%20.15f</span>, area_ttl = <span class="pl-c1">%20.15f</span>, frc_area = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_wgt_ttl,lat_wgt_ttl/<span class="pl-c1">2.0</span>,area_ttl,area_ttl/(<span class="pl-c1">4.0</span>*M_PI));</td>
      </tr>
      <tr>
        <td id="L3955" class="blob-num js-line-number" data-line-number="3955"></td>
        <td id="LC3955" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_ttl &gt; <span class="pl-c1">0.0</span>);</td>
      </tr>
      <tr>
        <td id="L3956" class="blob-num js-line-number" data-line-number="3956"></td>
        <td id="LC3956" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_ttl &lt;= <span class="pl-c1">4.0</span>*M_PI);</td>
      </tr>
      <tr>
        <td id="L3957" class="blob-num js-line-number" data-line-number="3957"></td>
        <td id="LC3957" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L3958" class="blob-num js-line-number" data-line-number="3958"></td>
        <td id="LC3958" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3959" class="blob-num js-line-number" data-line-number="3959"></td>
        <td id="LC3959" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Open grid file */</span></td>
      </tr>
      <tr>
        <td id="L3960" class="blob-num js-line-number" data-line-number="3960"></td>
        <td id="LC3960" class="blob-code blob-code-inner js-file-line">  fl_out_tmp=<span class="pl-c1">nco_fl_out_open</span>(fl_out,FORCE_APPEND,FORCE_OVERWRITE,fl_out_fmt,&amp;bfr_sz_hnt,RAM_CREATE,RAM_OPEN,WRT_TMP_FL,&amp;out_id);</td>
      </tr>
      <tr>
        <td id="L3961" class="blob-num js-line-number" data-line-number="3961"></td>
        <td id="LC3961" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L3962" class="blob-num js-line-number" data-line-number="3962"></td>
        <td id="LC3962" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define dimensions */</span></td>
      </tr>
      <tr>
        <td id="L3963" class="blob-num js-line-number" data-line-number="3963"></td>
        <td id="LC3963" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_crn_nm,grd_crn_nbr,&amp;dmn_id_grd_crn);</td>
      </tr>
      <tr>
        <td id="L3964" class="blob-num js-line-number" data-line-number="3964"></td>
        <td id="LC3964" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_sz_nm,grd_sz_nbr,&amp;dmn_id_grd_sz);</td>
      </tr>
      <tr>
        <td id="L3965" class="blob-num js-line-number" data-line-number="3965"></td>
        <td id="LC3965" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_rnk_nm,grd_rnk_nbr,&amp;dmn_id_grd_rnk);</td>
      </tr>
      <tr>
        <td id="L3966" class="blob-num js-line-number" data-line-number="3966"></td>
        <td id="LC3966" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3967" class="blob-num js-line-number" data-line-number="3967"></td>
        <td id="LC3967" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define variables */</span></td>
      </tr>
      <tr>
        <td id="L3968" class="blob-num js-line-number" data-line-number="3968"></td>
        <td id="LC3968" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,dmn_sz_nm,(nc_type)NC_INT,dmn_nbr_1D,&amp;dmn_id_grd_rnk,&amp;dmn_sz_int_id);</td>
      </tr>
      <tr>
        <td id="L3969" class="blob-num js-line-number" data-line-number="3969"></td>
        <td id="LC3969" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_area_nm,(nc_type)crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;area_id);</td>
      </tr>
      <tr>
        <td id="L3970" class="blob-num js-line-number" data-line-number="3970"></td>
        <td id="LC3970" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,msk_nm,(nc_type)NC_INT,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;msk_id);</td>
      </tr>
      <tr>
        <td id="L3971" class="blob-num js-line-number" data-line-number="3971"></td>
        <td id="LC3971" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_ctr_lat_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;grd_ctr_lat_id);</td>
      </tr>
      <tr>
        <td id="L3972" class="blob-num js-line-number" data-line-number="3972"></td>
        <td id="LC3972" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_ctr_lon_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;grd_ctr_lon_id);</td>
      </tr>
      <tr>
        <td id="L3973" class="blob-num js-line-number" data-line-number="3973"></td>
        <td id="LC3973" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">0</span>]=dmn_id_grd_sz;</td>
      </tr>
      <tr>
        <td id="L3974" class="blob-num js-line-number" data-line-number="3974"></td>
        <td id="LC3974" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">1</span>]=dmn_id_grd_crn;</td>
      </tr>
      <tr>
        <td id="L3975" class="blob-num js-line-number" data-line-number="3975"></td>
        <td id="LC3975" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_crn_lat_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;grd_crn_lat_id);</td>
      </tr>
      <tr>
        <td id="L3976" class="blob-num js-line-number" data-line-number="3976"></td>
        <td id="LC3976" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">0</span>]=dmn_id_grd_sz;</td>
      </tr>
      <tr>
        <td id="L3977" class="blob-num js-line-number" data-line-number="3977"></td>
        <td id="LC3977" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">1</span>]=dmn_id_grd_crn;</td>
      </tr>
      <tr>
        <td id="L3978" class="blob-num js-line-number" data-line-number="3978"></td>
        <td id="LC3978" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_crn_lon_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;grd_crn_lon_id);</td>
      </tr>
      <tr>
        <td id="L3979" class="blob-num js-line-number" data-line-number="3979"></td>
        <td id="LC3979" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3980" class="blob-num js-line-number" data-line-number="3980"></td>
        <td id="LC3980" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define &quot;units&quot; attributes */</span></td>
      </tr>
      <tr>
        <td id="L3981" class="blob-num js-line-number" data-line-number="3981"></td>
        <td id="LC3981" class="blob-code blob-code-inner js-file-line">  aed_sct aed_mtd;</td>
      </tr>
      <tr>
        <td id="L3982" class="blob-num js-line-number" data-line-number="3982"></td>
        <td id="LC3982" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_nm;</td>
      </tr>
      <tr>
        <td id="L3983" class="blob-num js-line-number" data-line-number="3983"></td>
        <td id="LC3983" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_val;</td>
      </tr>
      <tr>
        <td id="L3984" class="blob-num js-line-number" data-line-number="3984"></td>
        <td id="LC3984" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3985" class="blob-num js-line-number" data-line-number="3985"></td>
        <td id="LC3985" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>title<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3986" class="blob-num js-line-number" data-line-number="3986"></td>
        <td id="LC3986" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(rgr-&gt;grd_ttl);</td>
      </tr>
      <tr>
        <td id="L3987" class="blob-num js-line-number" data-line-number="3987"></td>
        <td id="LC3987" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L3988" class="blob-num js-line-number" data-line-number="3988"></td>
        <td id="LC3988" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L3989" class="blob-num js-line-number" data-line-number="3989"></td>
        <td id="LC3989" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L3990" class="blob-num js-line-number" data-line-number="3990"></td>
        <td id="LC3990" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L3991" class="blob-num js-line-number" data-line-number="3991"></td>
        <td id="LC3991" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L3992" class="blob-num js-line-number" data-line-number="3992"></td>
        <td id="LC3992" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L3993" class="blob-num js-line-number" data-line-number="3993"></td>
        <td id="LC3993" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L3994" class="blob-num js-line-number" data-line-number="3994"></td>
        <td id="LC3994" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L3995" class="blob-num js-line-number" data-line-number="3995"></td>
        <td id="LC3995" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L3996" class="blob-num js-line-number" data-line-number="3996"></td>
        <td id="LC3996" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L3997" class="blob-num js-line-number" data-line-number="3997"></td>
        <td id="LC3997" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L3998" class="blob-num js-line-number" data-line-number="3998"></td>
        <td id="LC3998" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Conventions<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L3999" class="blob-num js-line-number" data-line-number="3999"></td>
        <td id="LC3999" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>SCRIP<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4000" class="blob-num js-line-number" data-line-number="4000"></td>
        <td id="LC4000" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4001" class="blob-num js-line-number" data-line-number="4001"></td>
        <td id="LC4001" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4002" class="blob-num js-line-number" data-line-number="4002"></td>
        <td id="LC4002" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4003" class="blob-num js-line-number" data-line-number="4003"></td>
        <td id="LC4003" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4004" class="blob-num js-line-number" data-line-number="4004"></td>
        <td id="LC4004" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4005" class="blob-num js-line-number" data-line-number="4005"></td>
        <td id="LC4005" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4006" class="blob-num js-line-number" data-line-number="4006"></td>
        <td id="LC4006" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4007" class="blob-num js-line-number" data-line-number="4007"></td>
        <td id="LC4007" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4008" class="blob-num js-line-number" data-line-number="4008"></td>
        <td id="LC4008" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4009" class="blob-num js-line-number" data-line-number="4009"></td>
        <td id="LC4009" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4010" class="blob-num js-line-number" data-line-number="4010"></td>
        <td id="LC4010" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4011" class="blob-num js-line-number" data-line-number="4011"></td>
        <td id="LC4011" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> usr_cpp[]=<span class="pl-c1">TKN2SNG</span>(USER); <span class="pl-c">/* [sng] Hostname from C pre-processor */</span></td>
      </tr>
      <tr>
        <td id="L4012" class="blob-num js-line-number" data-line-number="4012"></td>
        <td id="LC4012" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>created_by<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4013" class="blob-num js-line-number" data-line-number="4013"></td>
        <td id="LC4013" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(usr_cpp);</td>
      </tr>
      <tr>
        <td id="L4014" class="blob-num js-line-number" data-line-number="4014"></td>
        <td id="LC4014" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4015" class="blob-num js-line-number" data-line-number="4015"></td>
        <td id="LC4015" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4016" class="blob-num js-line-number" data-line-number="4016"></td>
        <td id="LC4016" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4017" class="blob-num js-line-number" data-line-number="4017"></td>
        <td id="LC4017" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4018" class="blob-num js-line-number" data-line-number="4018"></td>
        <td id="LC4018" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4019" class="blob-num js-line-number" data-line-number="4019"></td>
        <td id="LC4019" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4020" class="blob-num js-line-number" data-line-number="4020"></td>
        <td id="LC4020" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4021" class="blob-num js-line-number" data-line-number="4021"></td>
        <td id="LC4021" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4022" class="blob-num js-line-number" data-line-number="4022"></td>
        <td id="LC4022" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4023" class="blob-num js-line-number" data-line-number="4023"></td>
        <td id="LC4023" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4024" class="blob-num js-line-number" data-line-number="4024"></td>
        <td id="LC4024" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4025" class="blob-num js-line-number" data-line-number="4025"></td>
        <td id="LC4025" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_hst_att_cat</span>(out_id,rgr-&gt;cmd_ln);</td>
      </tr>
      <tr>
        <td id="L4026" class="blob-num js-line-number" data-line-number="4026"></td>
        <td id="LC4026" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_vrs_att_cat</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L4027" class="blob-num js-line-number" data-line-number="4027"></td>
        <td id="LC4027" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4028" class="blob-num js-line-number" data-line-number="4028"></td>
        <td id="LC4028" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4029" class="blob-num js-line-number" data-line-number="4029"></td>
        <td id="LC4029" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lat_sng</span>(lat_typ));</td>
      </tr>
      <tr>
        <td id="L4030" class="blob-num js-line-number" data-line-number="4030"></td>
        <td id="LC4030" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4031" class="blob-num js-line-number" data-line-number="4031"></td>
        <td id="LC4031" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4032" class="blob-num js-line-number" data-line-number="4032"></td>
        <td id="LC4032" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4033" class="blob-num js-line-number" data-line-number="4033"></td>
        <td id="LC4033" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4034" class="blob-num js-line-number" data-line-number="4034"></td>
        <td id="LC4034" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4035" class="blob-num js-line-number" data-line-number="4035"></td>
        <td id="LC4035" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4036" class="blob-num js-line-number" data-line-number="4036"></td>
        <td id="LC4036" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4037" class="blob-num js-line-number" data-line-number="4037"></td>
        <td id="LC4037" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4038" class="blob-num js-line-number" data-line-number="4038"></td>
        <td id="LC4038" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4039" class="blob-num js-line-number" data-line-number="4039"></td>
        <td id="LC4039" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4040" class="blob-num js-line-number" data-line-number="4040"></td>
        <td id="LC4040" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4041" class="blob-num js-line-number" data-line-number="4041"></td>
        <td id="LC4041" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4042" class="blob-num js-line-number" data-line-number="4042"></td>
        <td id="LC4042" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lon_sng</span>(lon_typ));</td>
      </tr>
      <tr>
        <td id="L4043" class="blob-num js-line-number" data-line-number="4043"></td>
        <td id="LC4043" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4044" class="blob-num js-line-number" data-line-number="4044"></td>
        <td id="LC4044" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4045" class="blob-num js-line-number" data-line-number="4045"></td>
        <td id="LC4045" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4046" class="blob-num js-line-number" data-line-number="4046"></td>
        <td id="LC4046" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4047" class="blob-num js-line-number" data-line-number="4047"></td>
        <td id="LC4047" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4048" class="blob-num js-line-number" data-line-number="4048"></td>
        <td id="LC4048" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4049" class="blob-num js-line-number" data-line-number="4049"></td>
        <td id="LC4049" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4050" class="blob-num js-line-number" data-line-number="4050"></td>
        <td id="LC4050" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4051" class="blob-num js-line-number" data-line-number="4051"></td>
        <td id="LC4051" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4052" class="blob-num js-line-number" data-line-number="4052"></td>
        <td id="LC4052" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4053" class="blob-num js-line-number" data-line-number="4053"></td>
        <td id="LC4053" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4054" class="blob-num js-line-number" data-line-number="4054"></td>
        <td id="LC4054" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4055" class="blob-num js-line-number" data-line-number="4055"></td>
        <td id="LC4055" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>steradian<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4056" class="blob-num js-line-number" data-line-number="4056"></td>
        <td id="LC4056" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4057" class="blob-num js-line-number" data-line-number="4057"></td>
        <td id="LC4057" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_area_nm;</td>
      </tr>
      <tr>
        <td id="L4058" class="blob-num js-line-number" data-line-number="4058"></td>
        <td id="LC4058" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_id;</td>
      </tr>
      <tr>
        <td id="L4059" class="blob-num js-line-number" data-line-number="4059"></td>
        <td id="LC4059" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4060" class="blob-num js-line-number" data-line-number="4060"></td>
        <td id="LC4060" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4061" class="blob-num js-line-number" data-line-number="4061"></td>
        <td id="LC4061" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4062" class="blob-num js-line-number" data-line-number="4062"></td>
        <td id="LC4062" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4063" class="blob-num js-line-number" data-line-number="4063"></td>
        <td id="LC4063" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4064" class="blob-num js-line-number" data-line-number="4064"></td>
        <td id="LC4064" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4065" class="blob-num js-line-number" data-line-number="4065"></td>
        <td id="LC4065" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4066" class="blob-num js-line-number" data-line-number="4066"></td>
        <td id="LC4066" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4067" class="blob-num js-line-number" data-line-number="4067"></td>
        <td id="LC4067" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4068" class="blob-num js-line-number" data-line-number="4068"></td>
        <td id="LC4068" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>degrees<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4069" class="blob-num js-line-number" data-line-number="4069"></td>
        <td id="LC4069" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4070" class="blob-num js-line-number" data-line-number="4070"></td>
        <td id="LC4070" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4071" class="blob-num js-line-number" data-line-number="4071"></td>
        <td id="LC4071" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4072" class="blob-num js-line-number" data-line-number="4072"></td>
        <td id="LC4072" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4073" class="blob-num js-line-number" data-line-number="4073"></td>
        <td id="LC4073" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4074" class="blob-num js-line-number" data-line-number="4074"></td>
        <td id="LC4074" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Add same units attribute to four different variables */</span></td>
      </tr>
      <tr>
        <td id="L4075" class="blob-num js-line-number" data-line-number="4075"></td>
        <td id="LC4075" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_ctr_lat_nm;</td>
      </tr>
      <tr>
        <td id="L4076" class="blob-num js-line-number" data-line-number="4076"></td>
        <td id="LC4076" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_ctr_lat_id;</td>
      </tr>
      <tr>
        <td id="L4077" class="blob-num js-line-number" data-line-number="4077"></td>
        <td id="LC4077" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_ctr_lat_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4078" class="blob-num js-line-number" data-line-number="4078"></td>
        <td id="LC4078" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_ctr_lon_nm;</td>
      </tr>
      <tr>
        <td id="L4079" class="blob-num js-line-number" data-line-number="4079"></td>
        <td id="LC4079" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_ctr_lon_id;</td>
      </tr>
      <tr>
        <td id="L4080" class="blob-num js-line-number" data-line-number="4080"></td>
        <td id="LC4080" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_ctr_lon_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4081" class="blob-num js-line-number" data-line-number="4081"></td>
        <td id="LC4081" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_crn_lat_nm;</td>
      </tr>
      <tr>
        <td id="L4082" class="blob-num js-line-number" data-line-number="4082"></td>
        <td id="LC4082" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_crn_lat_id;</td>
      </tr>
      <tr>
        <td id="L4083" class="blob-num js-line-number" data-line-number="4083"></td>
        <td id="LC4083" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_crn_lat_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4084" class="blob-num js-line-number" data-line-number="4084"></td>
        <td id="LC4084" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_crn_lon_nm;</td>
      </tr>
      <tr>
        <td id="L4085" class="blob-num js-line-number" data-line-number="4085"></td>
        <td id="LC4085" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_crn_lon_id;</td>
      </tr>
      <tr>
        <td id="L4086" class="blob-num js-line-number" data-line-number="4086"></td>
        <td id="LC4086" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_crn_lon_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4087" class="blob-num js-line-number" data-line-number="4087"></td>
        <td id="LC4087" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4088" class="blob-num js-line-number" data-line-number="4088"></td>
        <td id="LC4088" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4089" class="blob-num js-line-number" data-line-number="4089"></td>
        <td id="LC4089" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4090" class="blob-num js-line-number" data-line-number="4090"></td>
        <td id="LC4090" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Begin data mode */</span></td>
      </tr>
      <tr>
        <td id="L4091" class="blob-num js-line-number" data-line-number="4091"></td>
        <td id="LC4091" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_enddef</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L4092" class="blob-num js-line-number" data-line-number="4092"></td>
        <td id="LC4092" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4093" class="blob-num js-line-number" data-line-number="4093"></td>
        <td id="LC4093" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Write variables */</span></td>
      </tr>
      <tr>
        <td id="L4094" class="blob-num js-line-number" data-line-number="4094"></td>
        <td id="LC4094" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4095" class="blob-num js-line-number" data-line-number="4095"></td>
        <td id="LC4095" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_rnk_nbr;</td>
      </tr>
      <tr>
        <td id="L4096" class="blob-num js-line-number" data-line-number="4096"></td>
        <td id="LC4096" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,dmn_sz_int_id,dmn_srt,dmn_cnt,dmn_sz_int,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L4097" class="blob-num js-line-number" data-line-number="4097"></td>
        <td id="LC4097" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4098" class="blob-num js-line-number" data-line-number="4098"></td>
        <td id="LC4098" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4099" class="blob-num js-line-number" data-line-number="4099"></td>
        <td id="LC4099" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4100" class="blob-num js-line-number" data-line-number="4100"></td>
        <td id="LC4100" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4101" class="blob-num js-line-number" data-line-number="4101"></td>
        <td id="LC4101" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4102" class="blob-num js-line-number" data-line-number="4102"></td>
        <td id="LC4102" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,msk_id,dmn_srt,dmn_cnt,msk,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L4103" class="blob-num js-line-number" data-line-number="4103"></td>
        <td id="LC4103" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4104" class="blob-num js-line-number" data-line-number="4104"></td>
        <td id="LC4104" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4105" class="blob-num js-line-number" data-line-number="4105"></td>
        <td id="LC4105" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_ctr_lat_id,dmn_srt,dmn_cnt,grd_ctr_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4106" class="blob-num js-line-number" data-line-number="4106"></td>
        <td id="LC4106" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4107" class="blob-num js-line-number" data-line-number="4107"></td>
        <td id="LC4107" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4108" class="blob-num js-line-number" data-line-number="4108"></td>
        <td id="LC4108" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_ctr_lon_id,dmn_srt,dmn_cnt,grd_ctr_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4109" class="blob-num js-line-number" data-line-number="4109"></td>
        <td id="LC4109" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4110" class="blob-num js-line-number" data-line-number="4110"></td>
        <td id="LC4110" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4111" class="blob-num js-line-number" data-line-number="4111"></td>
        <td id="LC4111" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4112" class="blob-num js-line-number" data-line-number="4112"></td>
        <td id="LC4112" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">1</span>]=grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L4113" class="blob-num js-line-number" data-line-number="4113"></td>
        <td id="LC4113" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_crn_lat_id,dmn_srt,dmn_cnt,grd_crn_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4114" class="blob-num js-line-number" data-line-number="4114"></td>
        <td id="LC4114" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4115" class="blob-num js-line-number" data-line-number="4115"></td>
        <td id="LC4115" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4116" class="blob-num js-line-number" data-line-number="4116"></td>
        <td id="LC4116" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L4117" class="blob-num js-line-number" data-line-number="4117"></td>
        <td id="LC4117" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">1</span>]=grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L4118" class="blob-num js-line-number" data-line-number="4118"></td>
        <td id="LC4118" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_crn_lon_id,dmn_srt,dmn_cnt,grd_crn_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4119" class="blob-num js-line-number" data-line-number="4119"></td>
        <td id="LC4119" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4120" class="blob-num js-line-number" data-line-number="4120"></td>
        <td id="LC4120" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Close output file and move it from temporary to permanent location */</span></td>
      </tr>
      <tr>
        <td id="L4121" class="blob-num js-line-number" data-line-number="4121"></td>
        <td id="LC4121" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_out_cls</span>(fl_out,fl_out_tmp,out_id);</td>
      </tr>
      <tr>
        <td id="L4122" class="blob-num js-line-number" data-line-number="4122"></td>
        <td id="LC4122" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4123" class="blob-num js-line-number" data-line-number="4123"></td>
        <td id="LC4123" class="blob-code blob-code-inner js-file-line">  fl_out=rgr-&gt;fl_skl;</td>
      </tr>
      <tr>
        <td id="L4124" class="blob-num js-line-number" data-line-number="4124"></td>
        <td id="LC4124" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(fl_out){</td>
      </tr>
      <tr>
        <td id="L4125" class="blob-num js-line-number" data-line-number="4125"></td>
        <td id="LC4125" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Write skeleton data file on requested grid</span></td>
      </tr>
      <tr>
        <td id="L4126" class="blob-num js-line-number" data-line-number="4126"></td>
        <td id="LC4126" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Skeleton file can then be populated with data for testing */</span></td>
      </tr>
      <tr>
        <td id="L4127" class="blob-num js-line-number" data-line-number="4127"></td>
        <td id="LC4127" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *area_nm;</td>
      </tr>
      <tr>
        <td id="L4128" class="blob-num js-line-number" data-line-number="4128"></td>
        <td id="LC4128" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4129" class="blob-num js-line-number" data-line-number="4129"></td>
        <td id="LC4129" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    char *bnd_tm_nm;</span></td>
      </tr>
      <tr>
        <td id="L4130" class="blob-num js-line-number" data-line-number="4130"></td>
        <td id="LC4130" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *col_nm_out;</td>
      </tr>
      <tr>
        <td id="L4131" class="blob-num js-line-number" data-line-number="4131"></td>
        <td id="LC4131" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *lat_nm_out; <span class="pl-c">/* [sng] Name of output dimension for latitude */</span></td>
      </tr>
      <tr>
        <td id="L4132" class="blob-num js-line-number" data-line-number="4132"></td>
        <td id="LC4132" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *lat_wgt_nm;</td>
      </tr>
      <tr>
        <td id="L4133" class="blob-num js-line-number" data-line-number="4133"></td>
        <td id="LC4133" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *lon_nm_out; <span class="pl-c">/* [sng] Name of variable to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L4134" class="blob-num js-line-number" data-line-number="4134"></td>
        <td id="LC4134" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *lat_bnd_nm; <span class="pl-c">/* [sng] Name of latitude  boundary variable */</span></td>
      </tr>
      <tr>
        <td id="L4135" class="blob-num js-line-number" data-line-number="4135"></td>
        <td id="LC4135" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">char</span> *lon_bnd_nm; <span class="pl-c">/* [sng] Name of longitude boundary variable */</span></td>
      </tr>
      <tr>
        <td id="L4136" class="blob-num js-line-number" data-line-number="4136"></td>
        <td id="LC4136" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4137" class="blob-num js-line-number" data-line-number="4137"></td>
        <td id="LC4137" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    int area_id; /* [id] Variable ID for area */</span></td>
      </tr>
      <tr>
        <td id="L4138" class="blob-num js-line-number" data-line-number="4138"></td>
        <td id="LC4138" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> dmn_id_bnd; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4139" class="blob-num js-line-number" data-line-number="4139"></td>
        <td id="LC4139" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//int dmn_id_bnd_tm; /* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4140" class="blob-num js-line-number" data-line-number="4140"></td>
        <td id="LC4140" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> dmn_id_col; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4141" class="blob-num js-line-number" data-line-number="4141"></td>
        <td id="LC4141" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> dmn_id_lat; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4142" class="blob-num js-line-number" data-line-number="4142"></td>
        <td id="LC4142" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> dmn_id_lon; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4143" class="blob-num js-line-number" data-line-number="4143"></td>
        <td id="LC4143" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lat_bnd_id; <span class="pl-c">/* [id] Variable ID for lat_bnds/lat_vertices */</span></td>
      </tr>
      <tr>
        <td id="L4144" class="blob-num js-line-number" data-line-number="4144"></td>
        <td id="LC4144" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lat_id; <span class="pl-c">/* [id] Variable ID for latitude */</span></td>
      </tr>
      <tr>
        <td id="L4145" class="blob-num js-line-number" data-line-number="4145"></td>
        <td id="LC4145" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lat_wgt_id; <span class="pl-c">/* [id] Variable ID for latitude weight */</span></td>
      </tr>
      <tr>
        <td id="L4146" class="blob-num js-line-number" data-line-number="4146"></td>
        <td id="LC4146" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lon_bnd_id; <span class="pl-c">/* [id] Variable ID for lon_bnds/lon_vertices */</span></td>
      </tr>
      <tr>
        <td id="L4147" class="blob-num js-line-number" data-line-number="4147"></td>
        <td id="LC4147" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lon_id; <span class="pl-c">/* [id] Variable ID for longitude */</span></td>
      </tr>
      <tr>
        <td id="L4148" class="blob-num js-line-number" data-line-number="4148"></td>
        <td id="LC4148" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4149" class="blob-num js-line-number" data-line-number="4149"></td>
        <td id="LC4149" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Use explicitly specified output names, if any, otherwise use input names (either explicitly specified or discovered by fuzzing) */</span></td>
      </tr>
      <tr>
        <td id="L4150" class="blob-num js-line-number" data-line-number="4150"></td>
        <td id="LC4150" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(rgr-&gt;lat_nm_out) lat_nm_out=rgr-&gt;lat_nm_out; <span class="pl-k">else</span> lat_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4151" class="blob-num js-line-number" data-line-number="4151"></td>
        <td id="LC4151" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(rgr-&gt;lon_nm_out) lon_nm_out=rgr-&gt;lon_nm_out; <span class="pl-k">else</span> lon_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4152" class="blob-num js-line-number" data-line-number="4152"></td>
        <td id="LC4152" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(rgr-&gt;col_nm_out) col_nm_out=rgr-&gt;col_nm_out; <span class="pl-k">else</span> col_nm_out=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ncol<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4153" class="blob-num js-line-number" data-line-number="4153"></td>
        <td id="LC4153" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4154" class="blob-num js-line-number" data-line-number="4154"></td>
        <td id="LC4154" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Name output dimensions */</span></td>
      </tr>
      <tr>
        <td id="L4155" class="blob-num js-line-number" data-line-number="4155"></td>
        <td id="LC4155" class="blob-code blob-code-inner js-file-line">    area_nm=rgr-&gt;area_nm;</td>
      </tr>
      <tr>
        <td id="L4156" class="blob-num js-line-number" data-line-number="4156"></td>
        <td id="LC4156" class="blob-code blob-code-inner js-file-line">    bnd_nm=rgr-&gt;bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4157" class="blob-num js-line-number" data-line-number="4157"></td>
        <td id="LC4157" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//bnd_tm_nm=rgr-&gt;bnd_tm_nm;</span></td>
      </tr>
      <tr>
        <td id="L4158" class="blob-num js-line-number" data-line-number="4158"></td>
        <td id="LC4158" class="blob-code blob-code-inner js-file-line">    lat_bnd_nm=rgr-&gt;lat_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4159" class="blob-num js-line-number" data-line-number="4159"></td>
        <td id="LC4159" class="blob-code blob-code-inner js-file-line">    lat_wgt_nm=rgr-&gt;lat_wgt_nm;</td>
      </tr>
      <tr>
        <td id="L4160" class="blob-num js-line-number" data-line-number="4160"></td>
        <td id="LC4160" class="blob-code blob-code-inner js-file-line">    lon_bnd_nm=rgr-&gt;lon_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4161" class="blob-num js-line-number" data-line-number="4161"></td>
        <td id="LC4161" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Use names discovered by fuzzing */</span></td>
      </tr>
      <tr>
        <td id="L4162" class="blob-num js-line-number" data-line-number="4162"></td>
        <td id="LC4162" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_1D){</td>
      </tr>
      <tr>
        <td id="L4163" class="blob-num js-line-number" data-line-number="4163"></td>
        <td id="LC4163" class="blob-code blob-code-inner js-file-line">      bnd_nm=rgr-&gt;vrt_nm;</td>
      </tr>
      <tr>
        <td id="L4164" class="blob-num js-line-number" data-line-number="4164"></td>
        <td id="LC4164" class="blob-code blob-code-inner js-file-line">      lat_bnd_nm=rgr-&gt;lat_vrt_nm;</td>
      </tr>
      <tr>
        <td id="L4165" class="blob-num js-line-number" data-line-number="4165"></td>
        <td id="LC4165" class="blob-code blob-code-inner js-file-line">      lon_bnd_nm=rgr-&gt;lon_vrt_nm;</td>
      </tr>
      <tr>
        <td id="L4166" class="blob-num js-line-number" data-line-number="4166"></td>
        <td id="LC4166" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_1D */</span></td>
      </tr>
      <tr>
        <td id="L4167" class="blob-num js-line-number" data-line-number="4167"></td>
        <td id="LC4167" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L4168" class="blob-num js-line-number" data-line-number="4168"></td>
        <td id="LC4168" class="blob-code blob-code-inner js-file-line">      bnd_nm=rgr-&gt;bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4169" class="blob-num js-line-number" data-line-number="4169"></td>
        <td id="LC4169" class="blob-code blob-code-inner js-file-line">      lat_bnd_nm=rgr-&gt;lat_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4170" class="blob-num js-line-number" data-line-number="4170"></td>
        <td id="LC4170" class="blob-code blob-code-inner js-file-line">      lon_bnd_nm=rgr-&gt;lon_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4171" class="blob-num js-line-number" data-line-number="4171"></td>
        <td id="LC4171" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4172" class="blob-num js-line-number" data-line-number="4172"></td>
        <td id="LC4172" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4173" class="blob-num js-line-number" data-line-number="4173"></td>
        <td id="LC4173" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Open grid file */</span></td>
      </tr>
      <tr>
        <td id="L4174" class="blob-num js-line-number" data-line-number="4174"></td>
        <td id="LC4174" class="blob-code blob-code-inner js-file-line">    fl_out_tmp=<span class="pl-c1">nco_fl_out_open</span>(fl_out,FORCE_APPEND,FORCE_OVERWRITE,fl_out_fmt,&amp;bfr_sz_hnt,RAM_CREATE,RAM_OPEN,WRT_TMP_FL,&amp;out_id);</td>
      </tr>
      <tr>
        <td id="L4175" class="blob-num js-line-number" data-line-number="4175"></td>
        <td id="LC4175" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4176" class="blob-num js-line-number" data-line-number="4176"></td>
        <td id="LC4176" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Define dimensions */</span></td>
      </tr>
      <tr>
        <td id="L4177" class="blob-num js-line-number" data-line-number="4177"></td>
        <td id="LC4177" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4178" class="blob-num js-line-number" data-line-number="4178"></td>
        <td id="LC4178" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,bnd_nm,grd_crn_nbr,&amp;dmn_id_bnd);</td>
      </tr>
      <tr>
        <td id="L4179" class="blob-num js-line-number" data-line-number="4179"></td>
        <td id="LC4179" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L4180" class="blob-num js-line-number" data-line-number="4180"></td>
        <td id="LC4180" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,bnd_nm,bnd_nbr,&amp;dmn_id_bnd);</td>
      </tr>
      <tr>
        <td id="L4181" class="blob-num js-line-number" data-line-number="4181"></td>
        <td id="LC4181" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L4182" class="blob-num js-line-number" data-line-number="4182"></td>
        <td id="LC4182" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_1D){</td>
      </tr>
      <tr>
        <td id="L4183" class="blob-num js-line-number" data-line-number="4183"></td>
        <td id="LC4183" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,col_nm_out,col_nbr,&amp;dmn_id_col);</td>
      </tr>
      <tr>
        <td id="L4184" class="blob-num js-line-number" data-line-number="4184"></td>
        <td id="LC4184" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_1D */</span></td>
      </tr>
      <tr>
        <td id="L4185" class="blob-num js-line-number" data-line-number="4185"></td>
        <td id="LC4185" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L4186" class="blob-num js-line-number" data-line-number="4186"></td>
        <td id="LC4186" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,lat_nm_out,lat_nbr,&amp;dmn_id_lat);</td>
      </tr>
      <tr>
        <td id="L4187" class="blob-num js-line-number" data-line-number="4187"></td>
        <td id="LC4187" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_def_dim</span>(out_id,lon_nm_out,lon_nbr,&amp;dmn_id_lon);</td>
      </tr>
      <tr>
        <td id="L4188" class="blob-num js-line-number" data-line-number="4188"></td>
        <td id="LC4188" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4189" class="blob-num js-line-number" data-line-number="4189"></td>
        <td id="LC4189" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4190" class="blob-num js-line-number" data-line-number="4190"></td>
        <td id="LC4190" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define new coordinates and variables in regridded file */</span></td>
      </tr>
      <tr>
        <td id="L4191" class="blob-num js-line-number" data-line-number="4191"></td>
        <td id="LC4191" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_1D){</td>
      </tr>
      <tr>
        <td id="L4192" class="blob-num js-line-number" data-line-number="4192"></td>
        <td id="LC4192" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ,dmn_nbr_1D,&amp;dmn_id_col,&amp;lat_id);</td>
      </tr>
      <tr>
        <td id="L4193" class="blob-num js-line-number" data-line-number="4193"></td>
        <td id="LC4193" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ,dmn_nbr_1D,&amp;dmn_id_col,&amp;lon_id);</td>
      </tr>
      <tr>
        <td id="L4194" class="blob-num js-line-number" data-line-number="4194"></td>
        <td id="LC4194" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_col;</td>
      </tr>
      <tr>
        <td id="L4195" class="blob-num js-line-number" data-line-number="4195"></td>
        <td id="LC4195" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L4196" class="blob-num js-line-number" data-line-number="4196"></td>
        <td id="LC4196" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4197" class="blob-num js-line-number" data-line-number="4197"></td>
        <td id="LC4197" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_col;</td>
      </tr>
      <tr>
        <td id="L4198" class="blob-num js-line-number" data-line-number="4198"></td>
        <td id="LC4198" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L4199" class="blob-num js-line-number" data-line-number="4199"></td>
        <td id="LC4199" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4200" class="blob-num js-line-number" data-line-number="4200"></td>
        <td id="LC4200" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_col,&amp;area_id);</td>
      </tr>
      <tr>
        <td id="L4201" class="blob-num js-line-number" data-line-number="4201"></td>
        <td id="LC4201" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_1D */</span></td>
      </tr>
      <tr>
        <td id="L4202" class="blob-num js-line-number" data-line-number="4202"></td>
        <td id="LC4202" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4203" class="blob-num js-line-number" data-line-number="4203"></td>
        <td id="LC4203" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L4204" class="blob-num js-line-number" data-line-number="4204"></td>
        <td id="LC4204" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L4205" class="blob-num js-line-number" data-line-number="4205"></td>
        <td id="LC4205" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lat_id);</td>
      </tr>
      <tr>
        <td id="L4206" class="blob-num js-line-number" data-line-number="4206"></td>
        <td id="LC4206" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lon_id);</td>
      </tr>
      <tr>
        <td id="L4207" class="blob-num js-line-number" data-line-number="4207"></td>
        <td id="LC4207" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;area_id);</td>
      </tr>
      <tr>
        <td id="L4208" class="blob-num js-line-number" data-line-number="4208"></td>
        <td id="LC4208" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L4209" class="blob-num js-line-number" data-line-number="4209"></td>
        <td id="LC4209" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L4210" class="blob-num js-line-number" data-line-number="4210"></td>
        <td id="LC4210" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">2</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L4211" class="blob-num js-line-number" data-line-number="4211"></td>
        <td id="LC4211" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm,crd_typ,dmn_nbr_3D,dmn_ids,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4212" class="blob-num js-line-number" data-line-number="4212"></td>
        <td id="LC4212" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm,crd_typ,dmn_nbr_3D,dmn_ids,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4213" class="blob-num js-line-number" data-line-number="4213"></td>
        <td id="LC4213" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L4214" class="blob-num js-line-number" data-line-number="4214"></td>
        <td id="LC4214" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_nm_out,crd_typ,dmn_nbr_1D,&amp;dmn_id_lat,&amp;lat_id);</td>
      </tr>
      <tr>
        <td id="L4215" class="blob-num js-line-number" data-line-number="4215"></td>
        <td id="LC4215" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_nm_out,crd_typ,dmn_nbr_1D,&amp;dmn_id_lon,&amp;lon_id);</td>
      </tr>
      <tr>
        <td id="L4216" class="blob-num js-line-number" data-line-number="4216"></td>
        <td id="LC4216" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L4217" class="blob-num js-line-number" data-line-number="4217"></td>
        <td id="LC4217" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L4218" class="blob-num js-line-number" data-line-number="4218"></td>
        <td id="LC4218" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_bnd_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lat_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4219" class="blob-num js-line-number" data-line-number="4219"></td>
        <td id="LC4219" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L4220" class="blob-num js-line-number" data-line-number="4220"></td>
        <td id="LC4220" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_bnd;</td>
      </tr>
      <tr>
        <td id="L4221" class="blob-num js-line-number" data-line-number="4221"></td>
        <td id="LC4221" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lon_bnd_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;lon_bnd_id);</td>
      </tr>
      <tr>
        <td id="L4222" class="blob-num js-line-number" data-line-number="4222"></td>
        <td id="LC4222" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,lat_wgt_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_lat,&amp;lat_wgt_id);</td>
      </tr>
      <tr>
        <td id="L4223" class="blob-num js-line-number" data-line-number="4223"></td>
        <td id="LC4223" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">0</span>]=dmn_id_lat;</td>
      </tr>
      <tr>
        <td id="L4224" class="blob-num js-line-number" data-line-number="4224"></td>
        <td id="LC4224" class="blob-code blob-code-inner js-file-line">      dmn_ids[<span class="pl-c1">1</span>]=dmn_id_lon;</td>
      </tr>
      <tr>
        <td id="L4225" class="blob-num js-line-number" data-line-number="4225"></td>
        <td id="LC4225" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;area_id);</td>
      </tr>
      <tr>
        <td id="L4226" class="blob-num js-line-number" data-line-number="4226"></td>
        <td id="LC4226" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4227" class="blob-num js-line-number" data-line-number="4227"></td>
        <td id="LC4227" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4228" class="blob-num js-line-number" data-line-number="4228"></td>
        <td id="LC4228" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Define &quot;units&quot; attributes */</span></td>
      </tr>
      <tr>
        <td id="L4229" class="blob-num js-line-number" data-line-number="4229"></td>
        <td id="LC4229" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>title<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4230" class="blob-num js-line-number" data-line-number="4230"></td>
        <td id="LC4230" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(rgr-&gt;grd_ttl);</td>
      </tr>
      <tr>
        <td id="L4231" class="blob-num js-line-number" data-line-number="4231"></td>
        <td id="LC4231" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4232" class="blob-num js-line-number" data-line-number="4232"></td>
        <td id="LC4232" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4233" class="blob-num js-line-number" data-line-number="4233"></td>
        <td id="LC4233" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4234" class="blob-num js-line-number" data-line-number="4234"></td>
        <td id="LC4234" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4235" class="blob-num js-line-number" data-line-number="4235"></td>
        <td id="LC4235" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4236" class="blob-num js-line-number" data-line-number="4236"></td>
        <td id="LC4236" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4237" class="blob-num js-line-number" data-line-number="4237"></td>
        <td id="LC4237" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4238" class="blob-num js-line-number" data-line-number="4238"></td>
        <td id="LC4238" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4239" class="blob-num js-line-number" data-line-number="4239"></td>
        <td id="LC4239" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4240" class="blob-num js-line-number" data-line-number="4240"></td>
        <td id="LC4240" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4241" class="blob-num js-line-number" data-line-number="4241"></td>
        <td id="LC4241" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4242" class="blob-num js-line-number" data-line-number="4242"></td>
        <td id="LC4242" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Conventions<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4243" class="blob-num js-line-number" data-line-number="4243"></td>
        <td id="LC4243" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>CF-1.6<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4244" class="blob-num js-line-number" data-line-number="4244"></td>
        <td id="LC4244" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4245" class="blob-num js-line-number" data-line-number="4245"></td>
        <td id="LC4245" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4246" class="blob-num js-line-number" data-line-number="4246"></td>
        <td id="LC4246" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4247" class="blob-num js-line-number" data-line-number="4247"></td>
        <td id="LC4247" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4248" class="blob-num js-line-number" data-line-number="4248"></td>
        <td id="LC4248" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4249" class="blob-num js-line-number" data-line-number="4249"></td>
        <td id="LC4249" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4250" class="blob-num js-line-number" data-line-number="4250"></td>
        <td id="LC4250" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4251" class="blob-num js-line-number" data-line-number="4251"></td>
        <td id="LC4251" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4252" class="blob-num js-line-number" data-line-number="4252"></td>
        <td id="LC4252" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4253" class="blob-num js-line-number" data-line-number="4253"></td>
        <td id="LC4253" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4254" class="blob-num js-line-number" data-line-number="4254"></td>
        <td id="LC4254" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4255" class="blob-num js-line-number" data-line-number="4255"></td>
        <td id="LC4255" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>created_by<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4256" class="blob-num js-line-number" data-line-number="4256"></td>
        <td id="LC4256" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(usr_cpp);</td>
      </tr>
      <tr>
        <td id="L4257" class="blob-num js-line-number" data-line-number="4257"></td>
        <td id="LC4257" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4258" class="blob-num js-line-number" data-line-number="4258"></td>
        <td id="LC4258" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4259" class="blob-num js-line-number" data-line-number="4259"></td>
        <td id="LC4259" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4260" class="blob-num js-line-number" data-line-number="4260"></td>
        <td id="LC4260" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4261" class="blob-num js-line-number" data-line-number="4261"></td>
        <td id="LC4261" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4262" class="blob-num js-line-number" data-line-number="4262"></td>
        <td id="LC4262" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4263" class="blob-num js-line-number" data-line-number="4263"></td>
        <td id="LC4263" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4264" class="blob-num js-line-number" data-line-number="4264"></td>
        <td id="LC4264" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4265" class="blob-num js-line-number" data-line-number="4265"></td>
        <td id="LC4265" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4266" class="blob-num js-line-number" data-line-number="4266"></td>
        <td id="LC4266" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4267" class="blob-num js-line-number" data-line-number="4267"></td>
        <td id="LC4267" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4268" class="blob-num js-line-number" data-line-number="4268"></td>
        <td id="LC4268" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_hst_att_cat</span>(out_id,rgr-&gt;cmd_ln);</td>
      </tr>
      <tr>
        <td id="L4269" class="blob-num js-line-number" data-line-number="4269"></td>
        <td id="LC4269" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_vrs_att_cat</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L4270" class="blob-num js-line-number" data-line-number="4270"></td>
        <td id="LC4270" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4271" class="blob-num js-line-number" data-line-number="4271"></td>
        <td id="LC4271" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4272" class="blob-num js-line-number" data-line-number="4272"></td>
        <td id="LC4272" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lat_sng</span>(lat_typ));</td>
      </tr>
      <tr>
        <td id="L4273" class="blob-num js-line-number" data-line-number="4273"></td>
        <td id="LC4273" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4274" class="blob-num js-line-number" data-line-number="4274"></td>
        <td id="LC4274" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4275" class="blob-num js-line-number" data-line-number="4275"></td>
        <td id="LC4275" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4276" class="blob-num js-line-number" data-line-number="4276"></td>
        <td id="LC4276" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4277" class="blob-num js-line-number" data-line-number="4277"></td>
        <td id="LC4277" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4278" class="blob-num js-line-number" data-line-number="4278"></td>
        <td id="LC4278" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4279" class="blob-num js-line-number" data-line-number="4279"></td>
        <td id="LC4279" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4280" class="blob-num js-line-number" data-line-number="4280"></td>
        <td id="LC4280" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4281" class="blob-num js-line-number" data-line-number="4281"></td>
        <td id="LC4281" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4282" class="blob-num js-line-number" data-line-number="4282"></td>
        <td id="LC4282" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4283" class="blob-num js-line-number" data-line-number="4283"></td>
        <td id="LC4283" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4284" class="blob-num js-line-number" data-line-number="4284"></td>
        <td id="LC4284" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4285" class="blob-num js-line-number" data-line-number="4285"></td>
        <td id="LC4285" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lon_sng</span>(lon_typ));</td>
      </tr>
      <tr>
        <td id="L4286" class="blob-num js-line-number" data-line-number="4286"></td>
        <td id="LC4286" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4287" class="blob-num js-line-number" data-line-number="4287"></td>
        <td id="LC4287" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4288" class="blob-num js-line-number" data-line-number="4288"></td>
        <td id="LC4288" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L4289" class="blob-num js-line-number" data-line-number="4289"></td>
        <td id="LC4289" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4290" class="blob-num js-line-number" data-line-number="4290"></td>
        <td id="LC4290" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4291" class="blob-num js-line-number" data-line-number="4291"></td>
        <td id="LC4291" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4292" class="blob-num js-line-number" data-line-number="4292"></td>
        <td id="LC4292" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4293" class="blob-num js-line-number" data-line-number="4293"></td>
        <td id="LC4293" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4294" class="blob-num js-line-number" data-line-number="4294"></td>
        <td id="LC4294" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4295" class="blob-num js-line-number" data-line-number="4295"></td>
        <td id="LC4295" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4296" class="blob-num js-line-number" data-line-number="4296"></td>
        <td id="LC4296" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4297" class="blob-num js-line-number" data-line-number="4297"></td>
        <td id="LC4297" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4298" class="blob-num js-line-number" data-line-number="4298"></td>
        <td id="LC4298" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>steradian<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4299" class="blob-num js-line-number" data-line-number="4299"></td>
        <td id="LC4299" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4300" class="blob-num js-line-number" data-line-number="4300"></td>
        <td id="LC4300" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=area_nm;</td>
      </tr>
      <tr>
        <td id="L4301" class="blob-num js-line-number" data-line-number="4301"></td>
        <td id="LC4301" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=area_id;</td>
      </tr>
      <tr>
        <td id="L4302" class="blob-num js-line-number" data-line-number="4302"></td>
        <td id="LC4302" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4303" class="blob-num js-line-number" data-line-number="4303"></td>
        <td id="LC4303" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4304" class="blob-num js-line-number" data-line-number="4304"></td>
        <td id="LC4304" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4305" class="blob-num js-line-number" data-line-number="4305"></td>
        <td id="LC4305" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4306" class="blob-num js-line-number" data-line-number="4306"></td>
        <td id="LC4306" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4307" class="blob-num js-line-number" data-line-number="4307"></td>
        <td id="LC4307" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4308" class="blob-num js-line-number" data-line-number="4308"></td>
        <td id="LC4308" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4309" class="blob-num js-line-number" data-line-number="4309"></td>
        <td id="LC4309" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4310" class="blob-num js-line-number" data-line-number="4310"></td>
        <td id="LC4310" class="blob-code blob-code-inner js-file-line">    att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4311" class="blob-num js-line-number" data-line-number="4311"></td>
        <td id="LC4311" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>degrees<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4312" class="blob-num js-line-number" data-line-number="4312"></td>
        <td id="LC4312" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L4313" class="blob-num js-line-number" data-line-number="4313"></td>
        <td id="LC4313" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4314" class="blob-num js-line-number" data-line-number="4314"></td>
        <td id="LC4314" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L4315" class="blob-num js-line-number" data-line-number="4315"></td>
        <td id="LC4315" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L4316" class="blob-num js-line-number" data-line-number="4316"></td>
        <td id="LC4316" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L4317" class="blob-num js-line-number" data-line-number="4317"></td>
        <td id="LC4317" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Add same units attribute to four different variables */</span></td>
      </tr>
      <tr>
        <td id="L4318" class="blob-num js-line-number" data-line-number="4318"></td>
        <td id="LC4318" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lat_nm_out;</td>
      </tr>
      <tr>
        <td id="L4319" class="blob-num js-line-number" data-line-number="4319"></td>
        <td id="LC4319" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lat_id;</td>
      </tr>
      <tr>
        <td id="L4320" class="blob-num js-line-number" data-line-number="4320"></td>
        <td id="LC4320" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4321" class="blob-num js-line-number" data-line-number="4321"></td>
        <td id="LC4321" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lon_nm_out;</td>
      </tr>
      <tr>
        <td id="L4322" class="blob-num js-line-number" data-line-number="4322"></td>
        <td id="LC4322" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lon_id;</td>
      </tr>
      <tr>
        <td id="L4323" class="blob-num js-line-number" data-line-number="4323"></td>
        <td id="LC4323" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4324" class="blob-num js-line-number" data-line-number="4324"></td>
        <td id="LC4324" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lat_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4325" class="blob-num js-line-number" data-line-number="4325"></td>
        <td id="LC4325" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lat_bnd_id;</td>
      </tr>
      <tr>
        <td id="L4326" class="blob-num js-line-number" data-line-number="4326"></td>
        <td id="LC4326" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lat_bnd_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4327" class="blob-num js-line-number" data-line-number="4327"></td>
        <td id="LC4327" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">var_nm</span>=lon_bnd_nm;</td>
      </tr>
      <tr>
        <td id="L4328" class="blob-num js-line-number" data-line-number="4328"></td>
        <td id="LC4328" class="blob-code blob-code-inner js-file-line">    aed_mtd.<span class="pl-smi">id</span>=lon_bnd_id;</td>
      </tr>
      <tr>
        <td id="L4329" class="blob-num js-line-number" data-line-number="4329"></td>
        <td id="LC4329" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,lon_bnd_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L4330" class="blob-num js-line-number" data-line-number="4330"></td>
        <td id="LC4330" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L4331" class="blob-num js-line-number" data-line-number="4331"></td>
        <td id="LC4331" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L4332" class="blob-num js-line-number" data-line-number="4332"></td>
        <td id="LC4332" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4333" class="blob-num js-line-number" data-line-number="4333"></td>
        <td id="LC4333" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Begin data mode */</span></td>
      </tr>
      <tr>
        <td id="L4334" class="blob-num js-line-number" data-line-number="4334"></td>
        <td id="LC4334" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_enddef</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L4335" class="blob-num js-line-number" data-line-number="4335"></td>
        <td id="LC4335" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4336" class="blob-num js-line-number" data-line-number="4336"></td>
        <td id="LC4336" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Write new coordinates and variables to regridded file */</span></td>
      </tr>
      <tr>
        <td id="L4337" class="blob-num js-line-number" data-line-number="4337"></td>
        <td id="LC4337" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_1D){</td>
      </tr>
      <tr>
        <td id="L4338" class="blob-num js-line-number" data-line-number="4338"></td>
        <td id="LC4338" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4339" class="blob-num js-line-number" data-line-number="4339"></td>
        <td id="LC4339" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=col_nbr;</td>
      </tr>
      <tr>
        <td id="L4340" class="blob-num js-line-number" data-line-number="4340"></td>
        <td id="LC4340" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_id,dmn_srt,dmn_cnt,lat_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4341" class="blob-num js-line-number" data-line-number="4341"></td>
        <td id="LC4341" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4342" class="blob-num js-line-number" data-line-number="4342"></td>
        <td id="LC4342" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=col_nbr;</td>
      </tr>
      <tr>
        <td id="L4343" class="blob-num js-line-number" data-line-number="4343"></td>
        <td id="LC4343" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_id,dmn_srt,dmn_cnt,lon_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4344" class="blob-num js-line-number" data-line-number="4344"></td>
        <td id="LC4344" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4345" class="blob-num js-line-number" data-line-number="4345"></td>
        <td id="LC4345" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=col_nbr;</td>
      </tr>
      <tr>
        <td id="L4346" class="blob-num js-line-number" data-line-number="4346"></td>
        <td id="LC4346" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr;</td>
      </tr>
      <tr>
        <td id="L4347" class="blob-num js-line-number" data-line-number="4347"></td>
        <td id="LC4347" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt,dmn_cnt,lat_bnd,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4348" class="blob-num js-line-number" data-line-number="4348"></td>
        <td id="LC4348" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4349" class="blob-num js-line-number" data-line-number="4349"></td>
        <td id="LC4349" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=col_nbr;</td>
      </tr>
      <tr>
        <td id="L4350" class="blob-num js-line-number" data-line-number="4350"></td>
        <td id="LC4350" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr;</td>
      </tr>
      <tr>
        <td id="L4351" class="blob-num js-line-number" data-line-number="4351"></td>
        <td id="LC4351" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt,dmn_cnt,lon_bnd,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4352" class="blob-num js-line-number" data-line-number="4352"></td>
        <td id="LC4352" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4353" class="blob-num js-line-number" data-line-number="4353"></td>
        <td id="LC4353" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=col_nbr;</td>
      </tr>
      <tr>
        <td id="L4354" class="blob-num js-line-number" data-line-number="4354"></td>
        <td id="LC4354" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4355" class="blob-num js-line-number" data-line-number="4355"></td>
        <td id="LC4355" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_1D */</span></td>
      </tr>
      <tr>
        <td id="L4356" class="blob-num js-line-number" data-line-number="4356"></td>
        <td id="LC4356" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4357" class="blob-num js-line-number" data-line-number="4357"></td>
        <td id="LC4357" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4358" class="blob-num js-line-number" data-line-number="4358"></td>
        <td id="LC4358" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4359" class="blob-num js-line-number" data-line-number="4359"></td>
        <td id="LC4359" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4360" class="blob-num js-line-number" data-line-number="4360"></td>
        <td id="LC4360" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_id,dmn_srt,dmn_cnt,grd_ctr_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4361" class="blob-num js-line-number" data-line-number="4361"></td>
        <td id="LC4361" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_id,dmn_srt,dmn_cnt,grd_ctr_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4362" class="blob-num js-line-number" data-line-number="4362"></td>
        <td id="LC4362" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4363" class="blob-num js-line-number" data-line-number="4363"></td>
        <td id="LC4363" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;dmn_srt[<span class="pl-c1">2</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4364" class="blob-num js-line-number" data-line-number="4364"></td>
        <td id="LC4364" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4365" class="blob-num js-line-number" data-line-number="4365"></td>
        <td id="LC4365" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4366" class="blob-num js-line-number" data-line-number="4366"></td>
        <td id="LC4366" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">2</span>]=grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L4367" class="blob-num js-line-number" data-line-number="4367"></td>
        <td id="LC4367" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt,dmn_cnt,grd_crn_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4368" class="blob-num js-line-number" data-line-number="4368"></td>
        <td id="LC4368" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt,dmn_cnt,grd_crn_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4369" class="blob-num js-line-number" data-line-number="4369"></td>
        <td id="LC4369" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L4370" class="blob-num js-line-number" data-line-number="4370"></td>
        <td id="LC4370" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4371" class="blob-num js-line-number" data-line-number="4371"></td>
        <td id="LC4371" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4372" class="blob-num js-line-number" data-line-number="4372"></td>
        <td id="LC4372" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_id,dmn_srt,dmn_cnt,lat_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4373" class="blob-num js-line-number" data-line-number="4373"></td>
        <td id="LC4373" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4374" class="blob-num js-line-number" data-line-number="4374"></td>
        <td id="LC4374" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4375" class="blob-num js-line-number" data-line-number="4375"></td>
        <td id="LC4375" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_id,dmn_srt,dmn_cnt,lon_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4376" class="blob-num js-line-number" data-line-number="4376"></td>
        <td id="LC4376" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4377" class="blob-num js-line-number" data-line-number="4377"></td>
        <td id="LC4377" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4378" class="blob-num js-line-number" data-line-number="4378"></td>
        <td id="LC4378" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_wgt_id,dmn_srt,dmn_cnt,lat_wgt,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4379" class="blob-num js-line-number" data-line-number="4379"></td>
        <td id="LC4379" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4380" class="blob-num js-line-number" data-line-number="4380"></td>
        <td id="LC4380" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4381" class="blob-num js-line-number" data-line-number="4381"></td>
        <td id="LC4381" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr;</td>
      </tr>
      <tr>
        <td id="L4382" class="blob-num js-line-number" data-line-number="4382"></td>
        <td id="LC4382" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lat_bnd_id,dmn_srt,dmn_cnt,lat_bnd,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4383" class="blob-num js-line-number" data-line-number="4383"></td>
        <td id="LC4383" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4384" class="blob-num js-line-number" data-line-number="4384"></td>
        <td id="LC4384" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4385" class="blob-num js-line-number" data-line-number="4385"></td>
        <td id="LC4385" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=bnd_nbr;</td>
      </tr>
      <tr>
        <td id="L4386" class="blob-num js-line-number" data-line-number="4386"></td>
        <td id="LC4386" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,lon_bnd_id,dmn_srt,dmn_cnt,lon_bnd,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4387" class="blob-num js-line-number" data-line-number="4387"></td>
        <td id="LC4387" class="blob-code blob-code-inner js-file-line">      dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4388" class="blob-num js-line-number" data-line-number="4388"></td>
        <td id="LC4388" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4389" class="blob-num js-line-number" data-line-number="4389"></td>
        <td id="LC4389" class="blob-code blob-code-inner js-file-line">      dmn_cnt[<span class="pl-c1">1</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4390" class="blob-num js-line-number" data-line-number="4390"></td>
        <td id="LC4390" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_put_vara</span>(out_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4391" class="blob-num js-line-number" data-line-number="4391"></td>
        <td id="LC4391" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4392" class="blob-num js-line-number" data-line-number="4392"></td>
        <td id="LC4392" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4393" class="blob-num js-line-number" data-line-number="4393"></td>
        <td id="LC4393" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Close output file and move it from temporary to permanent location */</span></td>
      </tr>
      <tr>
        <td id="L4394" class="blob-num js-line-number" data-line-number="4394"></td>
        <td id="LC4394" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_out_cls</span>(fl_out,fl_out_tmp,out_id);</td>
      </tr>
      <tr>
        <td id="L4395" class="blob-num js-line-number" data-line-number="4395"></td>
        <td id="LC4395" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !fl_out */</span></td>
      </tr>
      <tr>
        <td id="L4396" class="blob-num js-line-number" data-line-number="4396"></td>
        <td id="LC4396" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4397" class="blob-num js-line-number" data-line-number="4397"></td>
        <td id="LC4397" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free memory associated with input file */</span></td>
      </tr>
      <tr>
        <td id="L4398" class="blob-num js-line-number" data-line-number="4398"></td>
        <td id="LC4398" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_sz_int) dmn_sz_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_sz_int);</td>
      </tr>
      <tr>
        <td id="L4399" class="blob-num js-line-number" data-line-number="4399"></td>
        <td id="LC4399" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk) msk=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(msk);</td>
      </tr>
      <tr>
        <td id="L4400" class="blob-num js-line-number" data-line-number="4400"></td>
        <td id="LC4400" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(area) area=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(area);</td>
      </tr>
      <tr>
        <td id="L4401" class="blob-num js-line-number" data-line-number="4401"></td>
        <td id="LC4401" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_ctr_lat) grd_ctr_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_ctr_lat);</td>
      </tr>
      <tr>
        <td id="L4402" class="blob-num js-line-number" data-line-number="4402"></td>
        <td id="LC4402" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_ctr_lon) grd_ctr_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_ctr_lon);</td>
      </tr>
      <tr>
        <td id="L4403" class="blob-num js-line-number" data-line-number="4403"></td>
        <td id="LC4403" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_crn_lat) grd_crn_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_crn_lat);</td>
      </tr>
      <tr>
        <td id="L4404" class="blob-num js-line-number" data-line-number="4404"></td>
        <td id="LC4404" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_crn_lon) grd_crn_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_crn_lon);</td>
      </tr>
      <tr>
        <td id="L4405" class="blob-num js-line-number" data-line-number="4405"></td>
        <td id="LC4405" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd) lat_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd);</td>
      </tr>
      <tr>
        <td id="L4406" class="blob-num js-line-number" data-line-number="4406"></td>
        <td id="LC4406" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_crn) lat_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_crn);</td>
      </tr>
      <tr>
        <td id="L4407" class="blob-num js-line-number" data-line-number="4407"></td>
        <td id="LC4407" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ctr) lat_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ctr);</td>
      </tr>
      <tr>
        <td id="L4408" class="blob-num js-line-number" data-line-number="4408"></td>
        <td id="LC4408" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ntf) lat_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ntf);</td>
      </tr>
      <tr>
        <td id="L4409" class="blob-num js-line-number" data-line-number="4409"></td>
        <td id="LC4409" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_sin) lat_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_sin);</td>
      </tr>
      <tr>
        <td id="L4410" class="blob-num js-line-number" data-line-number="4410"></td>
        <td id="LC4410" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_wgt) lat_wgt=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_wgt);</td>
      </tr>
      <tr>
        <td id="L4411" class="blob-num js-line-number" data-line-number="4411"></td>
        <td id="LC4411" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd) lon_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd);</td>
      </tr>
      <tr>
        <td id="L4412" class="blob-num js-line-number" data-line-number="4412"></td>
        <td id="LC4412" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_crn) lon_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_crn);</td>
      </tr>
      <tr>
        <td id="L4413" class="blob-num js-line-number" data-line-number="4413"></td>
        <td id="LC4413" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ctr) lon_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ctr);</td>
      </tr>
      <tr>
        <td id="L4414" class="blob-num js-line-number" data-line-number="4414"></td>
        <td id="LC4414" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ntf) lon_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ntf);</td>
      </tr>
      <tr>
        <td id="L4415" class="blob-num js-line-number" data-line-number="4415"></td>
        <td id="LC4415" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(wgt_Gss) wgt_Gss=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(wgt_Gss);</td>
      </tr>
      <tr>
        <td id="L4416" class="blob-num js-line-number" data-line-number="4416"></td>
        <td id="LC4416" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4417" class="blob-num js-line-number" data-line-number="4417"></td>
        <td id="LC4417" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rcd;</td>
      </tr>
      <tr>
        <td id="L4418" class="blob-num js-line-number" data-line-number="4418"></td>
        <td id="LC4418" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* !nco_grd_mk() */</span></td>
      </tr>
      <tr>
        <td id="L4419" class="blob-num js-line-number" data-line-number="4419"></td>
        <td id="LC4419" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4420" class="blob-num js-line-number" data-line-number="4420"></td>
        <td id="LC4420" class="blob-code blob-code-inner js-file-line"><span class="pl-k">int</span> <span class="pl-c">/* O [enm] Return code */</span></td>
      </tr>
      <tr>
        <td id="L4421" class="blob-num js-line-number" data-line-number="4421"></td>
        <td id="LC4421" class="blob-code blob-code-inner js-file-line">nco_grd_nfr <span class="pl-c">/* [fnc] Infer SCRIP-format grid file from input data file */</span></td>
      </tr>
      <tr>
        <td id="L4422" class="blob-num js-line-number" data-line-number="4422"></td>
        <td id="LC4422" class="blob-code blob-code-inner js-file-line">(rgr_sct * <span class="pl-k">const</span> rgr) <span class="pl-c">/* I/O [sct] Regridding structure */</span></td>
      </tr>
      <tr>
        <td id="L4423" class="blob-num js-line-number" data-line-number="4423"></td>
        <td id="LC4423" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="L4424" class="blob-num js-line-number" data-line-number="4424"></td>
        <td id="LC4424" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Purpose: Use grid information and guesswork to create SCRIP-format grid file from input data file</span></td>
      </tr>
      <tr>
        <td id="L4425" class="blob-num js-line-number" data-line-number="4425"></td>
        <td id="LC4425" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     </span></td>
      </tr>
      <tr>
        <td id="L4426" class="blob-num js-line-number" data-line-number="4426"></td>
        <td id="LC4426" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Test curvilinear grids:</span></td>
      </tr>
      <tr>
        <td id="L4427" class="blob-num js-line-number" data-line-number="4427"></td>
        <td id="LC4427" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr nfr=y --rgr grid=${DATA}/sld/rgr/grd_airs.nc ${DATA}/sld/raw/AIRS.2014.10.01.202.L2.TSurfStd.Regrid010.1DLatLon.nc ~/foo.nc</span></td>
      </tr>
      <tr>
        <td id="L4428" class="blob-num js-line-number" data-line-number="4428"></td>
        <td id="LC4428" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     ncks -O -D 1 --rgr nfr=y --rgr grid=${DATA}/sld/rgr/grd_airs.nc ${DATA}/sld/raw/AIRS.2014.10.01.202.L2.TSurfStd.Regrid010.1DLatLon.hole.nc ~/foo.nc */</span></td>
      </tr>
      <tr>
        <td id="L4429" class="blob-num js-line-number" data-line-number="4429"></td>
        <td id="LC4429" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4430" class="blob-num js-line-number" data-line-number="4430"></td>
        <td id="LC4430" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> fnc_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>nco_grd_nfr()<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* [sng] Function name */</span></td>
      </tr>
      <tr>
        <td id="L4431" class="blob-num js-line-number" data-line-number="4431"></td>
        <td id="LC4431" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4432" class="blob-num js-line-number" data-line-number="4432"></td>
        <td id="LC4432" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> rdn2dgr=<span class="pl-c1">180.0</span>/M_PI;</td>
      </tr>
      <tr>
        <td id="L4433" class="blob-num js-line-number" data-line-number="4433"></td>
        <td id="LC4433" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">double</span> dgr2rdn=M_PI/<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L4434" class="blob-num js-line-number" data-line-number="4434"></td>
        <td id="LC4434" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4435" class="blob-num js-line-number" data-line-number="4435"></td>
        <td id="LC4435" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_1D=<span class="pl-c1">1</span>; <span class="pl-c">/* [nbr] Rank of 1-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L4436" class="blob-num js-line-number" data-line-number="4436"></td>
        <td id="LC4436" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_2D=<span class="pl-c1">2</span>; <span class="pl-c">/* [nbr] Rank of 2-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L4437" class="blob-num js-line-number" data-line-number="4437"></td>
        <td id="LC4437" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_3D=<span class="pl-c1">3</span>; <span class="pl-c">/* [nbr] Rank of 3-D grid variables */</span></td>
      </tr>
      <tr>
        <td id="L4438" class="blob-num js-line-number" data-line-number="4438"></td>
        <td id="LC4438" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> dmn_nbr_grd_max=dmn_nbr_3D; <span class="pl-c">/* [nbr] Maximum rank of grid variables */</span></td>
      </tr>
      <tr>
        <td id="L4439" class="blob-num js-line-number" data-line-number="4439"></td>
        <td id="LC4439" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">int</span> itr_nbr_max=<span class="pl-c1">20</span>; <span class="pl-c">// [nbr] Maximum number of iterations</span></td>
      </tr>
      <tr>
        <td id="L4440" class="blob-num js-line-number" data-line-number="4440"></td>
        <td id="LC4440" class="blob-code blob-code-inner js-file-line"> </td>
      </tr>
      <tr>
        <td id="L4441" class="blob-num js-line-number" data-line-number="4441"></td>
        <td id="LC4441" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> nc_type crd_typ=NC_DOUBLE;</td>
      </tr>
      <tr>
        <td id="L4442" class="blob-num js-line-number" data-line-number="4442"></td>
        <td id="LC4442" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4443" class="blob-num js-line-number" data-line-number="4443"></td>
        <td id="LC4443" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *area_nm_in=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4444" class="blob-num js-line-number" data-line-number="4444"></td>
        <td id="LC4444" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_in;</td>
      </tr>
      <tr>
        <td id="L4445" class="blob-num js-line-number" data-line-number="4445"></td>
        <td id="LC4445" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_out;</td>
      </tr>
      <tr>
        <td id="L4446" class="blob-num js-line-number" data-line-number="4446"></td>
        <td id="LC4446" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_out_tmp=NULL_CEWI;</td>
      </tr>
      <tr>
        <td id="L4447" class="blob-num js-line-number" data-line-number="4447"></td>
        <td id="LC4447" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *fl_pth_lcl=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4448" class="blob-num js-line-number" data-line-number="4448"></td>
        <td id="LC4448" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *msk_nm_in=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L4449" class="blob-num js-line-number" data-line-number="4449"></td>
        <td id="LC4449" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> dmn_nm[NC_MAX_NAME]; <span class="pl-c">/* [sng] Dimension name */</span></td>
      </tr>
      <tr>
        <td id="L4450" class="blob-num js-line-number" data-line-number="4450"></td>
        <td id="LC4450" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4451" class="blob-num js-line-number" data-line-number="4451"></td>
        <td id="LC4451" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> area_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_area<span class="pl-pds">&quot;</span></span>; <span class="pl-c">/* 20150830: NB ESMF_RegridWeightGen --user_areas looks for variable named &quot;grid_area&quot; */</span></td>
      </tr>
      <tr>
        <td id="L4452" class="blob-num js-line-number" data-line-number="4452"></td>
        <td id="LC4452" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> dmn_sz_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_dims<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4453" class="blob-num js-line-number" data-line-number="4453"></td>
        <td id="LC4453" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_lat_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corner_lat<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4454" class="blob-num js-line-number" data-line-number="4454"></td>
        <td id="LC4454" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_lon_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corner_lon<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4455" class="blob-num js-line-number" data-line-number="4455"></td>
        <td id="LC4455" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_crn_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_corners<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4456" class="blob-num js-line-number" data-line-number="4456"></td>
        <td id="LC4456" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_ctr_lat_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_center_lat<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4457" class="blob-num js-line-number" data-line-number="4457"></td>
        <td id="LC4457" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_ctr_lon_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_center_lon<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4458" class="blob-num js-line-number" data-line-number="4458"></td>
        <td id="LC4458" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_rnk_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_rank<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4459" class="blob-num js-line-number" data-line-number="4459"></td>
        <td id="LC4459" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> grd_sz_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_size<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4460" class="blob-num js-line-number" data-line-number="4460"></td>
        <td id="LC4460" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> msk_nm[]=<span class="pl-s"><span class="pl-pds">&quot;</span>grid_imask<span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L4461" class="blob-num js-line-number" data-line-number="4461"></td>
        <td id="LC4461" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4462" class="blob-num js-line-number" data-line-number="4462"></td>
        <td id="LC4462" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_ctr_lat; <span class="pl-c">/* [dgr] Latitude  centers of grid */</span></td>
      </tr>
      <tr>
        <td id="L4463" class="blob-num js-line-number" data-line-number="4463"></td>
        <td id="LC4463" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_ctr_lon; <span class="pl-c">/* [dgr] Longitude centers of grid */</span></td>
      </tr>
      <tr>
        <td id="L4464" class="blob-num js-line-number" data-line-number="4464"></td>
        <td id="LC4464" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_crn_lat; <span class="pl-c">/* [dgr] Latitude  corners of grid */</span></td>
      </tr>
      <tr>
        <td id="L4465" class="blob-num js-line-number" data-line-number="4465"></td>
        <td id="LC4465" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *grd_crn_lon; <span class="pl-c">/* [dgr] Longitude corners of grid */</span></td>
      </tr>
      <tr>
        <td id="L4466" class="blob-num js-line-number" data-line-number="4466"></td>
        <td id="LC4466" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *area; <span class="pl-c">/* [sr] Area of grid */</span></td>
      </tr>
      <tr>
        <td id="L4467" class="blob-num js-line-number" data-line-number="4467"></td>
        <td id="LC4467" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_bnd=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4468" class="blob-num js-line-number" data-line-number="4468"></td>
        <td id="LC4468" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_crn=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  corners of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4469" class="blob-num js-line-number" data-line-number="4469"></td>
        <td id="LC4469" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ctr=NULL_CEWI; <span class="pl-c">/* [dgr] Latitude  centers of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4470" class="blob-num js-line-number" data-line-number="4470"></td>
        <td id="LC4470" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_ntf=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  interfaces of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4471" class="blob-num js-line-number" data-line-number="4471"></td>
        <td id="LC4471" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lat_wgt=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Latitude  weights of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4472" class="blob-num js-line-number" data-line-number="4472"></td>
        <td id="LC4472" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_bnd=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude boundaries of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4473" class="blob-num js-line-number" data-line-number="4473"></td>
        <td id="LC4473" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_crn=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude corners of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4474" class="blob-num js-line-number" data-line-number="4474"></td>
        <td id="LC4474" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ctr=NULL_CEWI; <span class="pl-c">/* [dgr] Longitude centers of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4475" class="blob-num js-line-number" data-line-number="4475"></td>
        <td id="LC4475" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> *lon_ntf=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [dgr] Longitude interfaces of rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4476" class="blob-num js-line-number" data-line-number="4476"></td>
        <td id="LC4476" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4477" class="blob-num js-line-number" data-line-number="4477"></td>
        <td id="LC4477" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> area_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Exact sum of area */</span></td>
      </tr>
      <tr>
        <td id="L4478" class="blob-num js-line-number" data-line-number="4478"></td>
        <td id="LC4478" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_nrt; <span class="pl-c">/* [dgr] Latitude of northern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L4479" class="blob-num js-line-number" data-line-number="4479"></td>
        <td id="LC4479" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//double lat_sth; /* [dgr] Latitude of southern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L4480" class="blob-num js-line-number" data-line-number="4480"></td>
        <td id="LC4480" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_ttl=<span class="pl-c1">0.0</span>; <span class="pl-c">/* [frc] Actual sum of quadrature weights */</span></td>
      </tr>
      <tr>
        <td id="L4481" class="blob-num js-line-number" data-line-number="4481"></td>
        <td id="LC4481" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_wgt_gss; <span class="pl-c">/* [frc] Latitude weight estimated from interface latitudes */</span></td>
      </tr>
      <tr>
        <td id="L4482" class="blob-num js-line-number" data-line-number="4482"></td>
        <td id="LC4482" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  double lon_est; /* [dgr] Longitude of eastern edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L4483" class="blob-num js-line-number" data-line-number="4483"></td>
        <td id="LC4483" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  double lon_wst; /* [dgr] Longitude of western edge of grid */</span></td>
      </tr>
      <tr>
        <td id="L4484" class="blob-num js-line-number" data-line-number="4484"></td>
        <td id="LC4484" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">//  double lon_ncr; /* [dgr] Longitude increment */</span></td>
      </tr>
      <tr>
        <td id="L4485" class="blob-num js-line-number" data-line-number="4485"></td>
        <td id="LC4485" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_ncr; <span class="pl-c">/* [dgr] Latitude increment */</span></td>
      </tr>
      <tr>
        <td id="L4486" class="blob-num js-line-number" data-line-number="4486"></td>
        <td id="LC4486" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lon_spn; <span class="pl-c">/* [dgr] Longitude span */</span></td>
      </tr>
      <tr>
        <td id="L4487" class="blob-num js-line-number" data-line-number="4487"></td>
        <td id="LC4487" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">double</span> lat_spn; <span class="pl-c">/* [dgr] Latitude span */</span></td>
      </tr>
      <tr>
        <td id="L4488" class="blob-num js-line-number" data-line-number="4488"></td>
        <td id="LC4488" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4489" class="blob-num js-line-number" data-line-number="4489"></td>
        <td id="LC4489" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *msk=<span class="pl-c1">NULL</span>; <span class="pl-c">/* [flg] Mask of grid */</span></td>
      </tr>
      <tr>
        <td id="L4490" class="blob-num js-line-number" data-line-number="4490"></td>
        <td id="LC4490" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> *dmn_sz_int; <span class="pl-c">/* [nbr] Array of dimension sizes of grid */</span></td>
      </tr>
      <tr>
        <td id="L4491" class="blob-num js-line-number" data-line-number="4491"></td>
        <td id="LC4491" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4492" class="blob-num js-line-number" data-line-number="4492"></td>
        <td id="LC4492" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_ids[dmn_nbr_grd_max]; <span class="pl-c">/* [id] Dimension IDs array for output variable */</span></td>
      </tr>
      <tr>
        <td id="L4493" class="blob-num js-line-number" data-line-number="4493"></td>
        <td id="LC4493" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4494" class="blob-num js-line-number" data-line-number="4494"></td>
        <td id="LC4494" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_idx; <span class="pl-c">/* [idx] Dimension index */</span></td>
      </tr>
      <tr>
        <td id="L4495" class="blob-num js-line-number" data-line-number="4495"></td>
        <td id="LC4495" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> fl_out_fmt=NC_FORMAT_CLASSIC; <span class="pl-c">/* [enm] Output file format */</span></td>
      </tr>
      <tr>
        <td id="L4496" class="blob-num js-line-number" data-line-number="4496"></td>
        <td id="LC4496" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> in_id; <span class="pl-c">/* I [id] Input netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L4497" class="blob-num js-line-number" data-line-number="4497"></td>
        <td id="LC4497" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> md_open; <span class="pl-c">/* [enm] Mode flag for nc_open() call */</span></td>
      </tr>
      <tr>
        <td id="L4498" class="blob-num js-line-number" data-line-number="4498"></td>
        <td id="LC4498" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> out_id; <span class="pl-c">/* I [id] Output netCDF file ID */</span></td>
      </tr>
      <tr>
        <td id="L4499" class="blob-num js-line-number" data-line-number="4499"></td>
        <td id="LC4499" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> rcd=NC_NOERR;</td>
      </tr>
      <tr>
        <td id="L4500" class="blob-num js-line-number" data-line-number="4500"></td>
        <td id="LC4500" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4501" class="blob-num js-line-number" data-line-number="4501"></td>
        <td id="LC4501" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> area_id=NC_MIN_INT; <span class="pl-c">/* [id] Area variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4502" class="blob-num js-line-number" data-line-number="4502"></td>
        <td id="LC4502" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_crn; <span class="pl-c">/* [id] Grid corners dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4503" class="blob-num js-line-number" data-line-number="4503"></td>
        <td id="LC4503" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_rnk; <span class="pl-c">/* [id] Grid rank dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4504" class="blob-num js-line-number" data-line-number="4504"></td>
        <td id="LC4504" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_grd_sz; <span class="pl-c">/* [id] Grid size dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4505" class="blob-num js-line-number" data-line-number="4505"></td>
        <td id="LC4505" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_sz_int_id; <span class="pl-c">/* [id] Grid dimension sizes ID */</span></td>
      </tr>
      <tr>
        <td id="L4506" class="blob-num js-line-number" data-line-number="4506"></td>
        <td id="LC4506" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_crn_lat_id; <span class="pl-c">/* [id] Grid corner latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4507" class="blob-num js-line-number" data-line-number="4507"></td>
        <td id="LC4507" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_crn_lon_id; <span class="pl-c">/* [id] Grid corner longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4508" class="blob-num js-line-number" data-line-number="4508"></td>
        <td id="LC4508" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_ctr_lat_id; <span class="pl-c">/* [id] Grid center latitudes  variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4509" class="blob-num js-line-number" data-line-number="4509"></td>
        <td id="LC4509" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> grd_ctr_lon_id; <span class="pl-c">/* [id] Grid center longitudes variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4510" class="blob-num js-line-number" data-line-number="4510"></td>
        <td id="LC4510" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> itr_cnt; <span class="pl-c">/* Iteration counter */</span></td>
      </tr>
      <tr>
        <td id="L4511" class="blob-num js-line-number" data-line-number="4511"></td>
        <td id="LC4511" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_rnk; <span class="pl-c">/* [nbr] Rank of latitude coordinate */</span></td>
      </tr>
      <tr>
        <td id="L4512" class="blob-num js-line-number" data-line-number="4512"></td>
        <td id="LC4512" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_rnk; <span class="pl-c">/* [nbr] Rank of longitude coordinate */</span></td>
      </tr>
      <tr>
        <td id="L4513" class="blob-num js-line-number" data-line-number="4513"></td>
        <td id="LC4513" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_ctr_id; <span class="pl-c">/* [id] Latitude centers of rectangular grid variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4514" class="blob-num js-line-number" data-line-number="4514"></td>
        <td id="LC4514" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_ctr_id; <span class="pl-c">/* [id] Longitude centers of rectangular grid variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4515" class="blob-num js-line-number" data-line-number="4515"></td>
        <td id="LC4515" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_bnd_id=NC_MIN_INT; <span class="pl-c">/* [id] Latitude centers of rectangular grid variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4516" class="blob-num js-line-number" data-line-number="4516"></td>
        <td id="LC4516" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_bnd_id=NC_MIN_INT; <span class="pl-c">/* [id] Longitude centers of rectangular grid variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4517" class="blob-num js-line-number" data-line-number="4517"></td>
        <td id="LC4517" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> msk_id=NC_MIN_INT; <span class="pl-c">/* [id] Mask variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4518" class="blob-num js-line-number" data-line-number="4518"></td>
        <td id="LC4518" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> var_id; <span class="pl-c">/* [id] Current variable ID */</span></td>
      </tr>
      <tr>
        <td id="L4519" class="blob-num js-line-number" data-line-number="4519"></td>
        <td id="LC4519" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4520" class="blob-num js-line-number" data-line-number="4520"></td>
        <td id="LC4520" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_srt[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L4521" class="blob-num js-line-number" data-line-number="4521"></td>
        <td id="LC4521" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_cnt[dmn_nbr_grd_max];</td>
      </tr>
      <tr>
        <td id="L4522" class="blob-num js-line-number" data-line-number="4522"></td>
        <td id="LC4522" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4523" class="blob-num js-line-number" data-line-number="4523"></td>
        <td id="LC4523" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> bnd_idx;</td>
      </tr>
      <tr>
        <td id="L4524" class="blob-num js-line-number" data-line-number="4524"></td>
        <td id="LC4524" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> bnd_nbr; <span class="pl-c">/* [nbr] Number of bounds in gridcell */</span></td>
      </tr>
      <tr>
        <td id="L4525" class="blob-num js-line-number" data-line-number="4525"></td>
        <td id="LC4525" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> dmn_sz; <span class="pl-c">/* [nbr] Size of current dimension */</span></td>
      </tr>
      <tr>
        <td id="L4526" class="blob-num js-line-number" data-line-number="4526"></td>
        <td id="LC4526" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_crn_nbr; <span class="pl-c">/* [nbr] Number of corners in gridcell */</span></td>
      </tr>
      <tr>
        <td id="L4527" class="blob-num js-line-number" data-line-number="4527"></td>
        <td id="LC4527" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_rnk_nbr; <span class="pl-c">/* [nbr] Number of dimensions in grid */</span></td>
      </tr>
      <tr>
        <td id="L4528" class="blob-num js-line-number" data-line-number="4528"></td>
        <td id="LC4528" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> grd_sz_nbr; <span class="pl-c">/* [nbr] Number of gridcells in grid */</span></td>
      </tr>
      <tr>
        <td id="L4529" class="blob-num js-line-number" data-line-number="4529"></td>
        <td id="LC4529" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L4530" class="blob-num js-line-number" data-line-number="4530"></td>
        <td id="LC4530" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> idx2; <span class="pl-c">/* [idx] Counting index for unrolled grids */</span></td>
      </tr>
      <tr>
        <td id="L4531" class="blob-num js-line-number" data-line-number="4531"></td>
        <td id="LC4531" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_idx2; <span class="pl-c">/* [idx] Counting index for unrolled latitude */</span></td>
      </tr>
      <tr>
        <td id="L4532" class="blob-num js-line-number" data-line-number="4532"></td>
        <td id="LC4532" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_idx2; <span class="pl-c">/* [idx] Counting index for unrolled longitude */</span></td>
      </tr>
      <tr>
        <td id="L4533" class="blob-num js-line-number" data-line-number="4533"></td>
        <td id="LC4533" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> crn_idx; <span class="pl-c">/* [idx] Counting index for corners */</span></td>
      </tr>
      <tr>
        <td id="L4534" class="blob-num js-line-number" data-line-number="4534"></td>
        <td id="LC4534" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_idx;</td>
      </tr>
      <tr>
        <td id="L4535" class="blob-num js-line-number" data-line-number="4535"></td>
        <td id="LC4535" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lat_nbr; <span class="pl-c">/* [nbr] Number of latitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L4536" class="blob-num js-line-number" data-line-number="4536"></td>
        <td id="LC4536" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_idx;</td>
      </tr>
      <tr>
        <td id="L4537" class="blob-num js-line-number" data-line-number="4537"></td>
        <td id="LC4537" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">long</span> lon_nbr; <span class="pl-c">/* [nbr] Number of longitudes in grid */</span></td>
      </tr>
      <tr>
        <td id="L4538" class="blob-num js-line-number" data-line-number="4538"></td>
        <td id="LC4538" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4539" class="blob-num js-line-number" data-line-number="4539"></td>
        <td id="LC4539" class="blob-code blob-code-inner js-file-line">  nco_bool FL_RTR_RMT_LCN;</td>
      </tr>
      <tr>
        <td id="L4540" class="blob-num js-line-number" data-line-number="4540"></td>
        <td id="LC4540" class="blob-code blob-code-inner js-file-line">  nco_bool FORCE_APPEND=False; <span class="pl-c">/* Option A */</span></td>
      </tr>
      <tr>
        <td id="L4541" class="blob-num js-line-number" data-line-number="4541"></td>
        <td id="LC4541" class="blob-code blob-code-inner js-file-line">  nco_bool FORCE_OVERWRITE=True; <span class="pl-c">/* Option O */</span></td>
      </tr>
      <tr>
        <td id="L4542" class="blob-num js-line-number" data-line-number="4542"></td>
        <td id="LC4542" class="blob-code blob-code-inner js-file-line">  nco_bool RAM_CREATE=False; <span class="pl-c">/* [flg] Create file in RAM */</span></td>
      </tr>
      <tr>
        <td id="L4543" class="blob-num js-line-number" data-line-number="4543"></td>
        <td id="LC4543" class="blob-code blob-code-inner js-file-line">  nco_bool RAM_OPEN=False; <span class="pl-c">/* [flg] Open (netCDF3-only) file(s) in RAM */</span></td>
      </tr>
      <tr>
        <td id="L4544" class="blob-num js-line-number" data-line-number="4544"></td>
        <td id="LC4544" class="blob-code blob-code-inner js-file-line">  nco_bool RM_RMT_FL_PST_PRC=True; <span class="pl-c">/* Option R */</span></td>
      </tr>
      <tr>
        <td id="L4545" class="blob-num js-line-number" data-line-number="4545"></td>
        <td id="LC4545" class="blob-code blob-code-inner js-file-line">  nco_bool WRT_TMP_FL=False; <span class="pl-c">/* [flg] Write output to temporary file */</span></td>
      </tr>
      <tr>
        <td id="L4546" class="blob-num js-line-number" data-line-number="4546"></td>
        <td id="LC4546" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_2D=False;</td>
      </tr>
      <tr>
        <td id="L4547" class="blob-num js-line-number" data-line-number="4547"></td>
        <td id="LC4547" class="blob-code blob-code-inner js-file-line">  nco_bool flg_grd_crv=False;</td>
      </tr>
      <tr>
        <td id="L4548" class="blob-num js-line-number" data-line-number="4548"></td>
        <td id="LC4548" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4549" class="blob-num js-line-number" data-line-number="4549"></td>
        <td id="LC4549" class="blob-code blob-code-inner js-file-line">  nco_grd_2D_typ_enm grd_typ; <span class="pl-c">/* [enm] Grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L4550" class="blob-num js-line-number" data-line-number="4550"></td>
        <td id="LC4550" class="blob-code blob-code-inner js-file-line">  nco_grd_lat_typ_enm lat_typ; <span class="pl-c">/* [enm] Latitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L4551" class="blob-num js-line-number" data-line-number="4551"></td>
        <td id="LC4551" class="blob-code blob-code-inner js-file-line">  nco_grd_lon_typ_enm lon_typ; <span class="pl-c">/* [enm] Longitude grid-type enum */</span></td>
      </tr>
      <tr>
        <td id="L4552" class="blob-num js-line-number" data-line-number="4552"></td>
        <td id="LC4552" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4553" class="blob-num js-line-number" data-line-number="4553"></td>
        <td id="LC4553" class="blob-code blob-code-inner js-file-line">  nc_type msk_typ;</td>
      </tr>
      <tr>
        <td id="L4554" class="blob-num js-line-number" data-line-number="4554"></td>
        <td id="LC4554" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4555" class="blob-num js-line-number" data-line-number="4555"></td>
        <td id="LC4555" class="blob-code blob-code-inner js-file-line">  ptr_unn msk_unn;</td>
      </tr>
      <tr>
        <td id="L4556" class="blob-num js-line-number" data-line-number="4556"></td>
        <td id="LC4556" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4557" class="blob-num js-line-number" data-line-number="4557"></td>
        <td id="LC4557" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">size_t</span> bfr_sz_hnt=NC_SIZEHINT_DEFAULT; <span class="pl-c">/* [B] Buffer size hint */</span></td>
      </tr>
      <tr>
        <td id="L4558" class="blob-num js-line-number" data-line-number="4558"></td>
        <td id="LC4558" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4559" class="blob-num js-line-number" data-line-number="4559"></td>
        <td id="LC4559" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Algorithm:</span></td>
      </tr>
      <tr>
        <td id="L4560" class="blob-num js-line-number" data-line-number="4560"></td>
        <td id="LC4560" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Read grid information from input data file (aka *_in)</span></td>
      </tr>
      <tr>
        <td id="L4561" class="blob-num js-line-number" data-line-number="4561"></td>
        <td id="LC4561" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Close input file</span></td>
      </tr>
      <tr>
        <td id="L4562" class="blob-num js-line-number" data-line-number="4562"></td>
        <td id="LC4562" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Once grid dimensions known, allocate output grid arrays (aka *_out)</span></td>
      </tr>
      <tr>
        <td id="L4563" class="blob-num js-line-number" data-line-number="4563"></td>
        <td id="LC4563" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Open output file (aka grid-file)</span></td>
      </tr>
      <tr>
        <td id="L4564" class="blob-num js-line-number" data-line-number="4564"></td>
        <td id="LC4564" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Use guesswork and standard algorithms to fill-in output arrays */</span></td>
      </tr>
      <tr>
        <td id="L4565" class="blob-num js-line-number" data-line-number="4565"></td>
        <td id="LC4565" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4566" class="blob-num js-line-number" data-line-number="4566"></td>
        <td id="LC4566" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Duplicate (because nco_fl_mk_lcl() free()&#39;s fl_in) */</span></td>
      </tr>
      <tr>
        <td id="L4567" class="blob-num js-line-number" data-line-number="4567"></td>
        <td id="LC4567" class="blob-code blob-code-inner js-file-line">  fl_in=(<span class="pl-k">char</span> *)<span class="pl-c1">strdup</span>(rgr-&gt;fl_in);</td>
      </tr>
      <tr>
        <td id="L4568" class="blob-num js-line-number" data-line-number="4568"></td>
        <td id="LC4568" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Make sure file is on local system and is readable or die trying */</span></td>
      </tr>
      <tr>
        <td id="L4569" class="blob-num js-line-number" data-line-number="4569"></td>
        <td id="LC4569" class="blob-code blob-code-inner js-file-line">  fl_in=<span class="pl-c1">nco_fl_mk_lcl</span>(fl_in,fl_pth_lcl,&amp;FL_RTR_RMT_LCN);</td>
      </tr>
      <tr>
        <td id="L4570" class="blob-num js-line-number" data-line-number="4570"></td>
        <td id="LC4570" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Open file using appropriate buffer size hints and verbosity */</span></td>
      </tr>
      <tr>
        <td id="L4571" class="blob-num js-line-number" data-line-number="4571"></td>
        <td id="LC4571" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(RAM_OPEN) md_open=NC_NOWRITE|NC_DISKLESS; <span class="pl-k">else</span> md_open=NC_NOWRITE;</td>
      </tr>
      <tr>
        <td id="L4572" class="blob-num js-line-number" data-line-number="4572"></td>
        <td id="LC4572" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_fl_open</span>(fl_in,md_open,&amp;bfr_sz_hnt,&amp;in_id);</td>
      </tr>
      <tr>
        <td id="L4573" class="blob-num js-line-number" data-line-number="4573"></td>
        <td id="LC4573" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4574" class="blob-num js-line-number" data-line-number="4574"></td>
        <td id="LC4574" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Identify grid-related variables, usually latitude and longitude */</span></td>
      </tr>
      <tr>
        <td id="L4575" class="blob-num js-line-number" data-line-number="4575"></td>
        <td id="LC4575" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *bnd_dmn_nm=NULL_CEWI; <span class="pl-c">/* [sng] Name of dimension to recognize as bounds */</span></td>
      </tr>
      <tr>
        <td id="L4576" class="blob-num js-line-number" data-line-number="4576"></td>
        <td id="LC4576" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_dmn_nm=NULL_CEWI; <span class="pl-c">/* [sng] Name of dimension to recognize as latitude */</span></td>
      </tr>
      <tr>
        <td id="L4577" class="blob-num js-line-number" data-line-number="4577"></td>
        <td id="LC4577" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_dmn_nm=NULL_CEWI; <span class="pl-c">/* [sng] Name of dimension to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L4578" class="blob-num js-line-number" data-line-number="4578"></td>
        <td id="LC4578" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_nm_in=NULL_CEWI; <span class="pl-c">/* [sng] Name of variable to recognize as latitude */</span></td>
      </tr>
      <tr>
        <td id="L4579" class="blob-num js-line-number" data-line-number="4579"></td>
        <td id="LC4579" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_nm_in=NULL_CEWI; <span class="pl-c">/* [sng] Name of variable to recognize as longitude */</span></td>
      </tr>
      <tr>
        <td id="L4580" class="blob-num js-line-number" data-line-number="4580"></td>
        <td id="LC4580" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lat_bnd_nm=NULL_CEWI; <span class="pl-c">/* [sng] Name of latitude  boundary variable */</span></td>
      </tr>
      <tr>
        <td id="L4581" class="blob-num js-line-number" data-line-number="4581"></td>
        <td id="LC4581" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *lon_bnd_nm=NULL_CEWI; <span class="pl-c">/* [sng] Name of longitude boundary variable */</span></td>
      </tr>
      <tr>
        <td id="L4582" class="blob-num js-line-number" data-line-number="4582"></td>
        <td id="LC4582" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_bnd=NC_MIN_INT; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4583" class="blob-num js-line-number" data-line-number="4583"></td>
        <td id="LC4583" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_lat; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4584" class="blob-num js-line-number" data-line-number="4584"></td>
        <td id="LC4584" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> dmn_id_lon; <span class="pl-c">/* [id] Dimension ID */</span></td>
      </tr>
      <tr>
        <td id="L4585" class="blob-num js-line-number" data-line-number="4585"></td>
        <td id="LC4585" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4586" class="blob-num js-line-number" data-line-number="4586"></td>
        <td id="LC4586" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Locate dimensions that must be present */</span></td>
      </tr>
      <tr>
        <td id="L4587" class="blob-num js-line-number" data-line-number="4587"></td>
        <td id="LC4587" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4588" class="blob-num js-line-number" data-line-number="4588"></td>
        <td id="LC4588" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4589" class="blob-num js-line-number" data-line-number="4589"></td>
        <td id="LC4589" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4590" class="blob-num js-line-number" data-line-number="4590"></td>
        <td id="LC4590" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4591" class="blob-num js-line-number" data-line-number="4591"></td>
        <td id="LC4591" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4592" class="blob-num js-line-number" data-line-number="4592"></td>
        <td id="LC4592" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4593" class="blob-num js-line-number" data-line-number="4593"></td>
        <td id="LC4593" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4594" class="blob-num js-line-number" data-line-number="4594"></td>
        <td id="LC4594" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4595" class="blob-num js-line-number" data-line-number="4595"></td>
        <td id="LC4595" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4596" class="blob-num js-line-number" data-line-number="4596"></td>
        <td id="LC4596" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4597" class="blob-num js-line-number" data-line-number="4597"></td>
        <td id="LC4597" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Try known curvilinear dimension names */</span></td>
      </tr>
      <tr>
        <td id="L4598" class="blob-num js-line-number" data-line-number="4598"></td>
        <td id="LC4598" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!lat_dmn_nm || !lon_dmn_nm){</td>
      </tr>
      <tr>
        <td id="L4599" class="blob-num js-line-number" data-line-number="4599"></td>
        <td id="LC4599" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!lat_dmn_nm){</td>
      </tr>
      <tr>
        <td id="L4600" class="blob-num js-line-number" data-line-number="4600"></td>
        <td id="LC4600" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>south_north<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>south_north<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* WRF */</span></td>
      </tr>
      <tr>
        <td id="L4601" class="blob-num js-line-number" data-line-number="4601"></td>
        <td id="LC4601" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>YDim:location<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>YDim:location<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L3 */</span></td>
      </tr>
      <tr>
        <td id="L4602" class="blob-num js-line-number" data-line-number="4602"></td>
        <td id="LC4602" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nTimes<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nTimes<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* OMI L2 */</span></td>
      </tr>
      <tr>
        <td id="L4603" class="blob-num js-line-number" data-line-number="4603"></td>
        <td id="LC4603" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L2 DAP NC */</span></td>
      </tr>
      <tr>
        <td id="L4604" class="blob-num js-line-number" data-line-number="4604"></td>
        <td id="LC4604" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack :L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L2 HDF */</span></td>
      </tr>
      <tr>
        <td id="L4605" class="blob-num js-line-number" data-line-number="4605"></td>
        <td id="LC4605" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_0<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_0<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* OMI */</span></td>
      </tr>
      <tr>
        <td id="L4606" class="blob-num js-line-number" data-line-number="4606"></td>
        <td id="LC4606" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>y<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_0<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* MAR */</span></td>
      </tr>
      <tr>
        <td id="L4607" class="blob-num js-line-number" data-line-number="4607"></td>
        <td id="LC4607" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat2d<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_0<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* RACMO */</span></td>
      </tr>
      <tr>
        <td id="L4608" class="blob-num js-line-number" data-line-number="4608"></td>
        <td id="LC4608" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nj<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lat)) == NC_NOERR) lat_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nj<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4609" class="blob-num js-line-number" data-line-number="4609"></td>
        <td id="LC4609" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_dmn_nm */</span></td>
      </tr>
      <tr>
        <td id="L4610" class="blob-num js-line-number" data-line-number="4610"></td>
        <td id="LC4610" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(!lon_dmn_nm){</td>
      </tr>
      <tr>
        <td id="L4611" class="blob-num js-line-number" data-line-number="4611"></td>
        <td id="LC4611" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>west_east<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>west_east<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* WRF */</span></td>
      </tr>
      <tr>
        <td id="L4612" class="blob-num js-line-number" data-line-number="4612"></td>
        <td id="LC4612" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>XDim:location<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>XDim:location<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L3 */</span></td>
      </tr>
      <tr>
        <td id="L4613" class="blob-num js-line-number" data-line-number="4613"></td>
        <td id="LC4613" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nXtrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nXtrack<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* OMI L2 */</span></td>
      </tr>
      <tr>
        <td id="L4614" class="blob-num js-line-number" data-line-number="4614"></td>
        <td id="LC4614" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L2 DAP NC */</span></td>
      </tr>
      <tr>
        <td id="L4615" class="blob-num js-line-number" data-line-number="4615"></td>
        <td id="LC4615" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GeoXTrack:L2_Standard_atmospheric&amp;surface_product<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* AIRS L2 */</span></td>
      </tr>
      <tr>
        <td id="L4616" class="blob-num js-line-number" data-line-number="4616"></td>
        <td id="LC4616" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_1<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_1<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* OMI */</span></td>
      </tr>
      <tr>
        <td id="L4617" class="blob-num js-line-number" data-line-number="4617"></td>
        <td id="LC4617" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>x<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_1<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* MAR */</span></td>
      </tr>
      <tr>
        <td id="L4618" class="blob-num js-line-number" data-line-number="4618"></td>
        <td id="LC4618" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon2d<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>phony_dim_1<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* RACMO */</span></td>
      </tr>
      <tr>
        <td id="L4619" class="blob-num js-line-number" data-line-number="4619"></td>
        <td id="LC4619" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>ni<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_lon)) == NC_NOERR) lon_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ni<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4620" class="blob-num js-line-number" data-line-number="4620"></td>
        <td id="LC4620" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_dmn_nm */</span></td>
      </tr>
      <tr>
        <td id="L4621" class="blob-num js-line-number" data-line-number="4621"></td>
        <td id="LC4621" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_dmn_nm &amp;&amp; lon_dmn_nm) flg_grd_crv=True;</td>
      </tr>
      <tr>
        <td id="L4622" class="blob-num js-line-number" data-line-number="4622"></td>
        <td id="LC4622" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_dmn_nm */</span></td>
      </tr>
      <tr>
        <td id="L4623" class="blob-num js-line-number" data-line-number="4623"></td>
        <td id="LC4623" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4624" class="blob-num js-line-number" data-line-number="4624"></td>
        <td id="LC4624" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!lat_dmn_nm || !lon_dmn_nm){</td>
      </tr>
      <tr>
        <td id="L4625" class="blob-num js-line-number" data-line-number="4625"></td>
        <td id="LC4625" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unable to identify latitude and/or longitude dimension.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L4626" class="blob-num js-line-number" data-line-number="4626"></td>
        <td id="LC4626" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L4627" class="blob-num js-line-number" data-line-number="4627"></td>
        <td id="LC4627" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_dmn_nm */</span></td>
      </tr>
      <tr>
        <td id="L4628" class="blob-num js-line-number" data-line-number="4628"></td>
        <td id="LC4628" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4629" class="blob-num js-line-number" data-line-number="4629"></td>
        <td id="LC4629" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Locate dimensions that may be present */</span></td>
      </tr>
      <tr>
        <td id="L4630" class="blob-num js-line-number" data-line-number="4630"></td>
        <td id="LC4630" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nv<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_bnd)) == NC_NOERR) bnd_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nv<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* fxm */</span></td>
      </tr>
      <tr>
        <td id="L4631" class="blob-num js-line-number" data-line-number="4631"></td>
        <td id="LC4631" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>nbnd<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_bnd)) == NC_NOERR) bnd_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>nbnd<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CAM-FV, CAM-SE */</span></td>
      </tr>
      <tr>
        <td id="L4632" class="blob-num js-line-number" data-line-number="4632"></td>
        <td id="LC4632" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_dimid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>tbnd<span class="pl-pds">&quot;</span></span>,&amp;dmn_id_bnd)) == NC_NOERR) bnd_dmn_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>tbnd<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CAM3 */</span></td>
      </tr>
      <tr>
        <td id="L4633" class="blob-num js-line-number" data-line-number="4633"></td>
        <td id="LC4633" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4634" class="blob-num js-line-number" data-line-number="4634"></td>
        <td id="LC4634" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Locate fields that must be present in input file */</span></td>
      </tr>
      <tr>
        <td id="L4635" class="blob-num js-line-number" data-line-number="4635"></td>
        <td id="LC4635" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4636" class="blob-num js-line-number" data-line-number="4636"></td>
        <td id="LC4636" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Latitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4637" class="blob-num js-line-number" data-line-number="4637"></td>
        <td id="LC4637" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CAM */</span></td>
      </tr>
      <tr>
        <td id="L4638" class="blob-num js-line-number" data-line-number="4638"></td>
        <td id="LC4638" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lat<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4639" class="blob-num js-line-number" data-line-number="4639"></td>
        <td id="LC4639" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>XLAT<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>XLAT<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* WRF */</span></td>
      </tr>
      <tr>
        <td id="L4640" class="blob-num js-line-number" data-line-number="4640"></td>
        <td id="LC4640" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>LAT<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>LAT<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* MAR */</span></td>
      </tr>
      <tr>
        <td id="L4641" class="blob-num js-line-number" data-line-number="4641"></td>
        <td id="LC4641" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>TLAT<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>TLAT<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4642" class="blob-num js-line-number" data-line-number="4642"></td>
        <td id="LC4642" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>ULAT<span class="pl-pds">&quot;</span></span>,&amp;lat_ctr_id)) == NC_NOERR) lat_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ULAT<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4643" class="blob-num js-line-number" data-line-number="4643"></td>
        <td id="LC4643" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4644" class="blob-num js-line-number" data-line-number="4644"></td>
        <td id="LC4644" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4645" class="blob-num js-line-number" data-line-number="4645"></td>
        <td id="LC4645" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Longitude<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4646" class="blob-num js-line-number" data-line-number="4646"></td>
        <td id="LC4646" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CAM */</span></td>
      </tr>
      <tr>
        <td id="L4647" class="blob-num js-line-number" data-line-number="4647"></td>
        <td id="LC4647" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Lon<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4648" class="blob-num js-line-number" data-line-number="4648"></td>
        <td id="LC4648" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>XLONG<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>XLONG<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* WRF */</span></td>
      </tr>
      <tr>
        <td id="L4649" class="blob-num js-line-number" data-line-number="4649"></td>
        <td id="LC4649" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>LON<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>LON<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* MAR */</span></td>
      </tr>
      <tr>
        <td id="L4650" class="blob-num js-line-number" data-line-number="4650"></td>
        <td id="LC4650" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>TLON<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>TLON<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4651" class="blob-num js-line-number" data-line-number="4651"></td>
        <td id="LC4651" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>ULON<span class="pl-pds">&quot;</span></span>,&amp;lon_ctr_id)) == NC_NOERR) lon_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>ULON<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4652" class="blob-num js-line-number" data-line-number="4652"></td>
        <td id="LC4652" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4653" class="blob-num js-line-number" data-line-number="4653"></td>
        <td id="LC4653" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(!lat_nm_in || !lon_nm_in){</td>
      </tr>
      <tr>
        <td id="L4654" class="blob-num js-line-number" data-line-number="4654"></td>
        <td id="LC4654" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unable to identify latitude and/or longitude variable.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L4655" class="blob-num js-line-number" data-line-number="4655"></td>
        <td id="LC4655" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L4656" class="blob-num js-line-number" data-line-number="4656"></td>
        <td id="LC4656" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !lat_nm_in */</span></td>
      </tr>
      <tr>
        <td id="L4657" class="blob-num js-line-number" data-line-number="4657"></td>
        <td id="LC4657" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4658" class="blob-num js-line-number" data-line-number="4658"></td>
        <td id="LC4658" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Use dimension IDs to get dimension sizes and grid size*/</span></td>
      </tr>
      <tr>
        <td id="L4659" class="blob-num js-line-number" data-line-number="4659"></td>
        <td id="LC4659" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_lat,&amp;lat_nbr);</td>
      </tr>
      <tr>
        <td id="L4660" class="blob-num js-line-number" data-line-number="4660"></td>
        <td id="LC4660" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_lon,&amp;lon_nbr);</td>
      </tr>
      <tr>
        <td id="L4661" class="blob-num js-line-number" data-line-number="4661"></td>
        <td id="LC4661" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_id_bnd != NC_MIN_INT) rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_bnd,&amp;grd_crn_nbr);</td>
      </tr>
      <tr>
        <td id="L4662" class="blob-num js-line-number" data-line-number="4662"></td>
        <td id="LC4662" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_id_bnd != NC_MIN_INT) rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_id_bnd,&amp;bnd_nbr);</td>
      </tr>
      <tr>
        <td id="L4663" class="blob-num js-line-number" data-line-number="4663"></td>
        <td id="LC4663" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4664" class="blob-num js-line-number" data-line-number="4664"></td>
        <td id="LC4664" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Rank of coordinates determines whether grid is curvilinear */</span></td>
      </tr>
      <tr>
        <td id="L4665" class="blob-num js-line-number" data-line-number="4665"></td>
        <td id="LC4665" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_varndims</span>(in_id,lat_ctr_id,&amp;lat_rnk);</td>
      </tr>
      <tr>
        <td id="L4666" class="blob-num js-line-number" data-line-number="4666"></td>
        <td id="LC4666" class="blob-code blob-code-inner js-file-line">  rcd+=<span class="pl-c1">nco_inq_varndims</span>(in_id,lon_ctr_id,&amp;lon_rnk);</td>
      </tr>
      <tr>
        <td id="L4667" class="blob-num js-line-number" data-line-number="4667"></td>
        <td id="LC4667" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_rnk == dmn_nbr_2D || lon_rnk == dmn_nbr_2D) flg_grd_crv=True;</td>
      </tr>
      <tr>
        <td id="L4668" class="blob-num js-line-number" data-line-number="4668"></td>
        <td id="LC4668" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_rnk &gt; dmn_nbr_2D || lon_rnk &gt; dmn_nbr_2D){</td>
      </tr>
      <tr>
        <td id="L4669" class="blob-num js-line-number" data-line-number="4669"></td>
        <td id="LC4669" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports an identified grid variable (<span class="pl-c1">%s</span> and/or <span class="pl-c1">%s</span>) has rank <span class="pl-c1">%d</span>---grid variables currently must have rank 1 or 2. HINT: If grid variables do not vary in time, then temporally average them (with, e.g., ncwa -a time in.nc out.nc) prior to inferring grid<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_nm_in,lon_nm_in,lat_rnk);</td>
      </tr>
      <tr>
        <td id="L4670" class="blob-num js-line-number" data-line-number="4670"></td>
        <td id="LC4670" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L4671" class="blob-num js-line-number" data-line-number="4671"></td>
        <td id="LC4671" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !3D */</span></td>
      </tr>
      <tr>
        <td id="L4672" class="blob-num js-line-number" data-line-number="4672"></td>
        <td id="LC4672" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_rnk*lon_rnk != <span class="pl-c1">1</span> &amp;&amp; lat_rnk*lon_rnk != <span class="pl-c1">4</span>) <span class="pl-c1">assert</span>(False);</td>
      </tr>
      <tr>
        <td id="L4673" class="blob-num js-line-number" data-line-number="4673"></td>
        <td id="LC4673" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4674" class="blob-num js-line-number" data-line-number="4674"></td>
        <td id="LC4674" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4675" class="blob-num js-line-number" data-line-number="4675"></td>
        <td id="LC4675" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Assume curvilinear grid (e.g., WRF) */</span></td>
      </tr>
      <tr>
        <td id="L4676" class="blob-num js-line-number" data-line-number="4676"></td>
        <td id="LC4676" class="blob-code blob-code-inner js-file-line">    flg_grd_2D=False;</td>
      </tr>
      <tr>
        <td id="L4677" class="blob-num js-line-number" data-line-number="4677"></td>
        <td id="LC4677" class="blob-code blob-code-inner js-file-line">    grd_rnk_nbr=dmn_nbr_2D;</td>
      </tr>
      <tr>
        <td id="L4678" class="blob-num js-line-number" data-line-number="4678"></td>
        <td id="LC4678" class="blob-code blob-code-inner js-file-line">    grd_typ=nco_grd_2D_unk;</td>
      </tr>
      <tr>
        <td id="L4679" class="blob-num js-line-number" data-line-number="4679"></td>
        <td id="LC4679" class="blob-code blob-code-inner js-file-line">    lat_typ=nco_grd_lat_unk;</td>
      </tr>
      <tr>
        <td id="L4680" class="blob-num js-line-number" data-line-number="4680"></td>
        <td id="LC4680" class="blob-code blob-code-inner js-file-line">    lon_typ=nco_grd_lon_unk;</td>
      </tr>
      <tr>
        <td id="L4681" class="blob-num js-line-number" data-line-number="4681"></td>
        <td id="LC4681" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Assume curvilinear grids that do not specify otherwise use quadrilaterals */</span></td>
      </tr>
      <tr>
        <td id="L4682" class="blob-num js-line-number" data-line-number="4682"></td>
        <td id="LC4682" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(dmn_id_bnd == NC_MIN_INT) grd_crn_nbr=<span class="pl-c1">4</span>;</td>
      </tr>
      <tr>
        <td id="L4683" class="blob-num js-line-number" data-line-number="4683"></td>
        <td id="LC4683" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Assume quadrilaterals are, well, quadrilaterals (e.g., rhomboids) not necessarily rectangles</span></td>
      </tr>
      <tr>
        <td id="L4684" class="blob-num js-line-number" data-line-number="4684"></td>
        <td id="LC4684" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Non-quadrilateral curvilinear grids are untested */</span></td>
      </tr>
      <tr>
        <td id="L4685" class="blob-num js-line-number" data-line-number="4685"></td>
        <td id="LC4685" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(grd_crn_nbr == <span class="pl-c1">4</span>) bnd_nbr=<span class="pl-c1">4</span>; <span class="pl-k">else</span> <span class="pl-c1">assert</span>(False);</td>
      </tr>
      <tr>
        <td id="L4686" class="blob-num js-line-number" data-line-number="4686"></td>
        <td id="LC4686" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L4687" class="blob-num js-line-number" data-line-number="4687"></td>
        <td id="LC4687" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Assume 2D grid of uninitialized type */</span></td>
      </tr>
      <tr>
        <td id="L4688" class="blob-num js-line-number" data-line-number="4688"></td>
        <td id="LC4688" class="blob-code blob-code-inner js-file-line">    flg_grd_2D=True;</td>
      </tr>
      <tr>
        <td id="L4689" class="blob-num js-line-number" data-line-number="4689"></td>
        <td id="LC4689" class="blob-code blob-code-inner js-file-line">    grd_rnk_nbr=dmn_nbr_2D;</td>
      </tr>
      <tr>
        <td id="L4690" class="blob-num js-line-number" data-line-number="4690"></td>
        <td id="LC4690" class="blob-code blob-code-inner js-file-line">    grd_typ=nco_grd_2D_nil;</td>
      </tr>
      <tr>
        <td id="L4691" class="blob-num js-line-number" data-line-number="4691"></td>
        <td id="LC4691" class="blob-code blob-code-inner js-file-line">    lat_typ=nco_grd_lat_nil;</td>
      </tr>
      <tr>
        <td id="L4692" class="blob-num js-line-number" data-line-number="4692"></td>
        <td id="LC4692" class="blob-code blob-code-inner js-file-line">    lon_typ=nco_grd_lon_nil;</td>
      </tr>
      <tr>
        <td id="L4693" class="blob-num js-line-number" data-line-number="4693"></td>
        <td id="LC4693" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Assume rectangular grids that do not specify otherwise use quadrilaterals */</span></td>
      </tr>
      <tr>
        <td id="L4694" class="blob-num js-line-number" data-line-number="4694"></td>
        <td id="LC4694" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(dmn_id_bnd == NC_MIN_INT) grd_crn_nbr=<span class="pl-c1">4</span>;</td>
      </tr>
      <tr>
        <td id="L4695" class="blob-num js-line-number" data-line-number="4695"></td>
        <td id="LC4695" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Convention is to archive only two bounds for rectangular grids (since sides are identical)</span></td>
      </tr>
      <tr>
        <td id="L4696" class="blob-num js-line-number" data-line-number="4696"></td>
        <td id="LC4696" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Non-quadrilateral rectangular grids are untested */</span></td>
      </tr>
      <tr>
        <td id="L4697" class="blob-num js-line-number" data-line-number="4697"></td>
        <td id="LC4697" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(grd_crn_nbr == <span class="pl-c1">4</span>) bnd_nbr=<span class="pl-c1">2</span>; <span class="pl-k">else</span> <span class="pl-c1">assert</span>(False);</td>
      </tr>
      <tr>
        <td id="L4698" class="blob-num js-line-number" data-line-number="4698"></td>
        <td id="LC4698" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4699" class="blob-num js-line-number" data-line-number="4699"></td>
        <td id="LC4699" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L4700" class="blob-num js-line-number" data-line-number="4700"></td>
        <td id="LC4700" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Allocate space for output data */</span></td>
      </tr>
      <tr>
        <td id="L4701" class="blob-num js-line-number" data-line-number="4701"></td>
        <td id="LC4701" class="blob-code blob-code-inner js-file-line">  grd_sz_nbr=lat_nbr*lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4702" class="blob-num js-line-number" data-line-number="4702"></td>
        <td id="LC4702" class="blob-code blob-code-inner js-file-line">  dmn_sz_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(grd_rnk_nbr*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L4703" class="blob-num js-line-number" data-line-number="4703"></td>
        <td id="LC4703" class="blob-code blob-code-inner js-file-line">  area=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4704" class="blob-num js-line-number" data-line-number="4704"></td>
        <td id="LC4704" class="blob-code blob-code-inner js-file-line">  msk=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>((nc_type)NC_INT));</td>
      </tr>
      <tr>
        <td id="L4705" class="blob-num js-line-number" data-line-number="4705"></td>
        <td id="LC4705" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4706" class="blob-num js-line-number" data-line-number="4706"></td>
        <td id="LC4706" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4707" class="blob-num js-line-number" data-line-number="4707"></td>
        <td id="LC4707" class="blob-code blob-code-inner js-file-line">    lat_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4708" class="blob-num js-line-number" data-line-number="4708"></td>
        <td id="LC4708" class="blob-code blob-code-inner js-file-line">    lat_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4709" class="blob-num js-line-number" data-line-number="4709"></td>
        <td id="LC4709" class="blob-code blob-code-inner js-file-line">    lat_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4710" class="blob-num js-line-number" data-line-number="4710"></td>
        <td id="LC4710" class="blob-code blob-code-inner js-file-line">    lat_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4711" class="blob-num js-line-number" data-line-number="4711"></td>
        <td id="LC4711" class="blob-code blob-code-inner js-file-line">    lat_wgt=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4712" class="blob-num js-line-number" data-line-number="4712"></td>
        <td id="LC4712" class="blob-code blob-code-inner js-file-line">    lon_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4713" class="blob-num js-line-number" data-line-number="4713"></td>
        <td id="LC4713" class="blob-code blob-code-inner js-file-line">    lon_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4714" class="blob-num js-line-number" data-line-number="4714"></td>
        <td id="LC4714" class="blob-code blob-code-inner js-file-line">    lon_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4715" class="blob-num js-line-number" data-line-number="4715"></td>
        <td id="LC4715" class="blob-code blob-code-inner js-file-line">    lon_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lon_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4716" class="blob-num js-line-number" data-line-number="4716"></td>
        <td id="LC4716" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{ <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L4717" class="blob-num js-line-number" data-line-number="4717"></td>
        <td id="LC4717" class="blob-code blob-code-inner js-file-line">    lat_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4718" class="blob-num js-line-number" data-line-number="4718"></td>
        <td id="LC4718" class="blob-code blob-code-inner js-file-line">    lat_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4719" class="blob-num js-line-number" data-line-number="4719"></td>
        <td id="LC4719" class="blob-code blob-code-inner js-file-line">    lat_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4720" class="blob-num js-line-number" data-line-number="4720"></td>
        <td id="LC4720" class="blob-code blob-code-inner js-file-line">    lat_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4721" class="blob-num js-line-number" data-line-number="4721"></td>
        <td id="LC4721" class="blob-code blob-code-inner js-file-line">    lat_wgt=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4722" class="blob-num js-line-number" data-line-number="4722"></td>
        <td id="LC4722" class="blob-code blob-code-inner js-file-line">    lon_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*bnd_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4723" class="blob-num js-line-number" data-line-number="4723"></td>
        <td id="LC4723" class="blob-code blob-code-inner js-file-line">    lon_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*grd_crn_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4724" class="blob-num js-line-number" data-line-number="4724"></td>
        <td id="LC4724" class="blob-code blob-code-inner js-file-line">    lon_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lon_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4725" class="blob-num js-line-number" data-line-number="4725"></td>
        <td id="LC4725" class="blob-code blob-code-inner js-file-line">    lon_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lon_nbr+<span class="pl-c1">1L</span>)*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4726" class="blob-num js-line-number" data-line-number="4726"></td>
        <td id="LC4726" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L4727" class="blob-num js-line-number" data-line-number="4727"></td>
        <td id="LC4727" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4728" class="blob-num js-line-number" data-line-number="4728"></td>
        <td id="LC4728" class="blob-code blob-code-inner js-file-line">  grd_ctr_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4729" class="blob-num js-line-number" data-line-number="4729"></td>
        <td id="LC4729" class="blob-code blob-code-inner js-file-line">  grd_ctr_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4730" class="blob-num js-line-number" data-line-number="4730"></td>
        <td id="LC4730" class="blob-code blob-code-inner js-file-line">  grd_crn_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_crn_nbr*grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4731" class="blob-num js-line-number" data-line-number="4731"></td>
        <td id="LC4731" class="blob-code blob-code-inner js-file-line">  grd_crn_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(grd_crn_nbr*grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(crd_typ));</td>
      </tr>
      <tr>
        <td id="L4732" class="blob-num js-line-number" data-line-number="4732"></td>
        <td id="LC4732" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L4733" class="blob-num js-line-number" data-line-number="4733"></td>
        <td id="LC4733" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Locate fields that may be present in input file */</span></td>
      </tr>
      <tr>
        <td id="L4734" class="blob-num js-line-number" data-line-number="4734"></td>
        <td id="LC4734" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_bnds<span class="pl-pds">&quot;</span></span>,&amp;lat_bnd_id)) == NC_NOERR) lat_bnd_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat_bnds<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4735" class="blob-num js-line-number" data-line-number="4735"></td>
        <td id="LC4735" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_ntf<span class="pl-pds">&quot;</span></span>,&amp;lat_bnd_id)) == NC_NOERR) lat_bnd_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lat_ntf<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4736" class="blob-num js-line-number" data-line-number="4736"></td>
        <td id="LC4736" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_bnds<span class="pl-pds">&quot;</span></span>,&amp;lon_bnd_id)) == NC_NOERR) lon_bnd_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon_bnds<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4737" class="blob-num js-line-number" data-line-number="4737"></td>
        <td id="LC4737" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>lon_ntf<span class="pl-pds">&quot;</span></span>,&amp;lon_bnd_id)) == NC_NOERR) lon_bnd_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>lon_ntf<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4738" class="blob-num js-line-number" data-line-number="4738"></td>
        <td id="LC4738" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4739" class="blob-num js-line-number" data-line-number="4739"></td>
        <td id="LC4739" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>area<span class="pl-pds">&quot;</span></span>,&amp;area_id)) == NC_NOERR) area_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>area<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4740" class="blob-num js-line-number" data-line-number="4740"></td>
        <td id="LC4740" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Area<span class="pl-pds">&quot;</span></span>,&amp;area_id)) == NC_NOERR) area_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Area<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4741" class="blob-num js-line-number" data-line-number="4741"></td>
        <td id="LC4741" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>grid_area<span class="pl-pds">&quot;</span></span>,&amp;area_id)) == NC_NOERR) area_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>grid_area<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4742" class="blob-num js-line-number" data-line-number="4742"></td>
        <td id="LC4742" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>mask<span class="pl-pds">&quot;</span></span>,&amp;msk_id)) == NC_NOERR) msk_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>mask<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4743" class="blob-num js-line-number" data-line-number="4743"></td>
        <td id="LC4743" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>Mask<span class="pl-pds">&quot;</span></span>,&amp;msk_id)) == NC_NOERR) msk_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Mask<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4744" class="blob-num js-line-number" data-line-number="4744"></td>
        <td id="LC4744" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>grid_imask<span class="pl-pds">&quot;</span></span>,&amp;msk_id)) == NC_NOERR) msk_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>grid_imask<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L4745" class="blob-num js-line-number" data-line-number="4745"></td>
        <td id="LC4745" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">else</span> <span class="pl-k">if</span>((rcd=<span class="pl-c1">nco_inq_varid_flg</span>(in_id,<span class="pl-s"><span class="pl-pds">&quot;</span>tmask<span class="pl-pds">&quot;</span></span>,&amp;msk_id)) == NC_NOERR) msk_nm_in=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>tmask<span class="pl-pds">&quot;</span></span>); <span class="pl-c">/* CICE */</span></td>
      </tr>
      <tr>
        <td id="L4746" class="blob-num js-line-number" data-line-number="4746"></td>
        <td id="LC4746" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4747" class="blob-num js-line-number" data-line-number="4747"></td>
        <td id="LC4747" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* 20151201: All models define mask as NC_INT except CICE which uses NC_FLOAT */</span></td>
      </tr>
      <tr>
        <td id="L4748" class="blob-num js-line-number" data-line-number="4748"></td>
        <td id="LC4748" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_id != NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L4749" class="blob-num js-line-number" data-line-number="4749"></td>
        <td id="LC4749" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_inq_vartype</span>(in_id,msk_id,&amp;msk_typ);</td>
      </tr>
      <tr>
        <td id="L4750" class="blob-num js-line-number" data-line-number="4750"></td>
        <td id="LC4750" class="blob-code blob-code-inner js-file-line">    msk_unn.<span class="pl-smi">vp</span>=(<span class="pl-k">void</span> *)<span class="pl-c1">nco_malloc</span>(grd_sz_nbr*<span class="pl-c1">nco_typ_lng</span>(msk_typ));</td>
      </tr>
      <tr>
        <td id="L4751" class="blob-num js-line-number" data-line-number="4751"></td>
        <td id="LC4751" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !msk */</span></td>
      </tr>
      <tr>
        <td id="L4752" class="blob-num js-line-number" data-line-number="4752"></td>
        <td id="LC4752" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4753" class="blob-num js-line-number" data-line-number="4753"></td>
        <td id="LC4753" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4754" class="blob-num js-line-number" data-line-number="4754"></td>
        <td id="LC4754" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Obtain fields that must be present in input file */</span></td>
      </tr>
      <tr>
        <td id="L4755" class="blob-num js-line-number" data-line-number="4755"></td>
        <td id="LC4755" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4756" class="blob-num js-line-number" data-line-number="4756"></td>
        <td id="LC4756" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4757" class="blob-num js-line-number" data-line-number="4757"></td>
        <td id="LC4757" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">1</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4758" class="blob-num js-line-number" data-line-number="4758"></td>
        <td id="LC4758" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,lat_ctr_id,dmn_srt,dmn_cnt,lat_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4759" class="blob-num js-line-number" data-line-number="4759"></td>
        <td id="LC4759" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,lon_ctr_id,dmn_srt,dmn_cnt,lon_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4760" class="blob-num js-line-number" data-line-number="4760"></td>
        <td id="LC4760" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4761" class="blob-num js-line-number" data-line-number="4761"></td>
        <td id="LC4761" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* 20150923: fxm also input, if present in curvilinear file, corners, area, and mask */</span></td>
      </tr>
      <tr>
        <td id="L4762" class="blob-num js-line-number" data-line-number="4762"></td>
        <td id="LC4762" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(area_id != NC_MIN_INT) rcd=<span class="pl-c1">nco_get_vara</span>(in_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4763" class="blob-num js-line-number" data-line-number="4763"></td>
        <td id="LC4763" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(msk_id != NC_MIN_INT) rcd=<span class="pl-c1">nco_get_vara</span>(in_id,msk_id,dmn_srt,dmn_cnt,msk_unn.<span class="pl-smi">vp</span>,msk_typ);</td>
      </tr>
      <tr>
        <td id="L4764" class="blob-num js-line-number" data-line-number="4764"></td>
        <td id="LC4764" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L4765" class="blob-num js-line-number" data-line-number="4765"></td>
        <td id="LC4765" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4766" class="blob-num js-line-number" data-line-number="4766"></td>
        <td id="LC4766" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L4767" class="blob-num js-line-number" data-line-number="4767"></td>
        <td id="LC4767" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lon_psn_in; <span class="pl-c">/* [idx] Ordinal position of longitude size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4768" class="blob-num js-line-number" data-line-number="4768"></td>
        <td id="LC4768" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">int</span> lat_psn_in; <span class="pl-c">/* [idx] Ordinal position of latitude  size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4769" class="blob-num js-line-number" data-line-number="4769"></td>
        <td id="LC4769" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4770" class="blob-num js-line-number" data-line-number="4770"></td>
        <td id="LC4770" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Obtain fields that must be present in input file */</span></td>
      </tr>
      <tr>
        <td id="L4771" class="blob-num js-line-number" data-line-number="4771"></td>
        <td id="LC4771" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4772" class="blob-num js-line-number" data-line-number="4772"></td>
        <td id="LC4772" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4773" class="blob-num js-line-number" data-line-number="4773"></td>
        <td id="LC4773" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,lat_ctr_id,dmn_srt,dmn_cnt,lat_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4774" class="blob-num js-line-number" data-line-number="4774"></td>
        <td id="LC4774" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4775" class="blob-num js-line-number" data-line-number="4775"></td>
        <td id="LC4775" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4776" class="blob-num js-line-number" data-line-number="4776"></td>
        <td id="LC4776" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_get_vara</span>(in_id,lon_ctr_id,dmn_srt,dmn_cnt,lon_ctr,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4777" class="blob-num js-line-number" data-line-number="4777"></td>
        <td id="LC4777" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4778" class="blob-num js-line-number" data-line-number="4778"></td>
        <td id="LC4778" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Obtain fields that may be present in input file */</span></td>
      </tr>
      <tr>
        <td id="L4779" class="blob-num js-line-number" data-line-number="4779"></td>
        <td id="LC4779" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(area_id != NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L4780" class="blob-num js-line-number" data-line-number="4780"></td>
        <td id="LC4780" class="blob-code blob-code-inner js-file-line">      var_id=area_id;</td>
      </tr>
      <tr>
        <td id="L4781" class="blob-num js-line-number" data-line-number="4781"></td>
        <td id="LC4781" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_vardimid</span>(in_id,var_id,dmn_ids);</td>
      </tr>
      <tr>
        <td id="L4782" class="blob-num js-line-number" data-line-number="4782"></td>
        <td id="LC4782" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* fxm: optimize discovery of lat/lon ordering */</span></td>
      </tr>
      <tr>
        <td id="L4783" class="blob-num js-line-number" data-line-number="4783"></td>
        <td id="LC4783" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(dmn_idx=<span class="pl-c1">0</span>;dmn_idx&lt;grd_rnk_nbr;dmn_idx++){</td>
      </tr>
      <tr>
        <td id="L4784" class="blob-num js-line-number" data-line-number="4784"></td>
        <td id="LC4784" class="blob-code blob-code-inner js-file-line">	rcd=<span class="pl-c1">nco_inq_dimname</span>(in_id,dmn_ids[dmn_idx],dmn_nm);</td>
      </tr>
      <tr>
        <td id="L4785" class="blob-num js-line-number" data-line-number="4785"></td>
        <td id="LC4785" class="blob-code blob-code-inner js-file-line">	rcd+=<span class="pl-c1">nco_inq_dimlen</span>(in_id,dmn_ids[dmn_idx],&amp;dmn_sz);</td>
      </tr>
      <tr>
        <td id="L4786" class="blob-num js-line-number" data-line-number="4786"></td>
        <td id="LC4786" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lat_dmn_nm)){</td>
      </tr>
      <tr>
        <td id="L4787" class="blob-num js-line-number" data-line-number="4787"></td>
        <td id="LC4787" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c1">assert</span>(dmn_sz == lat_nbr);</td>
      </tr>
      <tr>
        <td id="L4788" class="blob-num js-line-number" data-line-number="4788"></td>
        <td id="LC4788" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c1">assert</span>(dmn_idx == <span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="L4789" class="blob-num js-line-number" data-line-number="4789"></td>
        <td id="LC4789" class="blob-code blob-code-inner js-file-line">	  lat_psn_in=dmn_idx;</td>
      </tr>
      <tr>
        <td id="L4790" class="blob-num js-line-number" data-line-number="4790"></td>
        <td id="LC4790" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4791" class="blob-num js-line-number" data-line-number="4791"></td>
        <td id="LC4791" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(!<span class="pl-c1">strcmp</span>(dmn_nm,lon_dmn_nm)){</td>
      </tr>
      <tr>
        <td id="L4792" class="blob-num js-line-number" data-line-number="4792"></td>
        <td id="LC4792" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c1">assert</span>(dmn_sz == lon_nbr);</td>
      </tr>
      <tr>
        <td id="L4793" class="blob-num js-line-number" data-line-number="4793"></td>
        <td id="LC4793" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c1">assert</span>(dmn_idx == <span class="pl-c1">0</span>);</td>
      </tr>
      <tr>
        <td id="L4794" class="blob-num js-line-number" data-line-number="4794"></td>
        <td id="LC4794" class="blob-code blob-code-inner js-file-line">	  lon_psn_in=dmn_idx;</td>
      </tr>
      <tr>
        <td id="L4795" class="blob-num js-line-number" data-line-number="4795"></td>
        <td id="LC4795" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4796" class="blob-num js-line-number" data-line-number="4796"></td>
        <td id="LC4796" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !dmn_idx */</span></td>
      </tr>
      <tr>
        <td id="L4797" class="blob-num js-line-number" data-line-number="4797"></td>
        <td id="LC4797" class="blob-code blob-code-inner js-file-line">      dmn_srt[lat_psn_in]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4798" class="blob-num js-line-number" data-line-number="4798"></td>
        <td id="LC4798" class="blob-code blob-code-inner js-file-line">      dmn_cnt[lat_psn_in]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4799" class="blob-num js-line-number" data-line-number="4799"></td>
        <td id="LC4799" class="blob-code blob-code-inner js-file-line">      dmn_srt[lon_psn_in]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4800" class="blob-num js-line-number" data-line-number="4800"></td>
        <td id="LC4800" class="blob-code blob-code-inner js-file-line">      dmn_cnt[lon_psn_in]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4801" class="blob-num js-line-number" data-line-number="4801"></td>
        <td id="LC4801" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_get_vara</span>(in_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L4802" class="blob-num js-line-number" data-line-number="4802"></td>
        <td id="LC4802" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !area */</span></td>
      </tr>
      <tr>
        <td id="L4803" class="blob-num js-line-number" data-line-number="4803"></td>
        <td id="LC4803" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4804" class="blob-num js-line-number" data-line-number="4804"></td>
        <td id="LC4804" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(msk_id != NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L4805" class="blob-num js-line-number" data-line-number="4805"></td>
        <td id="LC4805" class="blob-code blob-code-inner js-file-line">      var_id=msk_id;</td>
      </tr>
      <tr>
        <td id="L4806" class="blob-num js-line-number" data-line-number="4806"></td>
        <td id="LC4806" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_inq_vardimid</span>(in_id,var_id,dmn_ids);</td>
      </tr>
      <tr>
        <td id="L4807" class="blob-num js-line-number" data-line-number="4807"></td>
        <td id="LC4807" class="blob-code blob-code-inner js-file-line">      dmn_srt[lat_psn_in]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4808" class="blob-num js-line-number" data-line-number="4808"></td>
        <td id="LC4808" class="blob-code blob-code-inner js-file-line">      dmn_cnt[lat_psn_in]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4809" class="blob-num js-line-number" data-line-number="4809"></td>
        <td id="LC4809" class="blob-code blob-code-inner js-file-line">      dmn_srt[lon_psn_in]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L4810" class="blob-num js-line-number" data-line-number="4810"></td>
        <td id="LC4810" class="blob-code blob-code-inner js-file-line">      dmn_cnt[lon_psn_in]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4811" class="blob-num js-line-number" data-line-number="4811"></td>
        <td id="LC4811" class="blob-code blob-code-inner js-file-line">      rcd=<span class="pl-c1">nco_get_vara</span>(in_id,msk_id,dmn_srt,dmn_cnt,msk_unn.<span class="pl-smi">vp</span>,msk_typ);</td>
      </tr>
      <tr>
        <td id="L4812" class="blob-num js-line-number" data-line-number="4812"></td>
        <td id="LC4812" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !msk */</span></td>
      </tr>
      <tr>
        <td id="L4813" class="blob-num js-line-number" data-line-number="4813"></td>
        <td id="LC4813" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4814" class="blob-num js-line-number" data-line-number="4814"></td>
        <td id="LC4814" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L4815" class="blob-num js-line-number" data-line-number="4815"></td>
        <td id="LC4815" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4816" class="blob-num js-line-number" data-line-number="4816"></td>
        <td id="LC4816" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Close input netCDF file */</span></td>
      </tr>
      <tr>
        <td id="L4817" class="blob-num js-line-number" data-line-number="4817"></td>
        <td id="LC4817" class="blob-code blob-code-inner js-file-line">  <span class="pl-c1">nco_close</span>(in_id);</td>
      </tr>
      <tr>
        <td id="L4818" class="blob-num js-line-number" data-line-number="4818"></td>
        <td id="LC4818" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4819" class="blob-num js-line-number" data-line-number="4819"></td>
        <td id="LC4819" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Remove local copy of file */</span></td>
      </tr>
      <tr>
        <td id="L4820" class="blob-num js-line-number" data-line-number="4820"></td>
        <td id="LC4820" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(FL_RTR_RMT_LCN &amp;&amp; RM_RMT_FL_PST_PRC) (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_rm</span>(fl_in);</td>
      </tr>
      <tr>
        <td id="L4821" class="blob-num js-line-number" data-line-number="4821"></td>
        <td id="LC4821" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4822" class="blob-num js-line-number" data-line-number="4822"></td>
        <td id="LC4822" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Above this line, fl_in and in_id refer to input file to be regridded</span></td>
      </tr>
      <tr>
        <td id="L4823" class="blob-num js-line-number" data-line-number="4823"></td>
        <td id="LC4823" class="blob-code blob-code-inner js-file-line"><span class="pl-c">     Below this line, fl_out and out_id refer to grid-file to be output */</span></td>
      </tr>
      <tr>
        <td id="L4824" class="blob-num js-line-number" data-line-number="4824"></td>
        <td id="LC4824" class="blob-code blob-code-inner js-file-line">  fl_out=rgr-&gt;fl_grd;</td>
      </tr>
      <tr>
        <td id="L4825" class="blob-num js-line-number" data-line-number="4825"></td>
        <td id="LC4825" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4826" class="blob-num js-line-number" data-line-number="4826"></td>
        <td id="LC4826" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define output variable values */</span></td>
      </tr>
      <tr>
        <td id="L4827" class="blob-num js-line-number" data-line-number="4827"></td>
        <td id="LC4827" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lon_psn; <span class="pl-c">/* [idx] Ordinal position of longitude size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4828" class="blob-num js-line-number" data-line-number="4828"></td>
        <td id="LC4828" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">int</span> lat_psn; <span class="pl-c">/* [idx] Ordinal position of latitude  size in rectangular grid */</span></td>
      </tr>
      <tr>
        <td id="L4829" class="blob-num js-line-number" data-line-number="4829"></td>
        <td id="LC4829" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_rnk_nbr == dmn_nbr_2D){</td>
      </tr>
      <tr>
        <td id="L4830" class="blob-num js-line-number" data-line-number="4830"></td>
        <td id="LC4830" class="blob-code blob-code-inner js-file-line">    lon_psn=<span class="pl-c1">0</span>; <span class="pl-c">/* SCRIP introduced [lon,lat] convention because more natural for Fortran */</span></td>
      </tr>
      <tr>
        <td id="L4831" class="blob-num js-line-number" data-line-number="4831"></td>
        <td id="LC4831" class="blob-code blob-code-inner js-file-line">    lat_psn=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L4832" class="blob-num js-line-number" data-line-number="4832"></td>
        <td id="LC4832" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_in_2D */</span></td>
      </tr>
      <tr>
        <td id="L4833" class="blob-num js-line-number" data-line-number="4833"></td>
        <td id="LC4833" class="blob-code blob-code-inner js-file-line">  dmn_sz_int[lon_psn]=lon_nbr;</td>
      </tr>
      <tr>
        <td id="L4834" class="blob-num js-line-number" data-line-number="4834"></td>
        <td id="LC4834" class="blob-code blob-code-inner js-file-line">  dmn_sz_int[lat_psn]=lat_nbr;</td>
      </tr>
      <tr>
        <td id="L4835" class="blob-num js-line-number" data-line-number="4835"></td>
        <td id="LC4835" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4836" class="blob-num js-line-number" data-line-number="4836"></td>
        <td id="LC4836" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L4837" class="blob-num js-line-number" data-line-number="4837"></td>
        <td id="LC4837" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Interfaces (ntf) and boundaries (bnd) for curvilinear grids are ill-defined since sides need not follow latitudes nor meridians </span></td>
      </tr>
      <tr>
        <td id="L4838" class="blob-num js-line-number" data-line-number="4838"></td>
        <td id="LC4838" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Simplest representation that contains equivalent information to interfaces/boundaries is grid corners array</span></td>
      </tr>
      <tr>
        <td id="L4839" class="blob-num js-line-number" data-line-number="4839"></td>
        <td id="LC4839" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Diagnose grid corners from midpoints</span></td>
      </tr>
      <tr>
        <td id="L4840" class="blob-num js-line-number" data-line-number="4840"></td>
        <td id="LC4840" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Most curvilinear data (e.g., WRF) is dimensioned lat x lon unlike SCRIP which uses lon x lat </span></td>
      </tr>
      <tr>
        <td id="L4841" class="blob-num js-line-number" data-line-number="4841"></td>
        <td id="LC4841" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Hence we keep lat_ctr, lon_ctr, lat_crn, lon_crn with same order (likely lat x lon) as data file from which we infer grid</span></td>
      </tr>
      <tr>
        <td id="L4842" class="blob-num js-line-number" data-line-number="4842"></td>
        <td id="LC4842" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Always use input order to write skeleton file</span></td>
      </tr>
      <tr>
        <td id="L4843" class="blob-num js-line-number" data-line-number="4843"></td>
        <td id="LC4843" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Change that order, if necessary, to write SCRIP grid file</span></td>
      </tr>
      <tr>
        <td id="L4844" class="blob-num js-line-number" data-line-number="4844"></td>
        <td id="LC4844" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       In the interior of a curvilinear grid, nine points contribute to the four corners of a quadrilateral surrounding each center point</span></td>
      </tr>
      <tr>
        <td id="L4845" class="blob-num js-line-number" data-line-number="4845"></td>
        <td id="LC4845" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       These are the three points above the point, the three points at the same latitude, and the three points beneath the point</span></td>
      </tr>
      <tr>
        <td id="L4846" class="blob-num js-line-number" data-line-number="4846"></td>
        <td id="LC4846" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       In other words, a nine-point stencil is required to define the four corners inferred around each gridcell center</span></td>
      </tr>
      <tr>
        <td id="L4847" class="blob-num js-line-number" data-line-number="4847"></td>
        <td id="LC4847" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       It is cleanest to use this stencil only once for all cells in the &quot;real&quot;-grid, including those on the edges, not the interior</span></td>
      </tr>
      <tr>
        <td id="L4848" class="blob-num js-line-number" data-line-number="4848"></td>
        <td id="LC4848" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       For this to work cleanly we define an enlarged &quot;fake&quot;-grid where we pre-copy the values that lead to the desired extrapolation on &quot;real&quot;-grid edges</span></td>
      </tr>
      <tr>
        <td id="L4849" class="blob-num js-line-number" data-line-number="4849"></td>
        <td id="LC4849" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Inspired by array-based solutions to integration of PDEs on meshes in Juri Toomre&#39;s class */</span></td>
      </tr>
      <tr>
        <td id="L4850" class="blob-num js-line-number" data-line-number="4850"></td>
        <td id="LC4850" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L4851" class="blob-num js-line-number" data-line-number="4851"></td>
        <td id="LC4851" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L4852" class="blob-num js-line-number" data-line-number="4852"></td>
        <td id="LC4852" class="blob-code blob-code-inner js-file-line">	idx=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L4853" class="blob-num js-line-number" data-line-number="4853"></td>
        <td id="LC4853" class="blob-code blob-code-inner js-file-line">	grd_ctr_lat[idx]=lat_ctr[idx];</td>
      </tr>
      <tr>
        <td id="L4854" class="blob-num js-line-number" data-line-number="4854"></td>
        <td id="LC4854" class="blob-code blob-code-inner js-file-line">	grd_ctr_lon[idx]=lon_ctr[idx];</td>
      </tr>
      <tr>
        <td id="L4855" class="blob-num js-line-number" data-line-number="4855"></td>
        <td id="LC4855" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4856" class="blob-num js-line-number" data-line-number="4856"></td>
        <td id="LC4856" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4857" class="blob-num js-line-number" data-line-number="4857"></td>
        <td id="LC4857" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> *lat_ctr_fk; <span class="pl-c">/* [dgr] Latitude  grid with extrapolated boundaries necessary for 9-point template to find four grid corners for each real center */</span></td>
      </tr>
      <tr>
        <td id="L4858" class="blob-num js-line-number" data-line-number="4858"></td>
        <td id="LC4858" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> *lon_ctr_fk; <span class="pl-c">/* [dgr] Longitude grid with extrapolated boundaries necessary for 9-point template to find four grid corners for each real center */</span></td>
      </tr>
      <tr>
        <td id="L4859" class="blob-num js-line-number" data-line-number="4859"></td>
        <td id="LC4859" class="blob-code blob-code-inner js-file-line">    lat_ctr_fk=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">2</span>)*(lon_nbr+<span class="pl-c1">2</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L4860" class="blob-num js-line-number" data-line-number="4860"></td>
        <td id="LC4860" class="blob-code blob-code-inner js-file-line">    lon_ctr_fk=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>((lat_nbr+<span class="pl-c1">2</span>)*(lon_nbr+<span class="pl-c1">2</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L4861" class="blob-num js-line-number" data-line-number="4861"></td>
        <td id="LC4861" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_rl; <span class="pl-c">/* [idx] Index into real unrolled array */</span></td>
      </tr>
      <tr>
        <td id="L4862" class="blob-num js-line-number" data-line-number="4862"></td>
        <td id="LC4862" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk; <span class="pl-c">/* [idx] Index into fake unrolled array */</span></td>
      </tr>
      <tr>
        <td id="L4863" class="blob-num js-line-number" data-line-number="4863"></td>
        <td id="LC4863" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){ <span class="pl-c">/* lat idx on real grid */</span></td>
      </tr>
      <tr>
        <td id="L4864" class="blob-num js-line-number" data-line-number="4864"></td>
        <td id="LC4864" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){ <span class="pl-c">/* lon idx on real grid */</span></td>
      </tr>
      <tr>
        <td id="L4865" class="blob-num js-line-number" data-line-number="4865"></td>
        <td id="LC4865" class="blob-code blob-code-inner js-file-line">	idx_rl=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L4866" class="blob-num js-line-number" data-line-number="4866"></td>
        <td id="LC4866" class="blob-code blob-code-inner js-file-line">	idx_fk=(lat_idx+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L4867" class="blob-num js-line-number" data-line-number="4867"></td>
        <td id="LC4867" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Copy real grid to interior of fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4868" class="blob-num js-line-number" data-line-number="4868"></td>
        <td id="LC4868" class="blob-code blob-code-inner js-file-line">	lat_ctr_fk[idx_fk]=lat_ctr[idx_rl];</td>
      </tr>
      <tr>
        <td id="L4869" class="blob-num js-line-number" data-line-number="4869"></td>
        <td id="LC4869" class="blob-code blob-code-inner js-file-line">	lon_ctr_fk[idx_fk]=lon_ctr[idx_rl];</td>
      </tr>
      <tr>
        <td id="L4870" class="blob-num js-line-number" data-line-number="4870"></td>
        <td id="LC4870" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4871" class="blob-num js-line-number" data-line-number="4871"></td>
        <td id="LC4871" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4872" class="blob-num js-line-number" data-line-number="4872"></td>
        <td id="LC4872" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Bottom row */</span></td>
      </tr>
      <tr>
        <td id="L4873" class="blob-num js-line-number" data-line-number="4873"></td>
        <td id="LC4873" class="blob-code blob-code-inner js-file-line">    lat_idx=<span class="pl-c1">0</span>; <span class="pl-c">/* lat idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4874" class="blob-num js-line-number" data-line-number="4874"></td>
        <td id="LC4874" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">1</span>;lon_idx&lt;lon_nbr+<span class="pl-c1">1</span>;lon_idx++){ <span class="pl-c">/* lon idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4875" class="blob-num js-line-number" data-line-number="4875"></td>
        <td id="LC4875" class="blob-code blob-code-inner js-file-line">      idx_fk=lat_idx*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx; <span class="pl-c">/* 1D-offset of extrapolated point on bottom row of fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4876" class="blob-num js-line-number" data-line-number="4876"></td>
        <td id="LC4876" class="blob-code blob-code-inner js-file-line">      idx_rl=lat_idx*lon_nbr+lon_idx-<span class="pl-c1">1</span>; <span class="pl-c">/* 1D-offset of neighboring point on bottom row of real grid */</span></td>
      </tr>
      <tr>
        <td id="L4877" class="blob-num js-line-number" data-line-number="4877"></td>
        <td id="LC4877" class="blob-code blob-code-inner js-file-line">      lat_ctr_fk[idx_fk]=lat_ctr[idx_rl]-(lat_ctr[idx_rl+lon_nbr]-lat_ctr[idx_rl]);</td>
      </tr>
      <tr>
        <td id="L4878" class="blob-num js-line-number" data-line-number="4878"></td>
        <td id="LC4878" class="blob-code blob-code-inner js-file-line">      lon_ctr_fk[idx_fk]=lon_ctr[idx_rl]-(lon_ctr[idx_rl+lon_nbr]-lon_ctr[idx_rl]);</td>
      </tr>
      <tr>
        <td id="L4879" class="blob-num js-line-number" data-line-number="4879"></td>
        <td id="LC4879" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4880" class="blob-num js-line-number" data-line-number="4880"></td>
        <td id="LC4880" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Top row */</span></td>
      </tr>
      <tr>
        <td id="L4881" class="blob-num js-line-number" data-line-number="4881"></td>
        <td id="LC4881" class="blob-code blob-code-inner js-file-line">    lat_idx=lat_nbr+<span class="pl-c1">1</span>; <span class="pl-c">/* lat idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4882" class="blob-num js-line-number" data-line-number="4882"></td>
        <td id="LC4882" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">1</span>;lon_idx&lt;lon_nbr+<span class="pl-c1">1</span>;lon_idx++){ <span class="pl-c">/* lon idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4883" class="blob-num js-line-number" data-line-number="4883"></td>
        <td id="LC4883" class="blob-code blob-code-inner js-file-line">      idx_fk=lat_idx*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx; <span class="pl-c">/* 1D-offset of extrapolated point on top row of fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4884" class="blob-num js-line-number" data-line-number="4884"></td>
        <td id="LC4884" class="blob-code blob-code-inner js-file-line">      idx_rl=(lat_nbr-<span class="pl-c1">1</span>)*lon_nbr+lon_idx-<span class="pl-c1">1</span>; <span class="pl-c">/* 1D-offset of neighboring point on top row of real grid */</span></td>
      </tr>
      <tr>
        <td id="L4885" class="blob-num js-line-number" data-line-number="4885"></td>
        <td id="LC4885" class="blob-code blob-code-inner js-file-line">      lat_ctr_fk[idx_fk]=lat_ctr[idx_rl]+(lat_ctr[idx_rl]-lat_ctr[idx_rl-lon_nbr]);</td>
      </tr>
      <tr>
        <td id="L4886" class="blob-num js-line-number" data-line-number="4886"></td>
        <td id="LC4886" class="blob-code blob-code-inner js-file-line">      lon_ctr_fk[idx_fk]=lon_ctr[idx_rl]+(lon_ctr[idx_rl]-lon_ctr[idx_rl-lon_nbr]);</td>
      </tr>
      <tr>
        <td id="L4887" class="blob-num js-line-number" data-line-number="4887"></td>
        <td id="LC4887" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4888" class="blob-num js-line-number" data-line-number="4888"></td>
        <td id="LC4888" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Left side */</span></td>
      </tr>
      <tr>
        <td id="L4889" class="blob-num js-line-number" data-line-number="4889"></td>
        <td id="LC4889" class="blob-code blob-code-inner js-file-line">    lon_idx=<span class="pl-c1">0</span>; <span class="pl-c">/* lon idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4890" class="blob-num js-line-number" data-line-number="4890"></td>
        <td id="LC4890" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr+<span class="pl-c1">1</span>;lat_idx++){ <span class="pl-c">/* lat idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4891" class="blob-num js-line-number" data-line-number="4891"></td>
        <td id="LC4891" class="blob-code blob-code-inner js-file-line">      idx_fk=lat_idx*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx; <span class="pl-c">/* 1D-offset of extrapolated point on left side of fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4892" class="blob-num js-line-number" data-line-number="4892"></td>
        <td id="LC4892" class="blob-code blob-code-inner js-file-line">      idx_rl=(lat_idx-<span class="pl-c1">1</span>)*lon_nbr+lon_idx; <span class="pl-c">/* 1D-offset of neighboring point on left side of real grid */</span></td>
      </tr>
      <tr>
        <td id="L4893" class="blob-num js-line-number" data-line-number="4893"></td>
        <td id="LC4893" class="blob-code blob-code-inner js-file-line">      lat_ctr_fk[idx_fk]=lat_ctr[idx_rl]-(lat_ctr[idx_rl+<span class="pl-c1">1</span>]-lat_ctr[idx_rl]);</td>
      </tr>
      <tr>
        <td id="L4894" class="blob-num js-line-number" data-line-number="4894"></td>
        <td id="LC4894" class="blob-code blob-code-inner js-file-line">      lon_ctr_fk[idx_fk]=lon_ctr[idx_rl]-(lon_ctr[idx_rl+<span class="pl-c1">1</span>]-lon_ctr[idx_rl]);</td>
      </tr>
      <tr>
        <td id="L4895" class="blob-num js-line-number" data-line-number="4895"></td>
        <td id="LC4895" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4896" class="blob-num js-line-number" data-line-number="4896"></td>
        <td id="LC4896" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Right side */</span></td>
      </tr>
      <tr>
        <td id="L4897" class="blob-num js-line-number" data-line-number="4897"></td>
        <td id="LC4897" class="blob-code blob-code-inner js-file-line">    lon_idx=lon_nbr+<span class="pl-c1">1</span>; <span class="pl-c">/* lon idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4898" class="blob-num js-line-number" data-line-number="4898"></td>
        <td id="LC4898" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr+<span class="pl-c1">1</span>;lat_idx++){ <span class="pl-c">/* lat idx of extrapolated point on fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4899" class="blob-num js-line-number" data-line-number="4899"></td>
        <td id="LC4899" class="blob-code blob-code-inner js-file-line">      idx_fk=lat_idx*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx; <span class="pl-c">/* 1D-offset of extrapolated point on right side of fake grid */</span></td>
      </tr>
      <tr>
        <td id="L4900" class="blob-num js-line-number" data-line-number="4900"></td>
        <td id="LC4900" class="blob-code blob-code-inner js-file-line">      idx_rl=(lat_idx-<span class="pl-c1">1</span>)*lon_nbr+lon_idx-<span class="pl-c1">2</span>; <span class="pl-c">/* 1D-offset of neighboring point on right side of real grid */</span></td>
      </tr>
      <tr>
        <td id="L4901" class="blob-num js-line-number" data-line-number="4901"></td>
        <td id="LC4901" class="blob-code blob-code-inner js-file-line">      lat_ctr_fk[idx_fk]=lat_ctr[idx_rl]+(lat_ctr[idx_rl]-lat_ctr[idx_rl-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4902" class="blob-num js-line-number" data-line-number="4902"></td>
        <td id="LC4902" class="blob-code blob-code-inner js-file-line">      lon_ctr_fk[idx_fk]=lon_ctr[idx_rl]+(lon_ctr[idx_rl]-lon_ctr[idx_rl-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4903" class="blob-num js-line-number" data-line-number="4903"></td>
        <td id="LC4903" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4904" class="blob-num js-line-number" data-line-number="4904"></td>
        <td id="LC4904" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* LL */</span></td>
      </tr>
      <tr>
        <td id="L4905" class="blob-num js-line-number" data-line-number="4905"></td>
        <td id="LC4905" class="blob-code blob-code-inner js-file-line">    lat_ctr_fk[<span class="pl-c1">0</span>]=lat_ctr_fk[lon_nbr+<span class="pl-c1">2</span>]-(lat_ctr_fk[<span class="pl-c1">2</span>*(lon_nbr+<span class="pl-c1">2</span>)]-lat_ctr_fk[lon_nbr+<span class="pl-c1">2</span>]);</td>
      </tr>
      <tr>
        <td id="L4906" class="blob-num js-line-number" data-line-number="4906"></td>
        <td id="LC4906" class="blob-code blob-code-inner js-file-line">    lon_ctr_fk[<span class="pl-c1">0</span>]=lon_ctr_fk[<span class="pl-c1">1</span>]-(lon_ctr_fk[<span class="pl-c1">2</span>]-lon_ctr_fk[<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4907" class="blob-num js-line-number" data-line-number="4907"></td>
        <td id="LC4907" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* LR */</span></td>
      </tr>
      <tr>
        <td id="L4908" class="blob-num js-line-number" data-line-number="4908"></td>
        <td id="LC4908" class="blob-code blob-code-inner js-file-line">    lat_ctr_fk[lon_nbr+<span class="pl-c1">1</span>]=lat_ctr_fk[<span class="pl-c1">2</span>*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]-(lat_ctr_fk[<span class="pl-c1">3</span>*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]-lat_ctr_fk[<span class="pl-c1">2</span>*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4909" class="blob-num js-line-number" data-line-number="4909"></td>
        <td id="LC4909" class="blob-code blob-code-inner js-file-line">    lon_ctr_fk[lon_nbr+<span class="pl-c1">1</span>]=lon_ctr_fk[lon_nbr]+(lon_ctr_fk[lon_nbr]-lon_ctr_fk[lon_nbr-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4910" class="blob-num js-line-number" data-line-number="4910"></td>
        <td id="LC4910" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* UR */</span></td>
      </tr>
      <tr>
        <td id="L4911" class="blob-num js-line-number" data-line-number="4911"></td>
        <td id="LC4911" class="blob-code blob-code-inner js-file-line">    lat_ctr_fk[(lat_nbr+<span class="pl-c1">2</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]=lat_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]+(lat_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]-lat_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4912" class="blob-num js-line-number" data-line-number="4912"></td>
        <td id="LC4912" class="blob-code blob-code-inner js-file-line">    lon_ctr_fk[(lat_nbr+<span class="pl-c1">2</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>]=lon_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">2</span>]+(lon_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">2</span>]-lon_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">3</span>]);</td>
      </tr>
      <tr>
        <td id="L4913" class="blob-num js-line-number" data-line-number="4913"></td>
        <td id="LC4913" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* UL */</span></td>
      </tr>
      <tr>
        <td id="L4914" class="blob-num js-line-number" data-line-number="4914"></td>
        <td id="LC4914" class="blob-code blob-code-inner js-file-line">    lat_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)]=lat_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)]+(lat_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)]-lat_ctr_fk[(lat_nbr-<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)]);</td>
      </tr>
      <tr>
        <td id="L4915" class="blob-num js-line-number" data-line-number="4915"></td>
        <td id="LC4915" class="blob-code blob-code-inner js-file-line">    lon_ctr_fk[(lat_nbr+<span class="pl-c1">1</span>)*(lon_nbr+<span class="pl-c1">2</span>)]=lon_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)+<span class="pl-c1">1</span>]-(lon_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)+<span class="pl-c1">2</span>]-lon_ctr_fk[lat_nbr*(lon_nbr+<span class="pl-c1">2</span>)+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L4916" class="blob-num js-line-number" data-line-number="4916"></td>
        <td id="LC4916" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4917" class="blob-num js-line-number" data-line-number="4917"></td>
        <td id="LC4917" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std){</td>
      </tr>
      <tr>
        <td id="L4918" class="blob-num js-line-number" data-line-number="4918"></td>
        <td id="LC4918" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">long</span> idx_dbg;</td>
      </tr>
      <tr>
        <td id="L4919" class="blob-num js-line-number" data-line-number="4919"></td>
        <td id="LC4919" class="blob-code blob-code-inner js-file-line">      idx_dbg=rgr-&gt;idx_dbg;</td>
      </tr>
      <tr>
        <td id="L4920" class="blob-num js-line-number" data-line-number="4920"></td>
        <td id="LC4920" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> idx_dbg = <span class="pl-c1">%li</span>, Fake Center [lat,lon]=[<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,idx_dbg,lat_ctr_fk[idx_dbg],lon_ctr_fk[idx_dbg]);</td>
      </tr>
      <tr>
        <td id="L4921" class="blob-num js-line-number" data-line-number="4921"></td>
        <td id="LC4921" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !dbg */</span></td>
      </tr>
      <tr>
        <td id="L4922" class="blob-num js-line-number" data-line-number="4922"></td>
        <td id="LC4922" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4923" class="blob-num js-line-number" data-line-number="4923"></td>
        <td id="LC4923" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> lat_idx_fk; <span class="pl-c">/* [idx] Index into fake (extrapolated) latitude  array */</span></td>
      </tr>
      <tr>
        <td id="L4924" class="blob-num js-line-number" data-line-number="4924"></td>
        <td id="LC4924" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> lon_idx_fk; <span class="pl-c">/* [idx] Index into fake (extrapolated) longitude array */</span></td>
      </tr>
      <tr>
        <td id="L4925" class="blob-num js-line-number" data-line-number="4925"></td>
        <td id="LC4925" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ll_ctr_ll;</td>
      </tr>
      <tr>
        <td id="L4926" class="blob-num js-line-number" data-line-number="4926"></td>
        <td id="LC4926" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ll_ctr_lr;</td>
      </tr>
      <tr>
        <td id="L4927" class="blob-num js-line-number" data-line-number="4927"></td>
        <td id="LC4927" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ll_ctr_ur;</td>
      </tr>
      <tr>
        <td id="L4928" class="blob-num js-line-number" data-line-number="4928"></td>
        <td id="LC4928" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ll_ctr_ul;</td>
      </tr>
      <tr>
        <td id="L4929" class="blob-num js-line-number" data-line-number="4929"></td>
        <td id="LC4929" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_lr_ctr_ll;</td>
      </tr>
      <tr>
        <td id="L4930" class="blob-num js-line-number" data-line-number="4930"></td>
        <td id="LC4930" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_lr_ctr_lr;</td>
      </tr>
      <tr>
        <td id="L4931" class="blob-num js-line-number" data-line-number="4931"></td>
        <td id="LC4931" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_lr_ctr_ur;</td>
      </tr>
      <tr>
        <td id="L4932" class="blob-num js-line-number" data-line-number="4932"></td>
        <td id="LC4932" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_lr_ctr_ul;</td>
      </tr>
      <tr>
        <td id="L4933" class="blob-num js-line-number" data-line-number="4933"></td>
        <td id="LC4933" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ur_ctr_ll;</td>
      </tr>
      <tr>
        <td id="L4934" class="blob-num js-line-number" data-line-number="4934"></td>
        <td id="LC4934" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ur_ctr_lr;</td>
      </tr>
      <tr>
        <td id="L4935" class="blob-num js-line-number" data-line-number="4935"></td>
        <td id="LC4935" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ur_ctr_ur;</td>
      </tr>
      <tr>
        <td id="L4936" class="blob-num js-line-number" data-line-number="4936"></td>
        <td id="LC4936" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ur_ctr_ul;</td>
      </tr>
      <tr>
        <td id="L4937" class="blob-num js-line-number" data-line-number="4937"></td>
        <td id="LC4937" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ul_ctr_ll;</td>
      </tr>
      <tr>
        <td id="L4938" class="blob-num js-line-number" data-line-number="4938"></td>
        <td id="LC4938" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ul_ctr_lr;</td>
      </tr>
      <tr>
        <td id="L4939" class="blob-num js-line-number" data-line-number="4939"></td>
        <td id="LC4939" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ul_ctr_ur;</td>
      </tr>
      <tr>
        <td id="L4940" class="blob-num js-line-number" data-line-number="4940"></td>
        <td id="LC4940" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_fk_crn_ul_ctr_ul;</td>
      </tr>
      <tr>
        <td id="L4941" class="blob-num js-line-number" data-line-number="4941"></td>
        <td id="LC4941" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ll;</td>
      </tr>
      <tr>
        <td id="L4942" class="blob-num js-line-number" data-line-number="4942"></td>
        <td id="LC4942" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_lr;</td>
      </tr>
      <tr>
        <td id="L4943" class="blob-num js-line-number" data-line-number="4943"></td>
        <td id="LC4943" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ur;</td>
      </tr>
      <tr>
        <td id="L4944" class="blob-num js-line-number" data-line-number="4944"></td>
        <td id="LC4944" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">long</span> <span class="pl-k">int</span> idx_crn_ul;</td>
      </tr>
      <tr>
        <td id="L4945" class="blob-num js-line-number" data-line-number="4945"></td>
        <td id="LC4945" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L4946" class="blob-num js-line-number" data-line-number="4946"></td>
        <td id="LC4946" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L4947" class="blob-num js-line-number" data-line-number="4947"></td>
        <td id="LC4947" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* 9-point template valid at all interior (non-edge) points in real grid, and at all points (including edges) in fake grid</span></td>
      </tr>
      <tr>
        <td id="L4948" class="blob-num js-line-number" data-line-number="4948"></td>
        <td id="LC4948" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Read variables idx_crn_ll_ctr_ul as &quot;index of upper left gridcell center that contributes to lower-left gridcell corner&quot;</span></td>
      </tr>
      <tr>
        <td id="L4949" class="blob-num js-line-number" data-line-number="4949"></td>
        <td id="LC4949" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Algorithms execute in counter-clockwise (CCW) direction: lower-left, lower-right, upper-right, upper-left</span></td>
      </tr>
      <tr>
        <td id="L4950" class="blob-num js-line-number" data-line-number="4950"></td>
        <td id="LC4950" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   lat_idx and lon_idx are true indices and are used to write into grd_crn_lat/lon arrays</span></td>
      </tr>
      <tr>
        <td id="L4951" class="blob-num js-line-number" data-line-number="4951"></td>
        <td id="LC4951" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   lat_idx_fk and lon_idx_fk are indices into fake arrays with extrapolated boundaries and are used to read data from fake arrays */</span></td>
      </tr>
      <tr>
        <td id="L4952" class="blob-num js-line-number" data-line-number="4952"></td>
        <td id="LC4952" class="blob-code blob-code-inner js-file-line">	lon_idx_fk=lon_idx+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L4953" class="blob-num js-line-number" data-line-number="4953"></td>
        <td id="LC4953" class="blob-code blob-code-inner js-file-line">	lat_idx_fk=lat_idx+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L4954" class="blob-num js-line-number" data-line-number="4954"></td>
        <td id="LC4954" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L4955" class="blob-num js-line-number" data-line-number="4955"></td>
        <td id="LC4955" class="blob-code blob-code-inner js-file-line">	idx_rl=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L4956" class="blob-num js-line-number" data-line-number="4956"></td>
        <td id="LC4956" class="blob-code blob-code-inner js-file-line">	idx_fk=lat_idx_fk*(lon_nbr+<span class="pl-c1">2</span>)+lon_idx_fk;</td>
      </tr>
      <tr>
        <td id="L4957" class="blob-num js-line-number" data-line-number="4957"></td>
        <td id="LC4957" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4958" class="blob-num js-line-number" data-line-number="4958"></td>
        <td id="LC4958" class="blob-code blob-code-inner js-file-line">	<span class="pl-c">/* Determine index into fake array (valid everywhere it is applied) </span></td>
      </tr>
      <tr>
        <td id="L4959" class="blob-num js-line-number" data-line-number="4959"></td>
        <td id="LC4959" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	   Comments after each equation are formula for real index (valid only at interior gridcells) */</span></td>
      </tr>
      <tr>
        <td id="L4960" class="blob-num js-line-number" data-line-number="4960"></td>
        <td id="LC4960" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ll_ctr_ll=idx_fk-(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>; <span class="pl-c">// (lat_idx-1)*lon_nbr+lon_idx-1</span></td>
      </tr>
      <tr>
        <td id="L4961" class="blob-num js-line-number" data-line-number="4961"></td>
        <td id="LC4961" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ll_ctr_lr=idx_fk-(lon_nbr+<span class="pl-c1">2</span>); <span class="pl-c">// (lat_idx-1)*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4962" class="blob-num js-line-number" data-line-number="4962"></td>
        <td id="LC4962" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ll_ctr_ur=idx_fk; <span class="pl-c">// lat_idx*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4963" class="blob-num js-line-number" data-line-number="4963"></td>
        <td id="LC4963" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ll_ctr_ul=idx_fk-<span class="pl-c1">1</span>; <span class="pl-c">// lat_idx*lon_nbr+lon_idx-1;</span></td>
      </tr>
      <tr>
        <td id="L4964" class="blob-num js-line-number" data-line-number="4964"></td>
        <td id="LC4964" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4965" class="blob-num js-line-number" data-line-number="4965"></td>
        <td id="LC4965" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_lr_ctr_ll=idx_fk-(lon_nbr+<span class="pl-c1">2</span>); <span class="pl-c">// (lat_idx-1)*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4966" class="blob-num js-line-number" data-line-number="4966"></td>
        <td id="LC4966" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_lr_ctr_lr=idx_fk-(lon_nbr+<span class="pl-c1">2</span>)+<span class="pl-c1">1</span>; <span class="pl-c">// (lat_idx-1)*lon_nbr+lon_idx+1</span></td>
      </tr>
      <tr>
        <td id="L4967" class="blob-num js-line-number" data-line-number="4967"></td>
        <td id="LC4967" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_lr_ctr_ur=idx_fk+<span class="pl-c1">1</span>; <span class="pl-c">// lat_idx*lon_nbr+lon_idx+1</span></td>
      </tr>
      <tr>
        <td id="L4968" class="blob-num js-line-number" data-line-number="4968"></td>
        <td id="LC4968" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_lr_ctr_ul=idx_fk; <span class="pl-c">// lat_idx*lon_nbr+lon_idx;</span></td>
      </tr>
      <tr>
        <td id="L4969" class="blob-num js-line-number" data-line-number="4969"></td>
        <td id="LC4969" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4970" class="blob-num js-line-number" data-line-number="4970"></td>
        <td id="LC4970" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ur_ctr_ll=idx_fk; <span class="pl-c">// lat_idx*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4971" class="blob-num js-line-number" data-line-number="4971"></td>
        <td id="LC4971" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ur_ctr_lr=idx_fk+<span class="pl-c1">1</span>; <span class="pl-c">// lat_idx*lon_nbr+lon_idx+1</span></td>
      </tr>
      <tr>
        <td id="L4972" class="blob-num js-line-number" data-line-number="4972"></td>
        <td id="LC4972" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ur_ctr_ur=idx_fk+(lon_nbr+<span class="pl-c1">2</span>)+<span class="pl-c1">1</span>; <span class="pl-c">// (lat_idx+1)*lon_nbr+lon_idx+1</span></td>
      </tr>
      <tr>
        <td id="L4973" class="blob-num js-line-number" data-line-number="4973"></td>
        <td id="LC4973" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ur_ctr_ul=idx_fk+(lon_nbr+<span class="pl-c1">2</span>); <span class="pl-c">// (lat_idx+1)*lon_nbr+lon_idx;</span></td>
      </tr>
      <tr>
        <td id="L4974" class="blob-num js-line-number" data-line-number="4974"></td>
        <td id="LC4974" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L4975" class="blob-num js-line-number" data-line-number="4975"></td>
        <td id="LC4975" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ul_ctr_ll=idx_fk-<span class="pl-c1">1</span>; <span class="pl-c">// lat_idx*lon_nbr+lon_idx-1</span></td>
      </tr>
      <tr>
        <td id="L4976" class="blob-num js-line-number" data-line-number="4976"></td>
        <td id="LC4976" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ul_ctr_lr=idx_fk; <span class="pl-c">// lat_idx*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4977" class="blob-num js-line-number" data-line-number="4977"></td>
        <td id="LC4977" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ul_ctr_ur=idx_fk+(lon_nbr+<span class="pl-c1">2</span>); <span class="pl-c">// (lat_idx+1)*lon_nbr+lon_idx</span></td>
      </tr>
      <tr>
        <td id="L4978" class="blob-num js-line-number" data-line-number="4978"></td>
        <td id="LC4978" class="blob-code blob-code-inner js-file-line">	idx_fk_crn_ul_ctr_ul=idx_fk+(lon_nbr+<span class="pl-c1">2</span>)-<span class="pl-c1">1</span>; <span class="pl-c">// (lat_idx+1)*lon_nbr+lon_idx-1;</span></td>
      </tr>
      <tr>
        <td id="L4979" class="blob-num js-line-number" data-line-number="4979"></td>
        <td id="LC4979" class="blob-code blob-code-inner js-file-line">	</td>
      </tr>
      <tr>
        <td id="L4980" class="blob-num js-line-number" data-line-number="4980"></td>
        <td id="LC4980" class="blob-code blob-code-inner js-file-line">	idx_crn_ll=grd_crn_nbr*idx_rl+<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L4981" class="blob-num js-line-number" data-line-number="4981"></td>
        <td id="LC4981" class="blob-code blob-code-inner js-file-line">	lat_crn[idx_crn_ll]=<span class="pl-c1">0.25</span>*(lat_ctr_fk[idx_fk_crn_ll_ctr_ll]+lat_ctr_fk[idx_fk_crn_ll_ctr_lr]+lat_ctr_fk[idx_fk_crn_ll_ctr_ur]+lat_ctr_fk[idx_fk_crn_ll_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4982" class="blob-num js-line-number" data-line-number="4982"></td>
        <td id="LC4982" class="blob-code blob-code-inner js-file-line">	lon_crn[idx_crn_ll]=<span class="pl-c1">0.25</span>*(lon_ctr_fk[idx_fk_crn_ll_ctr_ll]+lon_ctr_fk[idx_fk_crn_ll_ctr_lr]+lon_ctr_fk[idx_fk_crn_ll_ctr_ur]+lon_ctr_fk[idx_fk_crn_ll_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4983" class="blob-num js-line-number" data-line-number="4983"></td>
        <td id="LC4983" class="blob-code blob-code-inner js-file-line">	idx_crn_lr=grd_crn_nbr*idx_rl+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L4984" class="blob-num js-line-number" data-line-number="4984"></td>
        <td id="LC4984" class="blob-code blob-code-inner js-file-line">	lat_crn[idx_crn_lr]=<span class="pl-c1">0.25</span>*(lat_ctr_fk[idx_fk_crn_lr_ctr_ll]+lat_ctr_fk[idx_fk_crn_lr_ctr_lr]+lat_ctr_fk[idx_fk_crn_lr_ctr_ur]+lat_ctr_fk[idx_fk_crn_lr_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4985" class="blob-num js-line-number" data-line-number="4985"></td>
        <td id="LC4985" class="blob-code blob-code-inner js-file-line">	lon_crn[idx_crn_lr]=<span class="pl-c1">0.25</span>*(lon_ctr_fk[idx_fk_crn_lr_ctr_ll]+lon_ctr_fk[idx_fk_crn_lr_ctr_lr]+lon_ctr_fk[idx_fk_crn_lr_ctr_ur]+lon_ctr_fk[idx_fk_crn_lr_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4986" class="blob-num js-line-number" data-line-number="4986"></td>
        <td id="LC4986" class="blob-code blob-code-inner js-file-line">	idx_crn_ur=grd_crn_nbr*idx_rl+<span class="pl-c1">2</span>;</td>
      </tr>
      <tr>
        <td id="L4987" class="blob-num js-line-number" data-line-number="4987"></td>
        <td id="LC4987" class="blob-code blob-code-inner js-file-line">	lat_crn[idx_crn_ur]=<span class="pl-c1">0.25</span>*(lat_ctr_fk[idx_fk_crn_ur_ctr_ll]+lat_ctr_fk[idx_fk_crn_ur_ctr_lr]+lat_ctr_fk[idx_fk_crn_ur_ctr_ur]+lat_ctr_fk[idx_fk_crn_ur_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4988" class="blob-num js-line-number" data-line-number="4988"></td>
        <td id="LC4988" class="blob-code blob-code-inner js-file-line">	lon_crn[idx_crn_ur]=<span class="pl-c1">0.25</span>*(lon_ctr_fk[idx_fk_crn_ur_ctr_ll]+lon_ctr_fk[idx_fk_crn_ur_ctr_lr]+lon_ctr_fk[idx_fk_crn_ur_ctr_ur]+lon_ctr_fk[idx_fk_crn_ur_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4989" class="blob-num js-line-number" data-line-number="4989"></td>
        <td id="LC4989" class="blob-code blob-code-inner js-file-line">	idx_crn_ul=grd_crn_nbr*idx_rl+<span class="pl-c1">3</span>;</td>
      </tr>
      <tr>
        <td id="L4990" class="blob-num js-line-number" data-line-number="4990"></td>
        <td id="LC4990" class="blob-code blob-code-inner js-file-line">	lat_crn[idx_crn_ul]=<span class="pl-c1">0.25</span>*(lat_ctr_fk[idx_fk_crn_ul_ctr_ll]+lat_ctr_fk[idx_fk_crn_ul_ctr_lr]+lat_ctr_fk[idx_fk_crn_ul_ctr_ur]+lat_ctr_fk[idx_fk_crn_ul_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4991" class="blob-num js-line-number" data-line-number="4991"></td>
        <td id="LC4991" class="blob-code blob-code-inner js-file-line">	lon_crn[idx_crn_ul]=<span class="pl-c1">0.25</span>*(lon_ctr_fk[idx_fk_crn_ul_ctr_ll]+lon_ctr_fk[idx_fk_crn_ul_ctr_lr]+lon_ctr_fk[idx_fk_crn_ul_ctr_ur]+lon_ctr_fk[idx_fk_crn_ul_ctr_ul]);</td>
      </tr>
      <tr>
        <td id="L4992" class="blob-num js-line-number" data-line-number="4992"></td>
        <td id="LC4992" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L4993" class="blob-num js-line-number" data-line-number="4993"></td>
        <td id="LC4993" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L4994" class="blob-num js-line-number" data-line-number="4994"></td>
        <td id="LC4994" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_ctr_fk) lat_ctr_fk=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ctr_fk);</td>
      </tr>
      <tr>
        <td id="L4995" class="blob-num js-line-number" data-line-number="4995"></td>
        <td id="LC4995" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_ctr_fk) lon_ctr_fk=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ctr_fk);</td>
      </tr>
      <tr>
        <td id="L4996" class="blob-num js-line-number" data-line-number="4996"></td>
        <td id="LC4996" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L4997" class="blob-num js-line-number" data-line-number="4997"></td>
        <td id="LC4997" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Use all that hard work? */</span></td>
      </tr>
      <tr>
        <td id="L4998" class="blob-num js-line-number" data-line-number="4998"></td>
        <td id="LC4998" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_bnd_id == NC_MIN_INT &amp;&amp; lon_bnd_id == NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L4999" class="blob-num js-line-number" data-line-number="4999"></td>
        <td id="LC4999" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* First, a sanity check</span></td>
      </tr>
      <tr>
        <td id="L5000" class="blob-num js-line-number" data-line-number="5000"></td>
        <td id="LC5000" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 20151129: Above extrapolation technique yields corners outside [-90.0,90.0], [-180.0,360.0]</span></td>
      </tr>
      <tr>
        <td id="L5001" class="blob-num js-line-number" data-line-number="5001"></td>
        <td id="LC5001" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Also, it may assume input is ascending swath and fail for descending swaths</span></td>
      </tr>
      <tr>
        <td id="L5002" class="blob-num js-line-number" data-line-number="5002"></td>
        <td id="LC5002" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Complications not fully addressed :</span></td>
      </tr>
      <tr>
        <td id="L5003" class="blob-num js-line-number" data-line-number="5003"></td>
        <td id="LC5003" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Swaths may (verify this) turn from ascending to descending, or visa-versa, when satellite crosses latitude extrema</span></td>
      </tr>
      <tr>
        <td id="L5004" class="blob-num js-line-number" data-line-number="5004"></td>
        <td id="LC5004" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Swaths may cross the date-line (and back!) */</span></td>
      </tr>
      <tr>
        <td id="L5005" class="blob-num js-line-number" data-line-number="5005"></td>
        <td id="LC5005" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5006" class="blob-num js-line-number" data-line-number="5006"></td>
        <td id="LC5006" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Determine numeric bounds of input coordinate system */</span></td>
      </tr>
      <tr>
        <td id="L5007" class="blob-num js-line-number" data-line-number="5007"></td>
        <td id="LC5007" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">double</span> lon_min_min;</td>
      </tr>
      <tr>
        <td id="L5008" class="blob-num js-line-number" data-line-number="5008"></td>
        <td id="LC5008" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">double</span> lon_max_max;</td>
      </tr>
      <tr>
        <td id="L5009" class="blob-num js-line-number" data-line-number="5009"></td>
        <td id="LC5009" class="blob-code blob-code-inner js-file-line">      nco_bool NCO_LON_0_TO_360=True;</td>
      </tr>
      <tr>
        <td id="L5010" class="blob-num js-line-number" data-line-number="5010"></td>
        <td id="LC5010" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++)</td>
      </tr>
      <tr>
        <td id="L5011" class="blob-num js-line-number" data-line-number="5011"></td>
        <td id="LC5011" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(lon_ctr[idx] &lt; <span class="pl-c1">0.0</span>) <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5012" class="blob-num js-line-number" data-line-number="5012"></td>
        <td id="LC5012" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(idx != grd_sz_nbr) NCO_LON_0_TO_360=False;</td>
      </tr>
      <tr>
        <td id="L5013" class="blob-num js-line-number" data-line-number="5013"></td>
        <td id="LC5013" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(NCO_LON_0_TO_360){</td>
      </tr>
      <tr>
        <td id="L5014" class="blob-num js-line-number" data-line-number="5014"></td>
        <td id="LC5014" class="blob-code blob-code-inner js-file-line">	lon_min_min=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L5015" class="blob-num js-line-number" data-line-number="5015"></td>
        <td id="LC5015" class="blob-code blob-code-inner js-file-line">	lon_max_max=<span class="pl-c1">360.0</span>;</td>
      </tr>
      <tr>
        <td id="L5016" class="blob-num js-line-number" data-line-number="5016"></td>
        <td id="LC5016" class="blob-code blob-code-inner js-file-line">      }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L5017" class="blob-num js-line-number" data-line-number="5017"></td>
        <td id="LC5017" class="blob-code blob-code-inner js-file-line">	lon_min_min=-<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L5018" class="blob-num js-line-number" data-line-number="5018"></td>
        <td id="LC5018" class="blob-code blob-code-inner js-file-line">	lon_max_max=<span class="pl-c1">180.0</span>;</td>
      </tr>
      <tr>
        <td id="L5019" class="blob-num js-line-number" data-line-number="5019"></td>
        <td id="LC5019" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !NCO_LON_0_TO_360 */</span></td>
      </tr>
      <tr>
        <td id="L5020" class="blob-num js-line-number" data-line-number="5020"></td>
        <td id="LC5020" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr*grd_crn_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5021" class="blob-num js-line-number" data-line-number="5021"></td>
        <td id="LC5021" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span>(lat_crn[idx] &lt; -<span class="pl-c1">90.0</span> || lat_crn[idx] &gt; <span class="pl-c1">90.0</span> || lon_crn[idx] &lt; lon_min_min || lon_crn[idx] &gt; lon_max_max){</td>
      </tr>
      <tr>
        <td id="L5022" class="blob-num js-line-number" data-line-number="5022"></td>
        <td id="LC5022" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">long</span> idx_ctr;</td>
      </tr>
      <tr>
        <td id="L5023" class="blob-num js-line-number" data-line-number="5023"></td>
        <td id="LC5023" class="blob-code blob-code-inner js-file-line">	  idx_ctr=idx/grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L5024" class="blob-num js-line-number" data-line-number="5024"></td>
        <td id="LC5024" class="blob-code blob-code-inner js-file-line">	  idx_crn_ll=grd_crn_nbr*idx_ctr+<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L5025" class="blob-num js-line-number" data-line-number="5025"></td>
        <td id="LC5025" class="blob-code blob-code-inner js-file-line">	  idx_crn_lr=grd_crn_nbr*idx_ctr+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L5026" class="blob-num js-line-number" data-line-number="5026"></td>
        <td id="LC5026" class="blob-code blob-code-inner js-file-line">	  idx_crn_ur=grd_crn_nbr*idx_ctr+<span class="pl-c1">2</span>;</td>
      </tr>
      <tr>
        <td id="L5027" class="blob-num js-line-number" data-line-number="5027"></td>
        <td id="LC5027" class="blob-code blob-code-inner js-file-line">	  idx_crn_ul=grd_crn_nbr*idx_ctr+<span class="pl-c1">3</span>;</td>
      </tr>
      <tr>
        <td id="L5028" class="blob-num js-line-number" data-line-number="5028"></td>
        <td id="LC5028" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> Extrapolation issue at idx = <span class="pl-c1">%li</span>, Center [lat,lon]=[<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]; Corners LL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] LR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,idx_ctr,lat_ctr[idx_ctr],lon_ctr[idx_ctr],lat_crn[idx_crn_ll],lon_crn[idx_crn_ll],lat_crn[idx_crn_lr],lon_crn[idx_crn_lr],lat_crn[idx_crn_ur],lon_crn[idx_crn_ur],lat_crn[idx_crn_ul],lon_crn[idx_crn_ul]);</td>
      </tr>
      <tr>
        <td id="L5029" class="blob-num js-line-number" data-line-number="5029"></td>
        <td id="LC5029" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Restrict grid to real latitudes and to the 360-degree range detected from input cell-centers */</span></td>
      </tr>
      <tr>
        <td id="L5030" class="blob-num js-line-number" data-line-number="5030"></td>
        <td id="LC5030" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lat_crn[idx] &lt; -<span class="pl-c1">90.0</span>) lat_crn[idx]=-<span class="pl-c1">90.0</span>;</td>
      </tr>
      <tr>
        <td id="L5031" class="blob-num js-line-number" data-line-number="5031"></td>
        <td id="LC5031" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lat_crn[idx] &gt;  <span class="pl-c1">90.0</span>) lat_crn[idx]=<span class="pl-c1">90.0</span>;</td>
      </tr>
      <tr>
        <td id="L5032" class="blob-num js-line-number" data-line-number="5032"></td>
        <td id="LC5032" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lon_crn[idx] &lt; lon_min_min) lon_crn[idx]+=<span class="pl-c1">360.0</span>;</td>
      </tr>
      <tr>
        <td id="L5033" class="blob-num js-line-number" data-line-number="5033"></td>
        <td id="LC5033" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(lon_crn[idx] &gt; lon_max_max) lon_crn[idx]-=<span class="pl-c1">360.0</span>;</td>
      </tr>
      <tr>
        <td id="L5034" class="blob-num js-line-number" data-line-number="5034"></td>
        <td id="LC5034" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !sanity */</span></td>
      </tr>
      <tr>
        <td id="L5035" class="blob-num js-line-number" data-line-number="5035"></td>
        <td id="LC5035" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L5036" class="blob-num js-line-number" data-line-number="5036"></td>
        <td id="LC5036" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Copy inferred, sanity-checked corners into empty output array */</span></td>
      </tr>
      <tr>
        <td id="L5037" class="blob-num js-line-number" data-line-number="5037"></td>
        <td id="LC5037" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr*grd_crn_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5038" class="blob-num js-line-number" data-line-number="5038"></td>
        <td id="LC5038" class="blob-code blob-code-inner js-file-line">	grd_crn_lat[idx]=lat_crn[idx];</td>
      </tr>
      <tr>
        <td id="L5039" class="blob-num js-line-number" data-line-number="5039"></td>
        <td id="LC5039" class="blob-code blob-code-inner js-file-line">	grd_crn_lon[idx]=lon_crn[idx];</td>
      </tr>
      <tr>
        <td id="L5040" class="blob-num js-line-number" data-line-number="5040"></td>
        <td id="LC5040" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L5041" class="blob-num js-line-number" data-line-number="5041"></td>
        <td id="LC5041" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end else */</span></td>
      </tr>
      <tr>
        <td id="L5042" class="blob-num js-line-number" data-line-number="5042"></td>
        <td id="LC5042" class="blob-code blob-code-inner js-file-line">      </td>
      </tr>
      <tr>
        <td id="L5043" class="blob-num js-line-number" data-line-number="5043"></td>
        <td id="LC5043" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std){</td>
      </tr>
      <tr>
        <td id="L5044" class="blob-num js-line-number" data-line-number="5044"></td>
        <td id="LC5044" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">long</span> idx_dbg;</td>
      </tr>
      <tr>
        <td id="L5045" class="blob-num js-line-number" data-line-number="5045"></td>
        <td id="LC5045" class="blob-code blob-code-inner js-file-line">      idx_dbg=rgr-&gt;idx_dbg;</td>
      </tr>
      <tr>
        <td id="L5046" class="blob-num js-line-number" data-line-number="5046"></td>
        <td id="LC5046" class="blob-code blob-code-inner js-file-line">      idx_crn_ll=grd_crn_nbr*idx_dbg+<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L5047" class="blob-num js-line-number" data-line-number="5047"></td>
        <td id="LC5047" class="blob-code blob-code-inner js-file-line">      idx_crn_lr=grd_crn_nbr*idx_dbg+<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L5048" class="blob-num js-line-number" data-line-number="5048"></td>
        <td id="LC5048" class="blob-code blob-code-inner js-file-line">      idx_crn_ur=grd_crn_nbr*idx_dbg+<span class="pl-c1">2</span>;</td>
      </tr>
      <tr>
        <td id="L5049" class="blob-num js-line-number" data-line-number="5049"></td>
        <td id="LC5049" class="blob-code blob-code-inner js-file-line">      idx_crn_ul=grd_crn_nbr*idx_dbg+<span class="pl-c1">3</span>;</td>
      </tr>
      <tr>
        <td id="L5050" class="blob-num js-line-number" data-line-number="5050"></td>
        <td id="LC5050" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> idx_dbg = <span class="pl-c1">%li</span>, Center [lat,lon]=[<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]; Corners LL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] LR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UR [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>] UL [<span class="pl-c1">%g</span>,<span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,idx_dbg,lat_ctr[idx_dbg],lon_ctr[idx_dbg],lat_crn[idx_crn_ll],lon_crn[idx_crn_ll],lat_crn[idx_crn_lr],lon_crn[idx_crn_lr],lat_crn[idx_crn_ur],lon_crn[idx_crn_ur],lat_crn[idx_crn_ul],lon_crn[idx_crn_ul]);</td>
      </tr>
      <tr>
        <td id="L5051" class="blob-num js-line-number" data-line-number="5051"></td>
        <td id="LC5051" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !dbg */</span></td>
      </tr>
      <tr>
        <td id="L5052" class="blob-num js-line-number" data-line-number="5052"></td>
        <td id="LC5052" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5053" class="blob-num js-line-number" data-line-number="5053"></td>
        <td id="LC5053" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Find span of curvilinear grid */</span></td>
      </tr>
      <tr>
        <td id="L5054" class="blob-num js-line-number" data-line-number="5054"></td>
        <td id="LC5054" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_max; <span class="pl-c">/* [dgr] Maximum latitude */</span></td>
      </tr>
      <tr>
        <td id="L5055" class="blob-num js-line-number" data-line-number="5055"></td>
        <td id="LC5055" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_min; <span class="pl-c">/* [dgr] Minimum latitude */</span></td>
      </tr>
      <tr>
        <td id="L5056" class="blob-num js-line-number" data-line-number="5056"></td>
        <td id="LC5056" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lon_max; <span class="pl-c">/* [dgr] Maximum longitude */</span></td>
      </tr>
      <tr>
        <td id="L5057" class="blob-num js-line-number" data-line-number="5057"></td>
        <td id="LC5057" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lon_min; <span class="pl-c">/* [dgr] Minimum longitude */</span></td>
      </tr>
      <tr>
        <td id="L5058" class="blob-num js-line-number" data-line-number="5058"></td>
        <td id="LC5058" class="blob-code blob-code-inner js-file-line">    lon_max=lon_crn[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5059" class="blob-num js-line-number" data-line-number="5059"></td>
        <td id="LC5059" class="blob-code blob-code-inner js-file-line">    lat_max=lat_crn[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5060" class="blob-num js-line-number" data-line-number="5060"></td>
        <td id="LC5060" class="blob-code blob-code-inner js-file-line">    lon_min=lon_crn[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5061" class="blob-num js-line-number" data-line-number="5061"></td>
        <td id="LC5061" class="blob-code blob-code-inner js-file-line">    lat_min=lat_crn[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5062" class="blob-num js-line-number" data-line-number="5062"></td>
        <td id="LC5062" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">1</span>;idx&lt;grd_sz_nbr*grd_crn_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5063" class="blob-num js-line-number" data-line-number="5063"></td>
        <td id="LC5063" class="blob-code blob-code-inner js-file-line">      lat_max=(lat_crn[idx] &gt; lat_max) ? lat_crn[idx] : lat_max;</td>
      </tr>
      <tr>
        <td id="L5064" class="blob-num js-line-number" data-line-number="5064"></td>
        <td id="LC5064" class="blob-code blob-code-inner js-file-line">      lon_max=(lon_crn[idx] &gt; lon_max) ? lon_crn[idx] : lon_max;</td>
      </tr>
      <tr>
        <td id="L5065" class="blob-num js-line-number" data-line-number="5065"></td>
        <td id="LC5065" class="blob-code blob-code-inner js-file-line">      lat_min=(lat_crn[idx] &lt; lat_min) ? lat_crn[idx] : lat_min;</td>
      </tr>
      <tr>
        <td id="L5066" class="blob-num js-line-number" data-line-number="5066"></td>
        <td id="LC5066" class="blob-code blob-code-inner js-file-line">      lon_min=(lon_crn[idx] &lt; lon_min) ? lon_crn[idx] : lon_min;</td>
      </tr>
      <tr>
        <td id="L5067" class="blob-num js-line-number" data-line-number="5067"></td>
        <td id="LC5067" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !idx */</span></td>
      </tr>
      <tr>
        <td id="L5068" class="blob-num js-line-number" data-line-number="5068"></td>
        <td id="LC5068" class="blob-code blob-code-inner js-file-line">    lat_spn=lat_max-lat_min;</td>
      </tr>
      <tr>
        <td id="L5069" class="blob-num js-line-number" data-line-number="5069"></td>
        <td id="LC5069" class="blob-code blob-code-inner js-file-line">    lon_spn=lon_max-lon_min;</td>
      </tr>
      <tr>
        <td id="L5070" class="blob-num js-line-number" data-line-number="5070"></td>
        <td id="LC5070" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports curvilinear grid is <span class="pl-c1">%li</span> x <span class="pl-c1">%li</span> spanning <span class="pl-c1">%g</span> x <span class="pl-c1">%g</span> degrees: [<span class="pl-c1">%g</span> &lt;= lat &lt;= <span class="pl-c1">%g</span>], [<span class="pl-c1">%g</span> &lt;= lon &lt;= <span class="pl-c1">%g</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_nbr,lon_nbr,lat_spn,lon_spn,lat_min,lat_max,lon_min,lon_max);</td>
      </tr>
      <tr>
        <td id="L5071" class="blob-num js-line-number" data-line-number="5071"></td>
        <td id="LC5071" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_crv */</span></td>
      </tr>
      <tr>
        <td id="L5072" class="blob-num js-line-number" data-line-number="5072"></td>
        <td id="LC5072" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5073" class="blob-num js-line-number" data-line-number="5073"></td>
        <td id="LC5073" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5074" class="blob-num js-line-number" data-line-number="5074"></td>
        <td id="LC5074" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Interfaces (ntf) assume rectangular grids */</span></td>
      </tr>
      <tr>
        <td id="L5075" class="blob-num js-line-number" data-line-number="5075"></td>
        <td id="LC5075" class="blob-code blob-code-inner js-file-line">    lat_ntf[<span class="pl-c1">0</span>]=lat_ctr[<span class="pl-c1">0</span>]-<span class="pl-c1">0.5</span>*(lat_ctr[<span class="pl-c1">1</span>]-lat_ctr[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L5076" class="blob-num js-line-number" data-line-number="5076"></td>
        <td id="LC5076" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr-<span class="pl-c1">1</span>;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5077" class="blob-num js-line-number" data-line-number="5077"></td>
        <td id="LC5077" class="blob-code blob-code-inner js-file-line">      lat_ntf[lat_idx+<span class="pl-c1">1</span>]=<span class="pl-c1">0.5</span>*(lat_ctr[lat_idx]+lat_ctr[lat_idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L5078" class="blob-num js-line-number" data-line-number="5078"></td>
        <td id="LC5078" class="blob-code blob-code-inner js-file-line">    lat_ntf[lat_nbr]=lat_ctr[lat_nbr-<span class="pl-c1">1</span>]+<span class="pl-c1">0.5</span>*(lat_ctr[lat_nbr-<span class="pl-c1">1</span>]-lat_ctr[lat_nbr-<span class="pl-c1">2</span>]);</td>
      </tr>
      <tr>
        <td id="L5079" class="blob-num js-line-number" data-line-number="5079"></td>
        <td id="LC5079" class="blob-code blob-code-inner js-file-line">    lat_spn=lat_ntf[lat_nbr]-lat_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5080" class="blob-num js-line-number" data-line-number="5080"></td>
        <td id="LC5080" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5081" class="blob-num js-line-number" data-line-number="5081"></td>
        <td id="LC5081" class="blob-code blob-code-inner js-file-line">    lon_ntf[<span class="pl-c1">0</span>]=lon_ctr[<span class="pl-c1">0</span>]-<span class="pl-c1">0.5</span>*(lon_ctr[<span class="pl-c1">1</span>]-lon_ctr[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L5082" class="blob-num js-line-number" data-line-number="5082"></td>
        <td id="LC5082" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr-<span class="pl-c1">1</span>;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L5083" class="blob-num js-line-number" data-line-number="5083"></td>
        <td id="LC5083" class="blob-code blob-code-inner js-file-line">      lon_ntf[lon_idx+<span class="pl-c1">1</span>]=<span class="pl-c1">0.5</span>*(lon_ctr[lon_idx]+lon_ctr[lon_idx+<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L5084" class="blob-num js-line-number" data-line-number="5084"></td>
        <td id="LC5084" class="blob-code blob-code-inner js-file-line">    lon_ntf[lon_nbr]=lon_ctr[lon_nbr-<span class="pl-c1">1</span>]+<span class="pl-c1">0.5</span>*(lon_ctr[lon_nbr-<span class="pl-c1">1</span>]-lon_ctr[lon_nbr-<span class="pl-c1">2</span>]);</td>
      </tr>
      <tr>
        <td id="L5085" class="blob-num js-line-number" data-line-number="5085"></td>
        <td id="LC5085" class="blob-code blob-code-inner js-file-line">    lon_spn=lon_ntf[lon_nbr]-lon_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5086" class="blob-num js-line-number" data-line-number="5086"></td>
        <td id="LC5086" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5087" class="blob-num js-line-number" data-line-number="5087"></td>
        <td id="LC5087" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* fxm: do not overwrite bounds (bnd), if any, from input file */</span></td>
      </tr>
      <tr>
        <td id="L5088" class="blob-num js-line-number" data-line-number="5088"></td>
        <td id="LC5088" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5089" class="blob-num js-line-number" data-line-number="5089"></td>
        <td id="LC5089" class="blob-code blob-code-inner js-file-line">      lon_bnd[<span class="pl-c1">2</span>*idx]=lon_ntf[idx];</td>
      </tr>
      <tr>
        <td id="L5090" class="blob-num js-line-number" data-line-number="5090"></td>
        <td id="LC5090" class="blob-code blob-code-inner js-file-line">      lon_bnd[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lon_ntf[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L5091" class="blob-num js-line-number" data-line-number="5091"></td>
        <td id="LC5091" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over longitude */</span></td>
      </tr>
      <tr>
        <td id="L5092" class="blob-num js-line-number" data-line-number="5092"></td>
        <td id="LC5092" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5093" class="blob-num js-line-number" data-line-number="5093"></td>
        <td id="LC5093" class="blob-code blob-code-inner js-file-line">      lat_bnd[<span class="pl-c1">2</span>*idx]=lat_ntf[idx];</td>
      </tr>
      <tr>
        <td id="L5094" class="blob-num js-line-number" data-line-number="5094"></td>
        <td id="LC5094" class="blob-code blob-code-inner js-file-line">      lat_bnd[<span class="pl-c1">2</span>*idx+<span class="pl-c1">1</span>]=lat_ntf[idx+<span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="L5095" class="blob-num js-line-number" data-line-number="5095"></td>
        <td id="LC5095" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* end loop over latitude */</span></td>
      </tr>
      <tr>
        <td id="L5096" class="blob-num js-line-number" data-line-number="5096"></td>
        <td id="LC5096" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5097" class="blob-num js-line-number" data-line-number="5097"></td>
        <td id="LC5097" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5098" class="blob-num js-line-number" data-line-number="5098"></td>
        <td id="LC5098" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5099" class="blob-num js-line-number" data-line-number="5099"></td>
        <td id="LC5099" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Diagnose type of two-dimensional input grid by testing second latitude center against formulae */</span></td>
      </tr>
      <tr>
        <td id="L5100" class="blob-num js-line-number" data-line-number="5100"></td>
        <td id="LC5100" class="blob-code blob-code-inner js-file-line">    nco_grd_xtn_enm nco_grd_xtn=nco_grd_xtn_glb; <span class="pl-c">/* [enm] Extent of grid */</span></td>
      </tr>
      <tr>
        <td id="L5101" class="blob-num js-line-number" data-line-number="5101"></td>
        <td id="LC5101" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">double</span> lat_ctr_tst_eqa=lat_ntf[<span class="pl-c1">0</span>]+lat_spn*<span class="pl-c1">1.5</span>/lat_nbr;</td>
      </tr>
      <tr>
        <td id="L5102" class="blob-num js-line-number" data-line-number="5102"></td>
        <td id="LC5102" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">double</span> lat_ctr_tst_fv=lat_ntf[<span class="pl-c1">0</span>]+lat_spn/(lat_nbr-<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="L5103" class="blob-num js-line-number" data-line-number="5103"></td>
        <td id="LC5103" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_ctr_tst_gss;</td>
      </tr>
      <tr>
        <td id="L5104" class="blob-num js-line-number" data-line-number="5104"></td>
        <td id="LC5104" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* In diagnosing grids, agreement with input to single-precision is &quot;good enough for government work&quot;</span></td>
      </tr>
      <tr>
        <td id="L5105" class="blob-num js-line-number" data-line-number="5105"></td>
        <td id="LC5105" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       Hence some comparisons cast from double to float before comparison</span></td>
      </tr>
      <tr>
        <td id="L5106" class="blob-num js-line-number" data-line-number="5106"></td>
        <td id="LC5106" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       20150526: T42 grid from SCRIP and related maps are only accurate to ~eight digits</span></td>
      </tr>
      <tr>
        <td id="L5107" class="blob-num js-line-number" data-line-number="5107"></td>
        <td id="LC5107" class="blob-code blob-code-inner js-file-line"><span class="pl-c">       20150611: map_ne120np4_to_fv801x1600_bilin.150418.nc has yc_b[1600]=-89.775000006 not expected exact value lat_ctr[1]=-89.775000000000006 */</span></td>
      </tr>
      <tr>
        <td id="L5108" class="blob-num js-line-number" data-line-number="5108"></td>
        <td id="LC5108" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_eqa) lat_typ=nco_grd_lat_eqa;</td>
      </tr>
      <tr>
        <td id="L5109" class="blob-num js-line-number" data-line-number="5109"></td>
        <td id="LC5109" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_fv) lat_typ=nco_grd_lat_fv;</td>
      </tr>
      <tr>
        <td id="L5110" class="blob-num js-line-number" data-line-number="5110"></td>
        <td id="LC5110" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> *lat_sin=NULL_CEWI; <span class="pl-c">// [frc] Sine of Gaussian latitudes double precision</span></td>
      </tr>
      <tr>
        <td id="L5111" class="blob-num js-line-number" data-line-number="5111"></td>
        <td id="LC5111" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> *wgt_Gss=<span class="pl-c1">NULL</span>; <span class="pl-c">// [frc] Gaussian weights double precision</span></td>
      </tr>
      <tr>
        <td id="L5112" class="blob-num js-line-number" data-line-number="5112"></td>
        <td id="LC5112" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_typ == nco_grd_lat_nil){</td>
      </tr>
      <tr>
        <td id="L5113" class="blob-num js-line-number" data-line-number="5113"></td>
        <td id="LC5113" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Check for Gaussian grid */</span></td>
      </tr>
      <tr>
        <td id="L5114" class="blob-num js-line-number" data-line-number="5114"></td>
        <td id="LC5114" class="blob-code blob-code-inner js-file-line">      lat_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L5115" class="blob-num js-line-number" data-line-number="5115"></td>
        <td id="LC5115" class="blob-code blob-code-inner js-file-line">      wgt_Gss=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_malloc</span>(lat_nbr*<span class="pl-k">sizeof</span>(<span class="pl-k">double</span>));</td>
      </tr>
      <tr>
        <td id="L5116" class="blob-num js-line-number" data-line-number="5116"></td>
        <td id="LC5116" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">nco_lat_wgt_gss</span>(lat_nbr,lat_sin,wgt_Gss);</td>
      </tr>
      <tr>
        <td id="L5117" class="blob-num js-line-number" data-line-number="5117"></td>
        <td id="LC5117" class="blob-code blob-code-inner js-file-line">      lat_ctr_tst_gss=rdn2dgr*<span class="pl-c1">asin</span>(lat_sin[<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L5118" class="blob-num js-line-number" data-line-number="5118"></td>
        <td id="LC5118" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Gaussian weights on output grid will be double-precision accurate</span></td>
      </tr>
      <tr>
        <td id="L5119" class="blob-num js-line-number" data-line-number="5119"></td>
        <td id="LC5119" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Grid itself is kept as user-specified so area diagnosed by ESMF_RegridWeightGen may be slightly inconsistent with weights */</span></td>
      </tr>
      <tr>
        <td id="L5120" class="blob-num js-line-number" data-line-number="5120"></td>
        <td id="LC5120" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports lat_ctr[1] = <span class="pl-c1">%g</span>, lat_ctr_tst_gss = <span class="pl-c1">%g</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,lat_ctr[<span class="pl-c1">1</span>],lat_ctr_tst_gss);</td>
      </tr>
      <tr>
        <td id="L5121" class="blob-num js-line-number" data-line-number="5121"></td>
        <td id="LC5121" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>((<span class="pl-k">float</span>)lat_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)lat_ctr_tst_gss) lat_typ=nco_grd_lat_gss;</td>
      </tr>
      <tr>
        <td id="L5122" class="blob-num js-line-number" data-line-number="5122"></td>
        <td id="LC5122" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !Gaussian */</span></td>
      </tr>
      <tr>
        <td id="L5123" class="blob-num js-line-number" data-line-number="5123"></td>
        <td id="LC5123" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_typ == nco_grd_lat_nil){</td>
      </tr>
      <tr>
        <td id="L5124" class="blob-num js-line-number" data-line-number="5124"></td>
        <td id="LC5124" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* If still of unknown type, this 2D grid may be weird</span></td>
      </tr>
      <tr>
        <td id="L5125" class="blob-num js-line-number" data-line-number="5125"></td>
        <td id="LC5125" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 This occurs, e.g., with POP3 destination grid</span></td>
      </tr>
      <tr>
        <td id="L5126" class="blob-num js-line-number" data-line-number="5126"></td>
        <td id="LC5126" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 Change gridtype from nil (which means not-yet-set) to unknown (which means none of the others matched) */</span></td>
      </tr>
      <tr>
        <td id="L5127" class="blob-num js-line-number" data-line-number="5127"></td>
        <td id="LC5127" class="blob-code blob-code-inner js-file-line">      lat_typ=nco_grd_lat_unk;</td>
      </tr>
      <tr>
        <td id="L5128" class="blob-num js-line-number" data-line-number="5128"></td>
        <td id="LC5128" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !nil */</span></td>
      </tr>
      <tr>
        <td id="L5129" class="blob-num js-line-number" data-line-number="5129"></td>
        <td id="LC5129" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5130" class="blob-num js-line-number" data-line-number="5130"></td>
        <td id="LC5130" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Currently grd_lat_typ and grd_2D_typ are equivalent, though that may be relaxed in future */</span></td>
      </tr>
      <tr>
        <td id="L5131" class="blob-num js-line-number" data-line-number="5131"></td>
        <td id="LC5131" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lat_typ == nco_grd_lat_unk) grd_typ=nco_grd_2D_unk;</td>
      </tr>
      <tr>
        <td id="L5132" class="blob-num js-line-number" data-line-number="5132"></td>
        <td id="LC5132" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(lat_typ == nco_grd_lat_gss) grd_typ=nco_grd_2D_gss;</td>
      </tr>
      <tr>
        <td id="L5133" class="blob-num js-line-number" data-line-number="5133"></td>
        <td id="LC5133" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(lat_typ == nco_grd_lat_fv) grd_typ=nco_grd_2D_fv;</td>
      </tr>
      <tr>
        <td id="L5134" class="blob-num js-line-number" data-line-number="5134"></td>
        <td id="LC5134" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-k">if</span>(lat_typ == nco_grd_lat_eqa) grd_typ=nco_grd_2D_eqa;</td>
      </tr>
      <tr>
        <td id="L5135" class="blob-num js-line-number" data-line-number="5135"></td>
        <td id="LC5135" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">else</span> <span class="pl-c1">assert</span>(False);</td>
      </tr>
      <tr>
        <td id="L5136" class="blob-num js-line-number" data-line-number="5136"></td>
        <td id="LC5136" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5137" class="blob-num js-line-number" data-line-number="5137"></td>
        <td id="LC5137" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Diagnose latitude interfaces as necessary */</span></td>
      </tr>
      <tr>
        <td id="L5138" class="blob-num js-line-number" data-line-number="5138"></td>
        <td id="LC5138" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">//    lat_sth=lat_ntf[0];</span></td>
      </tr>
      <tr>
        <td id="L5139" class="blob-num js-line-number" data-line-number="5139"></td>
        <td id="LC5139" class="blob-code blob-code-inner js-file-line">    lat_nrt=lat_ntf[lat_nbr];</td>
      </tr>
      <tr>
        <td id="L5140" class="blob-num js-line-number" data-line-number="5140"></td>
        <td id="LC5140" class="blob-code blob-code-inner js-file-line">    lat_spn=lat_ntf[lat_nbr]-lat_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5141" class="blob-num js-line-number" data-line-number="5141"></td>
        <td id="LC5141" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(lat_typ){</td>
      </tr>
      <tr>
        <td id="L5142" class="blob-num js-line-number" data-line-number="5142"></td>
        <td id="LC5142" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_fv:</td>
      </tr>
      <tr>
        <td id="L5143" class="blob-num js-line-number" data-line-number="5143"></td>
        <td id="LC5143" class="blob-code blob-code-inner js-file-line">      lat_ncr=lat_spn/(lat_nbr-<span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="L5144" class="blob-num js-line-number" data-line-number="5144"></td>
        <td id="LC5144" class="blob-code blob-code-inner js-file-line">      lat_ntf[<span class="pl-c1">1</span>]=lat_ntf[<span class="pl-c1">0</span>]+<span class="pl-c1">0.5</span>*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L5145" class="blob-num js-line-number" data-line-number="5145"></td>
        <td id="LC5145" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">2</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5146" class="blob-num js-line-number" data-line-number="5146"></td>
        <td id="LC5146" class="blob-code blob-code-inner js-file-line">	lat_ntf[lat_idx]=lat_ntf[<span class="pl-c1">1</span>]+(lat_idx-<span class="pl-c1">1</span>)*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L5147" class="blob-num js-line-number" data-line-number="5147"></td>
        <td id="LC5147" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5148" class="blob-num js-line-number" data-line-number="5148"></td>
        <td id="LC5148" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_eqa:</td>
      </tr>
      <tr>
        <td id="L5149" class="blob-num js-line-number" data-line-number="5149"></td>
        <td id="LC5149" class="blob-code blob-code-inner js-file-line">      lat_ncr=lat_spn/lat_nbr;</td>
      </tr>
      <tr>
        <td id="L5150" class="blob-num js-line-number" data-line-number="5150"></td>
        <td id="LC5150" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5151" class="blob-num js-line-number" data-line-number="5151"></td>
        <td id="LC5151" class="blob-code blob-code-inner js-file-line">	lat_ntf[lat_idx]=lat_ntf[<span class="pl-c1">0</span>]+lat_idx*lat_ncr;</td>
      </tr>
      <tr>
        <td id="L5152" class="blob-num js-line-number" data-line-number="5152"></td>
        <td id="LC5152" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5153" class="blob-num js-line-number" data-line-number="5153"></td>
        <td id="LC5153" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_gss:</td>
      </tr>
      <tr>
        <td id="L5154" class="blob-num js-line-number" data-line-number="5154"></td>
        <td id="LC5154" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5155" class="blob-num js-line-number" data-line-number="5155"></td>
        <td id="LC5155" class="blob-code blob-code-inner js-file-line">	lat_ctr[lat_idx]=rdn2dgr*<span class="pl-c1">asin</span>(lat_sin[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L5156" class="blob-num js-line-number" data-line-number="5156"></td>
        <td id="LC5156" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* First guess for lat_ntf is midway between Gaussian abscissae */</span></td>
      </tr>
      <tr>
        <td id="L5157" class="blob-num js-line-number" data-line-number="5157"></td>
        <td id="LC5157" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5158" class="blob-num js-line-number" data-line-number="5158"></td>
        <td id="LC5158" class="blob-code blob-code-inner js-file-line">	lat_ntf[lat_idx]=<span class="pl-c1">0.5</span>*(lat_ctr[lat_idx-<span class="pl-c1">1</span>]+lat_ctr[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L5159" class="blob-num js-line-number" data-line-number="5159"></td>
        <td id="LC5159" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Iterate guess until area between interfaces matches Gaussian weight */</span></td>
      </tr>
      <tr>
        <td id="L5160" class="blob-num js-line-number" data-line-number="5160"></td>
        <td id="LC5160" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">1</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L5161" class="blob-num js-line-number" data-line-number="5161"></td>
        <td id="LC5161" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">double</span> fofx_at_x0; <span class="pl-c">/* [frc] Function to iterate evaluated at current guess */</span></td>
      </tr>
      <tr>
        <td id="L5162" class="blob-num js-line-number" data-line-number="5162"></td>
        <td id="LC5162" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">double</span> dfdx_at_x0; <span class="pl-c">/* [frc] Derivation of equation evaluated at current guess */</span></td>
      </tr>
      <tr>
        <td id="L5163" class="blob-num js-line-number" data-line-number="5163"></td>
        <td id="LC5163" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt_cnv=<span class="pl-c1">1.0e-15</span>; <span class="pl-c">// Convergence criterion (1.0e-16 pushes double precision to the brink)</span></td>
      </tr>
      <tr>
        <td id="L5164" class="blob-num js-line-number" data-line-number="5164"></td>
        <td id="LC5164" class="blob-code blob-code-inner js-file-line">	itr_cnt=<span class="pl-c1">0</span>;</td>
      </tr>
      <tr>
        <td id="L5165" class="blob-num js-line-number" data-line-number="5165"></td>
        <td id="LC5165" class="blob-code blob-code-inner js-file-line">	lat_wgt_gss=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L5166" class="blob-num js-line-number" data-line-number="5166"></td>
        <td id="LC5166" class="blob-code blob-code-inner js-file-line">	fofx_at_x0=wgt_Gss[lat_idx-<span class="pl-c1">1</span>]-lat_wgt_gss;</td>
      </tr>
      <tr>
        <td id="L5167" class="blob-num js-line-number" data-line-number="5167"></td>
        <td id="LC5167" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">while</span>(<span class="pl-c1">fabs</span>(fofx_at_x0) &gt; eps_rlt_cnv){</td>
      </tr>
      <tr>
        <td id="L5168" class="blob-num js-line-number" data-line-number="5168"></td>
        <td id="LC5168" class="blob-code blob-code-inner js-file-line">	  <span class="pl-c">/* Newton-Raphson iteration:</span></td>
      </tr>
      <tr>
        <td id="L5169" class="blob-num js-line-number" data-line-number="5169"></td>
        <td id="LC5169" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     Let x=lat_ntf[lat_idx], y0=lat_ntf[lat_idx-1], gw = Gaussian weight (exact solution)</span></td>
      </tr>
      <tr>
        <td id="L5170" class="blob-num js-line-number" data-line-number="5170"></td>
        <td id="LC5170" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     f(x)=sin(dgr2rdn*x)-sin(dgr2rdn*y0)-gw=0 </span></td>
      </tr>
      <tr>
        <td id="L5171" class="blob-num js-line-number" data-line-number="5171"></td>
        <td id="LC5171" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     dfdx(x)=dgr2rdn*(dgr2rdn*x)</span></td>
      </tr>
      <tr>
        <td id="L5172" class="blob-num js-line-number" data-line-number="5172"></td>
        <td id="LC5172" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	     x_better=x0-f(x0)/f&#39;(x0) */</span></td>
      </tr>
      <tr>
        <td id="L5173" class="blob-num js-line-number" data-line-number="5173"></td>
        <td id="LC5173" class="blob-code blob-code-inner js-file-line">	  dfdx_at_x0=dgr2rdn*<span class="pl-c1">cos</span>(dgr2rdn*lat_ntf[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L5174" class="blob-num js-line-number" data-line-number="5174"></td>
        <td id="LC5174" class="blob-code blob-code-inner js-file-line">	  lat_ntf[lat_idx]+=fofx_at_x0/dfdx_at_x0; <span class="pl-c">/* NB: not sure why this is minus not plus but it works :) */</span></td>
      </tr>
      <tr>
        <td id="L5175" class="blob-num js-line-number" data-line-number="5175"></td>
        <td id="LC5175" class="blob-code blob-code-inner js-file-line">	  lat_wgt_gss=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx-<span class="pl-c1">1</span>]);</td>
      </tr>
      <tr>
        <td id="L5176" class="blob-num js-line-number" data-line-number="5176"></td>
        <td id="LC5176" class="blob-code blob-code-inner js-file-line">	  fofx_at_x0=wgt_Gss[lat_idx-<span class="pl-c1">1</span>]-lat_wgt_gss;</td>
      </tr>
      <tr>
        <td id="L5177" class="blob-num js-line-number" data-line-number="5177"></td>
        <td id="LC5177" class="blob-code blob-code-inner js-file-line">	  <span class="pl-k">if</span>(++itr_cnt &gt; itr_nbr_max){</td>
      </tr>
      <tr>
        <td id="L5178" class="blob-num js-line-number" data-line-number="5178"></td>
        <td id="LC5178" class="blob-code blob-code-inner js-file-line">	    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports no convergence in <span class="pl-c1">%d</span> iterations for lat_idx = <span class="pl-c1">%ld</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,itr_nbr_max,lat_idx);</td>
      </tr>
      <tr>
        <td id="L5179" class="blob-num js-line-number" data-line-number="5179"></td>
        <td id="LC5179" class="blob-code blob-code-inner js-file-line">	    <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L5180" class="blob-num js-line-number" data-line-number="5180"></td>
        <td id="LC5180" class="blob-code blob-code-inner js-file-line">	  } <span class="pl-c">/* endif */</span></td>
      </tr>
      <tr>
        <td id="L5181" class="blob-num js-line-number" data-line-number="5181"></td>
        <td id="LC5181" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !while */</span></td>
      </tr>
      <tr>
        <td id="L5182" class="blob-num js-line-number" data-line-number="5182"></td>
        <td id="LC5182" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L5183" class="blob-num js-line-number" data-line-number="5183"></td>
        <td id="LC5183" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(lat_sin) lat_sin=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_sin);</td>
      </tr>
      <tr>
        <td id="L5184" class="blob-num js-line-number" data-line-number="5184"></td>
        <td id="LC5184" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5185" class="blob-num js-line-number" data-line-number="5185"></td>
        <td id="LC5185" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_unk:</td>
      </tr>
      <tr>
        <td id="L5186" class="blob-num js-line-number" data-line-number="5186"></td>
        <td id="LC5186" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* No generic formula exists so use interfaces already read or diagnosed as midpoints between centers */</span></td>
      </tr>
      <tr>
        <td id="L5187" class="blob-num js-line-number" data-line-number="5187"></td>
        <td id="LC5187" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5188" class="blob-num js-line-number" data-line-number="5188"></td>
        <td id="LC5188" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L5189" class="blob-num js-line-number" data-line-number="5189"></td>
        <td id="LC5189" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5190" class="blob-num js-line-number" data-line-number="5190"></td>
        <td id="LC5190" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_typ */</span></td>
      </tr>
      <tr>
        <td id="L5191" class="blob-num js-line-number" data-line-number="5191"></td>
        <td id="LC5191" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Ensure rounding errors do not produce unphysical grid */</span></td>
      </tr>
      <tr>
        <td id="L5192" class="blob-num js-line-number" data-line-number="5192"></td>
        <td id="LC5192" class="blob-code blob-code-inner js-file-line">    lat_ntf[lat_nbr]=lat_nrt;</td>
      </tr>
      <tr>
        <td id="L5193" class="blob-num js-line-number" data-line-number="5193"></td>
        <td id="LC5193" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5194" class="blob-num js-line-number" data-line-number="5194"></td>
        <td id="LC5194" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Use centers and boundaries to diagnose latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L5195" class="blob-num js-line-number" data-line-number="5195"></td>
        <td id="LC5195" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(lat_typ){</td>
      </tr>
      <tr>
        <td id="L5196" class="blob-num js-line-number" data-line-number="5196"></td>
        <td id="LC5196" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_eqa:</td>
      </tr>
      <tr>
        <td id="L5197" class="blob-num js-line-number" data-line-number="5197"></td>
        <td id="LC5197" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_fv:</td>
      </tr>
      <tr>
        <td id="L5198" class="blob-num js-line-number" data-line-number="5198"></td>
        <td id="LC5198" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++) lat_wgt[lat_idx]=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L5199" class="blob-num js-line-number" data-line-number="5199"></td>
        <td id="LC5199" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5200" class="blob-num js-line-number" data-line-number="5200"></td>
        <td id="LC5200" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_gss:</td>
      </tr>
      <tr>
        <td id="L5201" class="blob-num js-line-number" data-line-number="5201"></td>
        <td id="LC5201" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++) lat_wgt[lat_idx]=wgt_Gss[lat_idx];</td>
      </tr>
      <tr>
        <td id="L5202" class="blob-num js-line-number" data-line-number="5202"></td>
        <td id="LC5202" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5203" class="blob-num js-line-number" data-line-number="5203"></td>
        <td id="LC5203" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> nco_grd_lat_unk:</td>
      </tr>
      <tr>
        <td id="L5204" class="blob-num js-line-number" data-line-number="5204"></td>
        <td id="LC5204" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++) lat_wgt[lat_idx]=<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_ntf[lat_idx]);</td>
      </tr>
      <tr>
        <td id="L5205" class="blob-num js-line-number" data-line-number="5205"></td>
        <td id="LC5205" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: WARNING <span class="pl-c1">%s</span> reports unknown input latitude grid-type. Guessing that weights for grid of rectangles is OK.<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L5206" class="blob-num js-line-number" data-line-number="5206"></td>
        <td id="LC5206" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5207" class="blob-num js-line-number" data-line-number="5207"></td>
        <td id="LC5207" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L5208" class="blob-num js-line-number" data-line-number="5208"></td>
        <td id="LC5208" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>(); <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5209" class="blob-num js-line-number" data-line-number="5209"></td>
        <td id="LC5209" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_typ */</span></td>
      </tr>
      <tr>
        <td id="L5210" class="blob-num js-line-number" data-line-number="5210"></td>
        <td id="LC5210" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5211" class="blob-num js-line-number" data-line-number="5211"></td>
        <td id="LC5211" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Diagnose type of longitude grid by testing second longitude center against formulae */</span></td>
      </tr>
      <tr>
        <td id="L5212" class="blob-num js-line-number" data-line-number="5212"></td>
        <td id="LC5212" class="blob-code blob-code-inner js-file-line">    lon_spn=lon_ntf[lon_nbr]-lon_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5213" class="blob-num js-line-number" data-line-number="5213"></td>
        <td id="LC5213" class="blob-code blob-code-inner js-file-line">    lat_spn=lat_ntf[lat_nbr]-lat_ntf[<span class="pl-c1">0</span>];</td>
      </tr>
      <tr>
        <td id="L5214" class="blob-num js-line-number" data-line-number="5214"></td>
        <td id="LC5214" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_spn != <span class="pl-c1">360.0</span> || lat_spn != <span class="pl-c1">180.0</span>) nco_grd_xtn=nco_grd_xtn_rgn;</td>
      </tr>
      <tr>
        <td id="L5215" class="blob-num js-line-number" data-line-number="5215"></td>
        <td id="LC5215" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(lon_typ == nco_grd_lon_nil){</td>
      </tr>
      <tr>
        <td id="L5216" class="blob-num js-line-number" data-line-number="5216"></td>
        <td id="LC5216" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span>(     (<span class="pl-k">float</span>)lon_ctr[<span class="pl-c1">0</span>] ==   <span class="pl-c1">0.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr[<span class="pl-c1">0</span>]+lon_spn/lon_nbr)) lon_typ=nco_grd_lon_Grn_ctr;</td>
      </tr>
      <tr>
        <td id="L5217" class="blob-num js-line-number" data-line-number="5217"></td>
        <td id="LC5217" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ctr[<span class="pl-c1">0</span>] == <span class="pl-c1">180.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr[<span class="pl-c1">0</span>]+lon_spn/lon_nbr)) lon_typ=nco_grd_lon_180_ctr;</td>
      </tr>
      <tr>
        <td id="L5218" class="blob-num js-line-number" data-line-number="5218"></td>
        <td id="LC5218" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ntf[<span class="pl-c1">0</span>] ==   <span class="pl-c1">0.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ntf[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ntf[<span class="pl-c1">0</span>]+lon_spn/lon_nbr)) lon_typ=nco_grd_lon_Grn_wst;</td>
      </tr>
      <tr>
        <td id="L5219" class="blob-num js-line-number" data-line-number="5219"></td>
        <td id="LC5219" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ntf[<span class="pl-c1">0</span>] == <span class="pl-c1">180.0</span> &amp;&amp; (<span class="pl-k">float</span>)lon_ntf[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ntf[<span class="pl-c1">0</span>]+lon_spn/lon_nbr)) lon_typ=nco_grd_lon_180_wst;</td>
      </tr>
      <tr>
        <td id="L5220" class="blob-num js-line-number" data-line-number="5220"></td>
        <td id="LC5220" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">float</span>)lon_ctr[<span class="pl-c1">1</span>] == (<span class="pl-k">float</span>)(lon_ctr[<span class="pl-c1">0</span>]+lon_spn/lon_nbr)) lon_typ=nco_grd_lon_bb;</td>
      </tr>
      <tr>
        <td id="L5221" class="blob-num js-line-number" data-line-number="5221"></td>
        <td id="LC5221" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> lon_typ=nco_grd_lon_unk;</td>
      </tr>
      <tr>
        <td id="L5222" class="blob-num js-line-number" data-line-number="5222"></td>
        <td id="LC5222" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_typ */</span></td>
      </tr>
      <tr>
        <td id="L5223" class="blob-num js-line-number" data-line-number="5223"></td>
        <td id="LC5223" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5224" class="blob-num js-line-number" data-line-number="5224"></td>
        <td id="LC5224" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed input 2D grid-type: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_2D_sng</span>(grd_typ));</td>
      </tr>
      <tr>
        <td id="L5225" class="blob-num js-line-number" data-line-number="5225"></td>
        <td id="LC5225" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed input latitude grid-type: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_lat_sng</span>(lat_typ));</td>
      </tr>
      <tr>
        <td id="L5226" class="blob-num js-line-number" data-line-number="5226"></td>
        <td id="LC5226" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed input longitude grid-type: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_lon_sng</span>(lon_typ));</td>
      </tr>
      <tr>
        <td id="L5227" class="blob-num js-line-number" data-line-number="5227"></td>
        <td id="LC5227" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_std) (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> diagnosed input grid-extent: <span class="pl-c1">%s</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,<span class="pl-c1">nco_grd_xtn_sng</span>(nco_grd_xtn));</td>
      </tr>
      <tr>
        <td id="L5228" class="blob-num js-line-number" data-line-number="5228"></td>
        <td id="LC5228" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5229" class="blob-num js-line-number" data-line-number="5229"></td>
        <td id="LC5229" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5230" class="blob-num js-line-number" data-line-number="5230"></td>
        <td id="LC5230" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5231" class="blob-num js-line-number" data-line-number="5231"></td>
        <td id="LC5231" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5232" class="blob-num js-line-number" data-line-number="5232"></td>
        <td id="LC5232" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_crr){</td>
      </tr>
      <tr>
        <td id="L5233" class="blob-num js-line-number" data-line-number="5233"></td>
        <td id="LC5233" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5234" class="blob-num js-line-number" data-line-number="5234"></td>
        <td id="LC5234" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, vertices = <span class="pl-pds">&quot;</span></span>,idx,lat_ctr[idx]);</td>
      </tr>
      <tr>
        <td id="L5235" class="blob-num js-line-number" data-line-number="5235"></td>
        <td id="LC5235" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(bnd_idx=<span class="pl-c1">0</span>;bnd_idx&lt;bnd_nbr;bnd_idx++)</td>
      </tr>
      <tr>
        <td id="L5236" class="blob-num js-line-number" data-line-number="5236"></td>
        <td id="LC5236" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%g%s</span><span class="pl-pds">&quot;</span></span>,bnd_idx == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>[<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,lat_bnd[bnd_nbr*idx+bnd_idx],bnd_idx == bnd_nbr-<span class="pl-c1">1</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5237" class="blob-num js-line-number" data-line-number="5237"></td>
        <td id="LC5237" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end loop over lat */</span></td>
      </tr>
      <tr>
        <td id="L5238" class="blob-num js-line-number" data-line-number="5238"></td>
        <td id="LC5238" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lon_nbr;idx++){</td>
      </tr>
      <tr>
        <td id="L5239" class="blob-num js-line-number" data-line-number="5239"></td>
        <td id="LC5239" class="blob-code blob-code-inner js-file-line">	(<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lon[<span class="pl-c1">%li</span>] = <span class="pl-c1">%g</span>, vertices = <span class="pl-pds">&quot;</span></span>,idx,lon_ctr[idx]);</td>
      </tr>
      <tr>
        <td id="L5240" class="blob-num js-line-number" data-line-number="5240"></td>
        <td id="LC5240" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(bnd_idx=<span class="pl-c1">0</span>;bnd_idx&lt;bnd_nbr;bnd_idx++)</td>
      </tr>
      <tr>
        <td id="L5241" class="blob-num js-line-number" data-line-number="5241"></td>
        <td id="LC5241" class="blob-code blob-code-inner js-file-line">	  (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s%g%s</span><span class="pl-pds">&quot;</span></span>,bnd_idx == <span class="pl-c1">0</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>[<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,lon_bnd[bnd_nbr*idx+bnd_idx],bnd_idx == bnd_nbr-<span class="pl-c1">1</span> ? <span class="pl-s"><span class="pl-pds">&quot;</span>]<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5242" class="blob-num js-line-number" data-line-number="5242"></td>
        <td id="LC5242" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* end loop over lon */</span></td>
      </tr>
      <tr>
        <td id="L5243" class="blob-num js-line-number" data-line-number="5243"></td>
        <td id="LC5243" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L5244" class="blob-num js-line-number" data-line-number="5244"></td>
        <td id="LC5244" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5245" class="blob-num js-line-number" data-line-number="5245"></td>
        <td id="LC5245" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Fuzzy test of latitude weight normalization */</span></td>
      </tr>
      <tr>
        <td id="L5246" class="blob-num js-line-number" data-line-number="5246"></td>
        <td id="LC5246" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">double</span> eps_rlt_max=<span class="pl-c1">1.0e-14</span>; <span class="pl-c">/* [frc] Round-off error tolerance */</span></td>
      </tr>
      <tr>
        <td id="L5247" class="blob-num js-line-number" data-line-number="5247"></td>
        <td id="LC5247" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">double</span> lat_wgt_ttl_xpc; <span class="pl-c">/* [frc] Expected sum of latitude weights */</span></td>
      </tr>
      <tr>
        <td id="L5248" class="blob-num js-line-number" data-line-number="5248"></td>
        <td id="LC5248" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L5249" class="blob-num js-line-number" data-line-number="5249"></td>
        <td id="LC5249" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;lat_nbr;idx++) lat_wgt_ttl+=lat_wgt[idx];</td>
      </tr>
      <tr>
        <td id="L5250" class="blob-num js-line-number" data-line-number="5250"></td>
        <td id="LC5250" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl_xpc=<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*(lat_nbr-<span class="pl-c1">1</span>)+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">0</span>]);</td>
      </tr>
      <tr>
        <td id="L5251" class="blob-num js-line-number" data-line-number="5251"></td>
        <td id="LC5251" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(grd_typ != nco_grd_2D_unk &amp;&amp; <span class="pl-c1">1.0</span>-lat_wgt_ttl/lat_wgt_ttl_xpc &gt; eps_rlt_max){</td>
      </tr>
      <tr>
        <td id="L5252" class="blob-num js-line-number" data-line-number="5252"></td>
        <td id="LC5252" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> reports grid normalization does not meet precision tolerance eps_rlt_max = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span>lat_wgt_ttl = <span class="pl-c1">%20.15f</span>, lat_wgt_ttl_xpc = <span class="pl-c1">%20.15f</span>, lat_wgt_frc = <span class="pl-c1">%20.15f</span>, eps_rlt = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm,eps_rlt_max,lat_wgt_ttl,lat_wgt_ttl_xpc,lat_wgt_ttl/lat_wgt_ttl_xpc,<span class="pl-c1">1.0</span>-lat_wgt_ttl/lat_wgt_ttl_xpc);</td>
      </tr>
      <tr>
        <td id="L5253" class="blob-num js-line-number" data-line-number="5253"></td>
        <td id="LC5253" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_exit</span>(EXIT_FAILURE);</td>
      </tr>
      <tr>
        <td id="L5254" class="blob-num js-line-number" data-line-number="5254"></td>
        <td id="LC5254" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !imprecise */</span></td>
      </tr>
      <tr>
        <td id="L5255" class="blob-num js-line-number" data-line-number="5255"></td>
        <td id="LC5255" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5256" class="blob-num js-line-number" data-line-number="5256"></td>
        <td id="LC5256" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5257" class="blob-num js-line-number" data-line-number="5257"></td>
        <td id="LC5257" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5258" class="blob-num js-line-number" data-line-number="5258"></td>
        <td id="LC5258" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(grd_crn_nbr == <span class="pl-c1">4</span>);</td>
      </tr>
      <tr>
        <td id="L5259" class="blob-num js-line-number" data-line-number="5259"></td>
        <td id="LC5259" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L5260" class="blob-num js-line-number" data-line-number="5260"></td>
        <td id="LC5260" class="blob-code blob-code-inner js-file-line">      idx=grd_crn_nbr*lon_idx;</td>
      </tr>
      <tr>
        <td id="L5261" class="blob-num js-line-number" data-line-number="5261"></td>
        <td id="LC5261" class="blob-code blob-code-inner js-file-line">      lon_crn[idx]=lon_ntf[lon_idx]; <span class="pl-c">/* LL */</span></td>
      </tr>
      <tr>
        <td id="L5262" class="blob-num js-line-number" data-line-number="5262"></td>
        <td id="LC5262" class="blob-code blob-code-inner js-file-line">      lon_crn[idx+<span class="pl-c1">1</span>]=lon_ntf[lon_idx+<span class="pl-c1">1</span>]; <span class="pl-c">/* LR */</span></td>
      </tr>
      <tr>
        <td id="L5263" class="blob-num js-line-number" data-line-number="5263"></td>
        <td id="LC5263" class="blob-code blob-code-inner js-file-line">      lon_crn[idx+<span class="pl-c1">2</span>]=lon_ntf[lon_idx+<span class="pl-c1">1</span>]; <span class="pl-c">/* UR */</span></td>
      </tr>
      <tr>
        <td id="L5264" class="blob-num js-line-number" data-line-number="5264"></td>
        <td id="LC5264" class="blob-code blob-code-inner js-file-line">      lon_crn[idx+<span class="pl-c1">3</span>]=lon_ntf[lon_idx]; <span class="pl-c">/* UL */</span></td>
      </tr>
      <tr>
        <td id="L5265" class="blob-num js-line-number" data-line-number="5265"></td>
        <td id="LC5265" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lon_idx */</span></td>
      </tr>
      <tr>
        <td id="L5266" class="blob-num js-line-number" data-line-number="5266"></td>
        <td id="LC5266" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="L5267" class="blob-num js-line-number" data-line-number="5267"></td>
        <td id="LC5267" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L5268" class="blob-num js-line-number" data-line-number="5268"></td>
        <td id="LC5268" class="blob-code blob-code-inner js-file-line">      idx=grd_crn_nbr*lat_idx;</td>
      </tr>
      <tr>
        <td id="L5269" class="blob-num js-line-number" data-line-number="5269"></td>
        <td id="LC5269" class="blob-code blob-code-inner js-file-line">      lat_crn[idx]=lat_ntf[lat_idx]; <span class="pl-c">/* LL */</span></td>
      </tr>
      <tr>
        <td id="L5270" class="blob-num js-line-number" data-line-number="5270"></td>
        <td id="LC5270" class="blob-code blob-code-inner js-file-line">      lat_crn[idx+<span class="pl-c1">1</span>]=lat_ntf[lat_idx]; <span class="pl-c">/* LR */</span></td>
      </tr>
      <tr>
        <td id="L5271" class="blob-num js-line-number" data-line-number="5271"></td>
        <td id="LC5271" class="blob-code blob-code-inner js-file-line">      lat_crn[idx+<span class="pl-c1">2</span>]=lat_ntf[lat_idx+<span class="pl-c1">1</span>]; <span class="pl-c">/* UR */</span></td>
      </tr>
      <tr>
        <td id="L5272" class="blob-num js-line-number" data-line-number="5272"></td>
        <td id="LC5272" class="blob-code blob-code-inner js-file-line">      lat_crn[idx+<span class="pl-c1">3</span>]=lat_ntf[lat_idx+<span class="pl-c1">1</span>]; <span class="pl-c">/* UL */</span></td>
      </tr>
      <tr>
        <td id="L5273" class="blob-num js-line-number" data-line-number="5273"></td>
        <td id="LC5273" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat_idx */</span></td>
      </tr>
      <tr>
        <td id="L5274" class="blob-num js-line-number" data-line-number="5274"></td>
        <td id="LC5274" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5275" class="blob-num js-line-number" data-line-number="5275"></td>
        <td id="LC5275" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5276" class="blob-num js-line-number" data-line-number="5276"></td>
        <td id="LC5276" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Diagnose area if necessary */</span></td>
      </tr>
      <tr>
        <td id="L5277" class="blob-num js-line-number" data-line-number="5277"></td>
        <td id="LC5277" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(area_id == NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L5278" class="blob-num js-line-number" data-line-number="5278"></td>
        <td id="LC5278" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Not absolutely necessary to diagnose area because ERWG will diagnose and output area itself */</span></td>
      </tr>
      <tr>
        <td id="L5279" class="blob-num js-line-number" data-line-number="5279"></td>
        <td id="LC5279" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_crv){</td>
      </tr>
      <tr>
        <td id="L5280" class="blob-num js-line-number" data-line-number="5280"></td>
        <td id="LC5280" class="blob-code blob-code-inner js-file-line">      <span class="pl-c">/* Area of arbitrary curvilinear grids requires spherical trigonometry */</span></td>
      </tr>
      <tr>
        <td id="L5281" class="blob-num js-line-number" data-line-number="5281"></td>
        <td id="LC5281" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_sph_plg_area</span>(grd_crn_lat,grd_crn_lon,grd_sz_nbr,grd_crn_nbr,area);</td>
      </tr>
      <tr>
        <td id="L5282" class="blob-num js-line-number" data-line-number="5282"></td>
        <td id="LC5282" class="blob-code blob-code-inner js-file-line">    }<span class="pl-k">else</span> <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5283" class="blob-num js-line-number" data-line-number="5283"></td>
        <td id="LC5283" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5284" class="blob-num js-line-number" data-line-number="5284"></td>
        <td id="LC5284" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L5285" class="blob-num js-line-number" data-line-number="5285"></td>
        <td id="LC5285" class="blob-code blob-code-inner js-file-line">	  area[lat_idx*lon_nbr+lon_idx]=dgr2rdn*(lon_bnd[<span class="pl-c1">2</span>*lon_idx+<span class="pl-c1">1</span>]-lon_bnd[<span class="pl-c1">2</span>*lon_idx])*(<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*lat_idx+<span class="pl-c1">1</span>])-<span class="pl-c1">sin</span>(dgr2rdn*lat_bnd[<span class="pl-c1">2</span>*lat_idx]));</td>
      </tr>
      <tr>
        <td id="L5286" class="blob-num js-line-number" data-line-number="5286"></td>
        <td id="LC5286" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5287" class="blob-num js-line-number" data-line-number="5287"></td>
        <td id="LC5287" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !area_id */</span></td>
      </tr>
      <tr>
        <td id="L5288" class="blob-num js-line-number" data-line-number="5288"></td>
        <td id="LC5288" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5289" class="blob-num js-line-number" data-line-number="5289"></td>
        <td id="LC5289" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Input mask can be any type and output mask will always be NC_INT */</span></td>
      </tr>
      <tr>
        <td id="L5290" class="blob-num js-line-number" data-line-number="5290"></td>
        <td id="LC5290" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_id == NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L5291" class="blob-num js-line-number" data-line-number="5291"></td>
        <td id="LC5291" class="blob-code blob-code-inner js-file-line">    <span class="pl-c">/* Default mask if necessary */</span></td>
      </tr>
      <tr>
        <td id="L5292" class="blob-num js-line-number" data-line-number="5292"></td>
        <td id="LC5292" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++) msk[idx]=<span class="pl-c1">1</span>;</td>
      </tr>
      <tr>
        <td id="L5293" class="blob-num js-line-number" data-line-number="5293"></td>
        <td id="LC5293" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L5294" class="blob-num js-line-number" data-line-number="5294"></td>
        <td id="LC5294" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">switch</span>(msk_typ){</td>
      </tr>
      <tr>
        <td id="L5295" class="blob-num js-line-number" data-line-number="5295"></td>
        <td id="LC5295" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> NC_FLOAT:</td>
      </tr>
      <tr>
        <td id="L5296" class="blob-num js-line-number" data-line-number="5296"></td>
        <td id="LC5296" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++) msk[idx]=msk_unn.<span class="pl-smi">fp</span>[idx];</td>
      </tr>
      <tr>
        <td id="L5297" class="blob-num js-line-number" data-line-number="5297"></td>
        <td id="LC5297" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5298" class="blob-num js-line-number" data-line-number="5298"></td>
        <td id="LC5298" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> NC_DOUBLE:</td>
      </tr>
      <tr>
        <td id="L5299" class="blob-num js-line-number" data-line-number="5299"></td>
        <td id="LC5299" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++) msk[idx]=msk_unn.<span class="pl-smi">dp</span>[idx];</td>
      </tr>
      <tr>
        <td id="L5300" class="blob-num js-line-number" data-line-number="5300"></td>
        <td id="LC5300" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5301" class="blob-num js-line-number" data-line-number="5301"></td>
        <td id="LC5301" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">case</span> NC_INT:</td>
      </tr>
      <tr>
        <td id="L5302" class="blob-num js-line-number" data-line-number="5302"></td>
        <td id="LC5302" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(idx=<span class="pl-c1">0</span>;idx&lt;grd_sz_nbr;idx++) msk[idx]=msk_unn.<span class="pl-smi">ip</span>[idx];</td>
      </tr>
      <tr>
        <td id="L5303" class="blob-num js-line-number" data-line-number="5303"></td>
        <td id="LC5303" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5304" class="blob-num js-line-number" data-line-number="5304"></td>
        <td id="LC5304" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">default</span>:</td>
      </tr>
      <tr>
        <td id="L5305" class="blob-num js-line-number" data-line-number="5305"></td>
        <td id="LC5305" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: ERROR <span class="pl-c1">%s</span> unknown mask type<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L5306" class="blob-num js-line-number" data-line-number="5306"></td>
        <td id="LC5306" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">nco_dfl_case_generic_err</span>();</td>
      </tr>
      <tr>
        <td id="L5307" class="blob-num js-line-number" data-line-number="5307"></td>
        <td id="LC5307" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> NCO_ERR;</td>
      </tr>
      <tr>
        <td id="L5308" class="blob-num js-line-number" data-line-number="5308"></td>
        <td id="LC5308" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="L5309" class="blob-num js-line-number" data-line-number="5309"></td>
        <td id="LC5309" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !msk_typ */</span></td>
      </tr>
      <tr>
        <td id="L5310" class="blob-num js-line-number" data-line-number="5310"></td>
        <td id="LC5310" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(msk_unn.<span class="pl-smi">vp</span>) msk_unn.<span class="pl-smi">vp</span>=(<span class="pl-k">void</span> *)<span class="pl-c1">nco_free</span>(msk_unn.<span class="pl-smi">vp</span>);</td>
      </tr>
      <tr>
        <td id="L5311" class="blob-num js-line-number" data-line-number="5311"></td>
        <td id="LC5311" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !msk_id */</span></td>
      </tr>
      <tr>
        <td id="L5312" class="blob-num js-line-number" data-line-number="5312"></td>
        <td id="LC5312" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5313" class="blob-num js-line-number" data-line-number="5313"></td>
        <td id="LC5313" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">nco_dbg_lvl_get</span>() &gt;= nco_dbg_sbr){</td>
      </tr>
      <tr>
        <td id="L5314" class="blob-num js-line-number" data-line-number="5314"></td>
        <td id="LC5314" class="blob-code blob-code-inner js-file-line">    lat_wgt_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L5315" class="blob-num js-line-number" data-line-number="5315"></td>
        <td id="LC5315" class="blob-code blob-code-inner js-file-line">    area_ttl=<span class="pl-c1">0.0</span>;</td>
      </tr>
      <tr>
        <td id="L5316" class="blob-num js-line-number" data-line-number="5316"></td>
        <td id="LC5316" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5317" class="blob-num js-line-number" data-line-number="5317"></td>
        <td id="LC5317" class="blob-code blob-code-inner js-file-line">      (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stderr,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: INFO <span class="pl-c1">%s</span> reports destination rectangular latitude grid:<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,<span class="pl-c1">nco_prg_nm_get</span>(),fnc_nm);</td>
      </tr>
      <tr>
        <td id="L5318" class="blob-num js-line-number" data-line-number="5318"></td>
        <td id="LC5318" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5319" class="blob-num js-line-number" data-line-number="5319"></td>
        <td id="LC5319" class="blob-code blob-code-inner js-file-line">	lat_wgt_ttl+=lat_wgt[lat_idx];</td>
      </tr>
      <tr>
        <td id="L5320" class="blob-num js-line-number" data-line-number="5320"></td>
        <td id="LC5320" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5321" class="blob-num js-line-number" data-line-number="5321"></td>
        <td id="LC5321" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++)</td>
      </tr>
      <tr>
        <td id="L5322" class="blob-num js-line-number" data-line-number="5322"></td>
        <td id="LC5322" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++)</td>
      </tr>
      <tr>
        <td id="L5323" class="blob-num js-line-number" data-line-number="5323"></td>
        <td id="LC5323" class="blob-code blob-code-inner js-file-line">	area_ttl+=area[lat_idx*lon_nbr+lon_idx];</td>
      </tr>
      <tr>
        <td id="L5324" class="blob-num js-line-number" data-line-number="5324"></td>
        <td id="LC5324" class="blob-code blob-code-inner js-file-line">    (<span class="pl-k">void</span>)<span class="pl-c1">fprintf</span>(stdout,<span class="pl-s"><span class="pl-pds">&quot;</span>lat_wgt_ttl = <span class="pl-c1">%20.15f</span>, frc_lat_wgt = <span class="pl-c1">%20.15f</span>, area_ttl = <span class="pl-c1">%20.15f</span>, frc_area = <span class="pl-c1">%20.15f</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,lat_wgt_ttl,lat_wgt_ttl/<span class="pl-c1">2.0</span>,area_ttl,area_ttl/(<span class="pl-c1">4.0</span>*M_PI));</td>
      </tr>
      <tr>
        <td id="L5325" class="blob-num js-line-number" data-line-number="5325"></td>
        <td id="LC5325" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_ttl &gt; <span class="pl-c1">0.0</span>);</td>
      </tr>
      <tr>
        <td id="L5326" class="blob-num js-line-number" data-line-number="5326"></td>
        <td id="LC5326" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">assert</span>(area_ttl &lt;= <span class="pl-c1">4.0</span>*M_PI);</td>
      </tr>
      <tr>
        <td id="L5327" class="blob-num js-line-number" data-line-number="5327"></td>
        <td id="LC5327" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* endif dbg */</span></td>
      </tr>
      <tr>
        <td id="L5328" class="blob-num js-line-number" data-line-number="5328"></td>
        <td id="LC5328" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5329" class="blob-num js-line-number" data-line-number="5329"></td>
        <td id="LC5329" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Stuff rectangular arrays into unrolled arrays */</span></td>
      </tr>
      <tr>
        <td id="L5330" class="blob-num js-line-number" data-line-number="5330"></td>
        <td id="LC5330" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(flg_grd_2D){</td>
      </tr>
      <tr>
        <td id="L5331" class="blob-num js-line-number" data-line-number="5331"></td>
        <td id="LC5331" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">for</span>(lat_idx=<span class="pl-c1">0</span>;lat_idx&lt;lat_nbr;lat_idx++){</td>
      </tr>
      <tr>
        <td id="L5332" class="blob-num js-line-number" data-line-number="5332"></td>
        <td id="LC5332" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span>(lon_idx=<span class="pl-c1">0</span>;lon_idx&lt;lon_nbr;lon_idx++){</td>
      </tr>
      <tr>
        <td id="L5333" class="blob-num js-line-number" data-line-number="5333"></td>
        <td id="LC5333" class="blob-code blob-code-inner js-file-line">	idx=lat_idx*lon_nbr+lon_idx;</td>
      </tr>
      <tr>
        <td id="L5334" class="blob-num js-line-number" data-line-number="5334"></td>
        <td id="LC5334" class="blob-code blob-code-inner js-file-line">	grd_ctr_lat[idx]=lat_ctr[lat_idx];</td>
      </tr>
      <tr>
        <td id="L5335" class="blob-num js-line-number" data-line-number="5335"></td>
        <td id="LC5335" class="blob-code blob-code-inner js-file-line">	grd_ctr_lon[idx]=lon_ctr[lon_idx];</td>
      </tr>
      <tr>
        <td id="L5336" class="blob-num js-line-number" data-line-number="5336"></td>
        <td id="LC5336" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">for</span>(crn_idx=<span class="pl-c1">0</span>;crn_idx&lt;grd_crn_nbr;crn_idx++){</td>
      </tr>
      <tr>
        <td id="L5337" class="blob-num js-line-number" data-line-number="5337"></td>
        <td id="LC5337" class="blob-code blob-code-inner js-file-line">	  idx2=grd_crn_nbr*idx+crn_idx;</td>
      </tr>
      <tr>
        <td id="L5338" class="blob-num js-line-number" data-line-number="5338"></td>
        <td id="LC5338" class="blob-code blob-code-inner js-file-line">	  lat_idx2=lat_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L5339" class="blob-num js-line-number" data-line-number="5339"></td>
        <td id="LC5339" class="blob-code blob-code-inner js-file-line">	  lon_idx2=lon_idx*grd_crn_nbr+crn_idx;</td>
      </tr>
      <tr>
        <td id="L5340" class="blob-num js-line-number" data-line-number="5340"></td>
        <td id="LC5340" class="blob-code blob-code-inner js-file-line">	  grd_crn_lat[idx2]=lat_crn[lat_idx2];</td>
      </tr>
      <tr>
        <td id="L5341" class="blob-num js-line-number" data-line-number="5341"></td>
        <td id="LC5341" class="blob-code blob-code-inner js-file-line">	  grd_crn_lon[idx2]=lon_crn[lon_idx2];</td>
      </tr>
      <tr>
        <td id="L5342" class="blob-num js-line-number" data-line-number="5342"></td>
        <td id="LC5342" class="blob-code blob-code-inner js-file-line">	} <span class="pl-c">/* !crn */</span></td>
      </tr>
      <tr>
        <td id="L5343" class="blob-num js-line-number" data-line-number="5343"></td>
        <td id="LC5343" class="blob-code blob-code-inner js-file-line">      } <span class="pl-c">/* !lon */</span></td>
      </tr>
      <tr>
        <td id="L5344" class="blob-num js-line-number" data-line-number="5344"></td>
        <td id="LC5344" class="blob-code blob-code-inner js-file-line">    } <span class="pl-c">/* !lat */</span></td>
      </tr>
      <tr>
        <td id="L5345" class="blob-num js-line-number" data-line-number="5345"></td>
        <td id="LC5345" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !flg_grd_2D */</span></td>
      </tr>
      <tr>
        <td id="L5346" class="blob-num js-line-number" data-line-number="5346"></td>
        <td id="LC5346" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5347" class="blob-num js-line-number" data-line-number="5347"></td>
        <td id="LC5347" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Open grid file */</span></td>
      </tr>
      <tr>
        <td id="L5348" class="blob-num js-line-number" data-line-number="5348"></td>
        <td id="LC5348" class="blob-code blob-code-inner js-file-line">  fl_out_tmp=<span class="pl-c1">nco_fl_out_open</span>(fl_out,FORCE_APPEND,FORCE_OVERWRITE,fl_out_fmt,&amp;bfr_sz_hnt,RAM_CREATE,RAM_OPEN,WRT_TMP_FL,&amp;out_id);</td>
      </tr>
      <tr>
        <td id="L5349" class="blob-num js-line-number" data-line-number="5349"></td>
        <td id="LC5349" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5350" class="blob-num js-line-number" data-line-number="5350"></td>
        <td id="LC5350" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define dimensions */</span></td>
      </tr>
      <tr>
        <td id="L5351" class="blob-num js-line-number" data-line-number="5351"></td>
        <td id="LC5351" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_crn_nm,grd_crn_nbr,&amp;dmn_id_grd_crn);</td>
      </tr>
      <tr>
        <td id="L5352" class="blob-num js-line-number" data-line-number="5352"></td>
        <td id="LC5352" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_sz_nm,grd_sz_nbr,&amp;dmn_id_grd_sz);</td>
      </tr>
      <tr>
        <td id="L5353" class="blob-num js-line-number" data-line-number="5353"></td>
        <td id="LC5353" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_def_dim</span>(out_id,grd_rnk_nm,grd_rnk_nbr,&amp;dmn_id_grd_rnk);</td>
      </tr>
      <tr>
        <td id="L5354" class="blob-num js-line-number" data-line-number="5354"></td>
        <td id="LC5354" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5355" class="blob-num js-line-number" data-line-number="5355"></td>
        <td id="LC5355" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define variables */</span></td>
      </tr>
      <tr>
        <td id="L5356" class="blob-num js-line-number" data-line-number="5356"></td>
        <td id="LC5356" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,dmn_sz_nm,(nc_type)NC_INT,dmn_nbr_1D,&amp;dmn_id_grd_rnk,&amp;dmn_sz_int_id);</td>
      </tr>
      <tr>
        <td id="L5357" class="blob-num js-line-number" data-line-number="5357"></td>
        <td id="LC5357" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,area_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;area_id);</td>
      </tr>
      <tr>
        <td id="L5358" class="blob-num js-line-number" data-line-number="5358"></td>
        <td id="LC5358" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,msk_nm,(nc_type)NC_INT,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;msk_id);</td>
      </tr>
      <tr>
        <td id="L5359" class="blob-num js-line-number" data-line-number="5359"></td>
        <td id="LC5359" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_ctr_lat_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;grd_ctr_lat_id);</td>
      </tr>
      <tr>
        <td id="L5360" class="blob-num js-line-number" data-line-number="5360"></td>
        <td id="LC5360" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_ctr_lon_nm,crd_typ,dmn_nbr_1D,&amp;dmn_id_grd_sz,&amp;grd_ctr_lon_id);</td>
      </tr>
      <tr>
        <td id="L5361" class="blob-num js-line-number" data-line-number="5361"></td>
        <td id="LC5361" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">0</span>]=dmn_id_grd_sz;</td>
      </tr>
      <tr>
        <td id="L5362" class="blob-num js-line-number" data-line-number="5362"></td>
        <td id="LC5362" class="blob-code blob-code-inner js-file-line">  dmn_ids[<span class="pl-c1">1</span>]=dmn_id_grd_crn;</td>
      </tr>
      <tr>
        <td id="L5363" class="blob-num js-line-number" data-line-number="5363"></td>
        <td id="LC5363" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_crn_lat_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;grd_crn_lat_id);</td>
      </tr>
      <tr>
        <td id="L5364" class="blob-num js-line-number" data-line-number="5364"></td>
        <td id="LC5364" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_def_var</span>(out_id,grd_crn_lon_nm,crd_typ,dmn_nbr_2D,dmn_ids,&amp;grd_crn_lon_id);</td>
      </tr>
      <tr>
        <td id="L5365" class="blob-num js-line-number" data-line-number="5365"></td>
        <td id="LC5365" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5366" class="blob-num js-line-number" data-line-number="5366"></td>
        <td id="LC5366" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Define &quot;units&quot; attributes */</span></td>
      </tr>
      <tr>
        <td id="L5367" class="blob-num js-line-number" data-line-number="5367"></td>
        <td id="LC5367" class="blob-code blob-code-inner js-file-line">  aed_sct aed_mtd;</td>
      </tr>
      <tr>
        <td id="L5368" class="blob-num js-line-number" data-line-number="5368"></td>
        <td id="LC5368" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_nm;</td>
      </tr>
      <tr>
        <td id="L5369" class="blob-num js-line-number" data-line-number="5369"></td>
        <td id="LC5369" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">char</span> *att_val;</td>
      </tr>
      <tr>
        <td id="L5370" class="blob-num js-line-number" data-line-number="5370"></td>
        <td id="LC5370" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5371" class="blob-num js-line-number" data-line-number="5371"></td>
        <td id="LC5371" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>title<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5372" class="blob-num js-line-number" data-line-number="5372"></td>
        <td id="LC5372" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(<span class="pl-c1">strstr</span>(rgr-&gt;grd_ttl,<span class="pl-s"><span class="pl-pds">&quot;</span>None given<span class="pl-pds">&quot;</span></span>)){</td>
      </tr>
      <tr>
        <td id="L5373" class="blob-num js-line-number" data-line-number="5373"></td>
        <td id="LC5373" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-k">char</span> att_fmt[]=<span class="pl-s"><span class="pl-pds">&quot;</span>Grid inferred by NCO from input file <span class="pl-c1">%s</span><span class="pl-pds">&quot;</span></span>;</td>
      </tr>
      <tr>
        <td id="L5374" class="blob-num js-line-number" data-line-number="5374"></td>
        <td id="LC5374" class="blob-code blob-code-inner js-file-line">    att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_malloc</span>((<span class="pl-c1">strlen</span>(att_fmt)+<span class="pl-c1">strlen</span>(rgr-&gt;fl_in)+<span class="pl-c1">1L</span>)*<span class="pl-k">sizeof</span>(<span class="pl-k">char</span>));</td>
      </tr>
      <tr>
        <td id="L5375" class="blob-num js-line-number" data-line-number="5375"></td>
        <td id="LC5375" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">sprintf</span>(att_val,att_fmt,rgr-&gt;fl_in);</td>
      </tr>
      <tr>
        <td id="L5376" class="blob-num js-line-number" data-line-number="5376"></td>
        <td id="LC5376" class="blob-code blob-code-inner js-file-line">  }<span class="pl-k">else</span>{</td>
      </tr>
      <tr>
        <td id="L5377" class="blob-num js-line-number" data-line-number="5377"></td>
        <td id="LC5377" class="blob-code blob-code-inner js-file-line">    att_val=<span class="pl-c1">strdup</span>(rgr-&gt;grd_ttl);</td>
      </tr>
      <tr>
        <td id="L5378" class="blob-num js-line-number" data-line-number="5378"></td>
        <td id="LC5378" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !grd_ttl */</span></td>
      </tr>
      <tr>
        <td id="L5379" class="blob-num js-line-number" data-line-number="5379"></td>
        <td id="LC5379" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5380" class="blob-num js-line-number" data-line-number="5380"></td>
        <td id="LC5380" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L5381" class="blob-num js-line-number" data-line-number="5381"></td>
        <td id="LC5381" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L5382" class="blob-num js-line-number" data-line-number="5382"></td>
        <td id="LC5382" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5383" class="blob-num js-line-number" data-line-number="5383"></td>
        <td id="LC5383" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5384" class="blob-num js-line-number" data-line-number="5384"></td>
        <td id="LC5384" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5385" class="blob-num js-line-number" data-line-number="5385"></td>
        <td id="LC5385" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5386" class="blob-num js-line-number" data-line-number="5386"></td>
        <td id="LC5386" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5387" class="blob-num js-line-number" data-line-number="5387"></td>
        <td id="LC5387" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5388" class="blob-num js-line-number" data-line-number="5388"></td>
        <td id="LC5388" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5389" class="blob-num js-line-number" data-line-number="5389"></td>
        <td id="LC5389" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5390" class="blob-num js-line-number" data-line-number="5390"></td>
        <td id="LC5390" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Conventions<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5391" class="blob-num js-line-number" data-line-number="5391"></td>
        <td id="LC5391" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>SCRIP<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5392" class="blob-num js-line-number" data-line-number="5392"></td>
        <td id="LC5392" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5393" class="blob-num js-line-number" data-line-number="5393"></td>
        <td id="LC5393" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L5394" class="blob-num js-line-number" data-line-number="5394"></td>
        <td id="LC5394" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L5395" class="blob-num js-line-number" data-line-number="5395"></td>
        <td id="LC5395" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5396" class="blob-num js-line-number" data-line-number="5396"></td>
        <td id="LC5396" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5397" class="blob-num js-line-number" data-line-number="5397"></td>
        <td id="LC5397" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5398" class="blob-num js-line-number" data-line-number="5398"></td>
        <td id="LC5398" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5399" class="blob-num js-line-number" data-line-number="5399"></td>
        <td id="LC5399" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5400" class="blob-num js-line-number" data-line-number="5400"></td>
        <td id="LC5400" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5401" class="blob-num js-line-number" data-line-number="5401"></td>
        <td id="LC5401" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5402" class="blob-num js-line-number" data-line-number="5402"></td>
        <td id="LC5402" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5403" class="blob-num js-line-number" data-line-number="5403"></td>
        <td id="LC5403" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-k">char</span> usr_cpp[]=<span class="pl-c1">TKN2SNG</span>(USER); <span class="pl-c">/* [sng] Hostname from C pre-processor */</span></td>
      </tr>
      <tr>
        <td id="L5404" class="blob-num js-line-number" data-line-number="5404"></td>
        <td id="LC5404" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>created_by<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5405" class="blob-num js-line-number" data-line-number="5405"></td>
        <td id="LC5405" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(usr_cpp);</td>
      </tr>
      <tr>
        <td id="L5406" class="blob-num js-line-number" data-line-number="5406"></td>
        <td id="LC5406" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5407" class="blob-num js-line-number" data-line-number="5407"></td>
        <td id="LC5407" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L5408" class="blob-num js-line-number" data-line-number="5408"></td>
        <td id="LC5408" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L5409" class="blob-num js-line-number" data-line-number="5409"></td>
        <td id="LC5409" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5410" class="blob-num js-line-number" data-line-number="5410"></td>
        <td id="LC5410" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5411" class="blob-num js-line-number" data-line-number="5411"></td>
        <td id="LC5411" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5412" class="blob-num js-line-number" data-line-number="5412"></td>
        <td id="LC5412" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5413" class="blob-num js-line-number" data-line-number="5413"></td>
        <td id="LC5413" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5414" class="blob-num js-line-number" data-line-number="5414"></td>
        <td id="LC5414" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5415" class="blob-num js-line-number" data-line-number="5415"></td>
        <td id="LC5415" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5416" class="blob-num js-line-number" data-line-number="5416"></td>
        <td id="LC5416" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5417" class="blob-num js-line-number" data-line-number="5417"></td>
        <td id="LC5417" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_hst_att_cat</span>(out_id,rgr-&gt;cmd_ln);</td>
      </tr>
      <tr>
        <td id="L5418" class="blob-num js-line-number" data-line-number="5418"></td>
        <td id="LC5418" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_vrs_att_cat</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L5419" class="blob-num js-line-number" data-line-number="5419"></td>
        <td id="LC5419" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5420" class="blob-num js-line-number" data-line-number="5420"></td>
        <td id="LC5420" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>latitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5421" class="blob-num js-line-number" data-line-number="5421"></td>
        <td id="LC5421" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lat_sng</span>(lat_typ));</td>
      </tr>
      <tr>
        <td id="L5422" class="blob-num js-line-number" data-line-number="5422"></td>
        <td id="LC5422" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5423" class="blob-num js-line-number" data-line-number="5423"></td>
        <td id="LC5423" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L5424" class="blob-num js-line-number" data-line-number="5424"></td>
        <td id="LC5424" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L5425" class="blob-num js-line-number" data-line-number="5425"></td>
        <td id="LC5425" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5426" class="blob-num js-line-number" data-line-number="5426"></td>
        <td id="LC5426" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5427" class="blob-num js-line-number" data-line-number="5427"></td>
        <td id="LC5427" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5428" class="blob-num js-line-number" data-line-number="5428"></td>
        <td id="LC5428" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5429" class="blob-num js-line-number" data-line-number="5429"></td>
        <td id="LC5429" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5430" class="blob-num js-line-number" data-line-number="5430"></td>
        <td id="LC5430" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5431" class="blob-num js-line-number" data-line-number="5431"></td>
        <td id="LC5431" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5432" class="blob-num js-line-number" data-line-number="5432"></td>
        <td id="LC5432" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5433" class="blob-num js-line-number" data-line-number="5433"></td>
        <td id="LC5433" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>longitude_grid_type<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5434" class="blob-num js-line-number" data-line-number="5434"></td>
        <td id="LC5434" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-c1">nco_grd_lon_sng</span>(lon_typ));</td>
      </tr>
      <tr>
        <td id="L5435" class="blob-num js-line-number" data-line-number="5435"></td>
        <td id="LC5435" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5436" class="blob-num js-line-number" data-line-number="5436"></td>
        <td id="LC5436" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=<span class="pl-c1">NULL</span>;</td>
      </tr>
      <tr>
        <td id="L5437" class="blob-num js-line-number" data-line-number="5437"></td>
        <td id="LC5437" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=NC_GLOBAL;</td>
      </tr>
      <tr>
        <td id="L5438" class="blob-num js-line-number" data-line-number="5438"></td>
        <td id="LC5438" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5439" class="blob-num js-line-number" data-line-number="5439"></td>
        <td id="LC5439" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5440" class="blob-num js-line-number" data-line-number="5440"></td>
        <td id="LC5440" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5441" class="blob-num js-line-number" data-line-number="5441"></td>
        <td id="LC5441" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5442" class="blob-num js-line-number" data-line-number="5442"></td>
        <td id="LC5442" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,NC_GLOBAL,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5443" class="blob-num js-line-number" data-line-number="5443"></td>
        <td id="LC5443" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5444" class="blob-num js-line-number" data-line-number="5444"></td>
        <td id="LC5444" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5445" class="blob-num js-line-number" data-line-number="5445"></td>
        <td id="LC5445" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5446" class="blob-num js-line-number" data-line-number="5446"></td>
        <td id="LC5446" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5447" class="blob-num js-line-number" data-line-number="5447"></td>
        <td id="LC5447" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>steradian<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5448" class="blob-num js-line-number" data-line-number="5448"></td>
        <td id="LC5448" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5449" class="blob-num js-line-number" data-line-number="5449"></td>
        <td id="LC5449" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=area_nm;</td>
      </tr>
      <tr>
        <td id="L5450" class="blob-num js-line-number" data-line-number="5450"></td>
        <td id="LC5450" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=area_id;</td>
      </tr>
      <tr>
        <td id="L5451" class="blob-num js-line-number" data-line-number="5451"></td>
        <td id="LC5451" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5452" class="blob-num js-line-number" data-line-number="5452"></td>
        <td id="LC5452" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5453" class="blob-num js-line-number" data-line-number="5453"></td>
        <td id="LC5453" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5454" class="blob-num js-line-number" data-line-number="5454"></td>
        <td id="LC5454" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5455" class="blob-num js-line-number" data-line-number="5455"></td>
        <td id="LC5455" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,area_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5456" class="blob-num js-line-number" data-line-number="5456"></td>
        <td id="LC5456" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5457" class="blob-num js-line-number" data-line-number="5457"></td>
        <td id="LC5457" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5458" class="blob-num js-line-number" data-line-number="5458"></td>
        <td id="LC5458" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5459" class="blob-num js-line-number" data-line-number="5459"></td>
        <td id="LC5459" class="blob-code blob-code-inner js-file-line">  att_nm=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>units<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5460" class="blob-num js-line-number" data-line-number="5460"></td>
        <td id="LC5460" class="blob-code blob-code-inner js-file-line">  att_val=<span class="pl-c1">strdup</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>degrees<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="L5461" class="blob-num js-line-number" data-line-number="5461"></td>
        <td id="LC5461" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">att_nm</span>=att_nm;</td>
      </tr>
      <tr>
        <td id="L5462" class="blob-num js-line-number" data-line-number="5462"></td>
        <td id="LC5462" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">sz</span>=<span class="pl-c1">strlen</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5463" class="blob-num js-line-number" data-line-number="5463"></td>
        <td id="LC5463" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">type</span>=NC_CHAR;</td>
      </tr>
      <tr>
        <td id="L5464" class="blob-num js-line-number" data-line-number="5464"></td>
        <td id="LC5464" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">val</span>.<span class="pl-smi">cp</span>=att_val;</td>
      </tr>
      <tr>
        <td id="L5465" class="blob-num js-line-number" data-line-number="5465"></td>
        <td id="LC5465" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">mode</span>=aed_create;</td>
      </tr>
      <tr>
        <td id="L5466" class="blob-num js-line-number" data-line-number="5466"></td>
        <td id="LC5466" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Add same units attribute to four different variables */</span></td>
      </tr>
      <tr>
        <td id="L5467" class="blob-num js-line-number" data-line-number="5467"></td>
        <td id="LC5467" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_ctr_lat_nm;</td>
      </tr>
      <tr>
        <td id="L5468" class="blob-num js-line-number" data-line-number="5468"></td>
        <td id="LC5468" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_ctr_lat_id;</td>
      </tr>
      <tr>
        <td id="L5469" class="blob-num js-line-number" data-line-number="5469"></td>
        <td id="LC5469" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_ctr_lat_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5470" class="blob-num js-line-number" data-line-number="5470"></td>
        <td id="LC5470" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_ctr_lon_nm;</td>
      </tr>
      <tr>
        <td id="L5471" class="blob-num js-line-number" data-line-number="5471"></td>
        <td id="LC5471" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_ctr_lon_id;</td>
      </tr>
      <tr>
        <td id="L5472" class="blob-num js-line-number" data-line-number="5472"></td>
        <td id="LC5472" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_ctr_lon_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5473" class="blob-num js-line-number" data-line-number="5473"></td>
        <td id="LC5473" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_crn_lat_nm;</td>
      </tr>
      <tr>
        <td id="L5474" class="blob-num js-line-number" data-line-number="5474"></td>
        <td id="LC5474" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_crn_lat_id;</td>
      </tr>
      <tr>
        <td id="L5475" class="blob-num js-line-number" data-line-number="5475"></td>
        <td id="LC5475" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_crn_lat_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5476" class="blob-num js-line-number" data-line-number="5476"></td>
        <td id="LC5476" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">var_nm</span>=grd_crn_lon_nm;</td>
      </tr>
      <tr>
        <td id="L5477" class="blob-num js-line-number" data-line-number="5477"></td>
        <td id="LC5477" class="blob-code blob-code-inner js-file-line">  aed_mtd.<span class="pl-smi">id</span>=grd_crn_lon_id;</td>
      </tr>
      <tr>
        <td id="L5478" class="blob-num js-line-number" data-line-number="5478"></td>
        <td id="LC5478" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_aed_prc</span>(out_id,grd_crn_lon_id,aed_mtd);</td>
      </tr>
      <tr>
        <td id="L5479" class="blob-num js-line-number" data-line-number="5479"></td>
        <td id="LC5479" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_nm) att_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_nm);</td>
      </tr>
      <tr>
        <td id="L5480" class="blob-num js-line-number" data-line-number="5480"></td>
        <td id="LC5480" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(att_val) att_val=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(att_val);</td>
      </tr>
      <tr>
        <td id="L5481" class="blob-num js-line-number" data-line-number="5481"></td>
        <td id="LC5481" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5482" class="blob-num js-line-number" data-line-number="5482"></td>
        <td id="LC5482" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Begin data mode */</span></td>
      </tr>
      <tr>
        <td id="L5483" class="blob-num js-line-number" data-line-number="5483"></td>
        <td id="LC5483" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_enddef</span>(out_id);</td>
      </tr>
      <tr>
        <td id="L5484" class="blob-num js-line-number" data-line-number="5484"></td>
        <td id="LC5484" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5485" class="blob-num js-line-number" data-line-number="5485"></td>
        <td id="LC5485" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Write variables */</span></td>
      </tr>
      <tr>
        <td id="L5486" class="blob-num js-line-number" data-line-number="5486"></td>
        <td id="LC5486" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5487" class="blob-num js-line-number" data-line-number="5487"></td>
        <td id="LC5487" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_rnk_nbr;</td>
      </tr>
      <tr>
        <td id="L5488" class="blob-num js-line-number" data-line-number="5488"></td>
        <td id="LC5488" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,dmn_sz_int_id,dmn_srt,dmn_cnt,dmn_sz_int,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L5489" class="blob-num js-line-number" data-line-number="5489"></td>
        <td id="LC5489" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5490" class="blob-num js-line-number" data-line-number="5490"></td>
        <td id="LC5490" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5491" class="blob-num js-line-number" data-line-number="5491"></td>
        <td id="LC5491" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,area_id,dmn_srt,dmn_cnt,area,crd_typ);</td>
      </tr>
      <tr>
        <td id="L5492" class="blob-num js-line-number" data-line-number="5492"></td>
        <td id="LC5492" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_id != NC_MIN_INT){</td>
      </tr>
      <tr>
        <td id="L5493" class="blob-num js-line-number" data-line-number="5493"></td>
        <td id="LC5493" class="blob-code blob-code-inner js-file-line">    dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5494" class="blob-num js-line-number" data-line-number="5494"></td>
        <td id="LC5494" class="blob-code blob-code-inner js-file-line">    dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5495" class="blob-num js-line-number" data-line-number="5495"></td>
        <td id="LC5495" class="blob-code blob-code-inner js-file-line">    rcd=<span class="pl-c1">nco_put_vara</span>(out_id,msk_id,dmn_srt,dmn_cnt,msk,(nc_type)NC_INT);</td>
      </tr>
      <tr>
        <td id="L5496" class="blob-num js-line-number" data-line-number="5496"></td>
        <td id="LC5496" class="blob-code blob-code-inner js-file-line">  } <span class="pl-c">/* !msk */</span></td>
      </tr>
      <tr>
        <td id="L5497" class="blob-num js-line-number" data-line-number="5497"></td>
        <td id="LC5497" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5498" class="blob-num js-line-number" data-line-number="5498"></td>
        <td id="LC5498" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5499" class="blob-num js-line-number" data-line-number="5499"></td>
        <td id="LC5499" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_ctr_lat_id,dmn_srt,dmn_cnt,grd_ctr_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L5500" class="blob-num js-line-number" data-line-number="5500"></td>
        <td id="LC5500" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5501" class="blob-num js-line-number" data-line-number="5501"></td>
        <td id="LC5501" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5502" class="blob-num js-line-number" data-line-number="5502"></td>
        <td id="LC5502" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_ctr_lon_id,dmn_srt,dmn_cnt,grd_ctr_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L5503" class="blob-num js-line-number" data-line-number="5503"></td>
        <td id="LC5503" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5504" class="blob-num js-line-number" data-line-number="5504"></td>
        <td id="LC5504" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5505" class="blob-num js-line-number" data-line-number="5505"></td>
        <td id="LC5505" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">1</span>]=grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L5506" class="blob-num js-line-number" data-line-number="5506"></td>
        <td id="LC5506" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_crn_lat_id,dmn_srt,dmn_cnt,grd_crn_lat,crd_typ);</td>
      </tr>
      <tr>
        <td id="L5507" class="blob-num js-line-number" data-line-number="5507"></td>
        <td id="LC5507" class="blob-code blob-code-inner js-file-line">  dmn_srt[<span class="pl-c1">0</span>]=dmn_srt[<span class="pl-c1">1</span>]=<span class="pl-c1">0L</span>;</td>
      </tr>
      <tr>
        <td id="L5508" class="blob-num js-line-number" data-line-number="5508"></td>
        <td id="LC5508" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">0</span>]=grd_sz_nbr;</td>
      </tr>
      <tr>
        <td id="L5509" class="blob-num js-line-number" data-line-number="5509"></td>
        <td id="LC5509" class="blob-code blob-code-inner js-file-line">  dmn_cnt[<span class="pl-c1">1</span>]=grd_crn_nbr;</td>
      </tr>
      <tr>
        <td id="L5510" class="blob-num js-line-number" data-line-number="5510"></td>
        <td id="LC5510" class="blob-code blob-code-inner js-file-line">  rcd=<span class="pl-c1">nco_put_vara</span>(out_id,grd_crn_lon_id,dmn_srt,dmn_cnt,grd_crn_lon,crd_typ);</td>
      </tr>
      <tr>
        <td id="L5511" class="blob-num js-line-number" data-line-number="5511"></td>
        <td id="LC5511" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5512" class="blob-num js-line-number" data-line-number="5512"></td>
        <td id="LC5512" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Close output file and move it from temporary to permanent location */</span></td>
      </tr>
      <tr>
        <td id="L5513" class="blob-num js-line-number" data-line-number="5513"></td>
        <td id="LC5513" class="blob-code blob-code-inner js-file-line">  (<span class="pl-k">void</span>)<span class="pl-c1">nco_fl_out_cls</span>(fl_out,fl_out_tmp,out_id);</td>
      </tr>
      <tr>
        <td id="L5514" class="blob-num js-line-number" data-line-number="5514"></td>
        <td id="LC5514" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5515" class="blob-num js-line-number" data-line-number="5515"></td>
        <td id="LC5515" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free memory associated with input file */</span></td>
      </tr>
      <tr>
        <td id="L5516" class="blob-num js-line-number" data-line-number="5516"></td>
        <td id="LC5516" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(dmn_sz_int) dmn_sz_int=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(dmn_sz_int);</td>
      </tr>
      <tr>
        <td id="L5517" class="blob-num js-line-number" data-line-number="5517"></td>
        <td id="LC5517" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk) msk=(<span class="pl-k">int</span> *)<span class="pl-c1">nco_free</span>(msk);</td>
      </tr>
      <tr>
        <td id="L5518" class="blob-num js-line-number" data-line-number="5518"></td>
        <td id="LC5518" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(area) area=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(area);</td>
      </tr>
      <tr>
        <td id="L5519" class="blob-num js-line-number" data-line-number="5519"></td>
        <td id="LC5519" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_ctr_lat) grd_ctr_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_ctr_lat);</td>
      </tr>
      <tr>
        <td id="L5520" class="blob-num js-line-number" data-line-number="5520"></td>
        <td id="LC5520" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_ctr_lon) grd_ctr_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_ctr_lon);</td>
      </tr>
      <tr>
        <td id="L5521" class="blob-num js-line-number" data-line-number="5521"></td>
        <td id="LC5521" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_crn_lat) grd_crn_lat=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_crn_lat);</td>
      </tr>
      <tr>
        <td id="L5522" class="blob-num js-line-number" data-line-number="5522"></td>
        <td id="LC5522" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(grd_crn_lon) grd_crn_lon=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(grd_crn_lon);</td>
      </tr>
      <tr>
        <td id="L5523" class="blob-num js-line-number" data-line-number="5523"></td>
        <td id="LC5523" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd) lat_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_bnd);</td>
      </tr>
      <tr>
        <td id="L5524" class="blob-num js-line-number" data-line-number="5524"></td>
        <td id="LC5524" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_crn) lat_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_crn);</td>
      </tr>
      <tr>
        <td id="L5525" class="blob-num js-line-number" data-line-number="5525"></td>
        <td id="LC5525" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ctr) lat_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ctr);</td>
      </tr>
      <tr>
        <td id="L5526" class="blob-num js-line-number" data-line-number="5526"></td>
        <td id="LC5526" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_ntf) lat_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_ntf);</td>
      </tr>
      <tr>
        <td id="L5527" class="blob-num js-line-number" data-line-number="5527"></td>
        <td id="LC5527" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_wgt) lat_wgt=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lat_wgt);</td>
      </tr>
      <tr>
        <td id="L5528" class="blob-num js-line-number" data-line-number="5528"></td>
        <td id="LC5528" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd) lon_bnd=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_bnd);</td>
      </tr>
      <tr>
        <td id="L5529" class="blob-num js-line-number" data-line-number="5529"></td>
        <td id="LC5529" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_crn) lon_crn=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_crn);</td>
      </tr>
      <tr>
        <td id="L5530" class="blob-num js-line-number" data-line-number="5530"></td>
        <td id="LC5530" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ctr) lon_ctr=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ctr);</td>
      </tr>
      <tr>
        <td id="L5531" class="blob-num js-line-number" data-line-number="5531"></td>
        <td id="LC5531" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_ntf) lon_ntf=(<span class="pl-k">double</span> *)<span class="pl-c1">nco_free</span>(lon_ntf);</td>
      </tr>
      <tr>
        <td id="L5532" class="blob-num js-line-number" data-line-number="5532"></td>
        <td id="LC5532" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5533" class="blob-num js-line-number" data-line-number="5533"></td>
        <td id="LC5533" class="blob-code blob-code-inner js-file-line">  <span class="pl-c">/* Free strings */</span></td>
      </tr>
      <tr>
        <td id="L5534" class="blob-num js-line-number" data-line-number="5534"></td>
        <td id="LC5534" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_dmn_nm) lat_dmn_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lat_dmn_nm);</td>
      </tr>
      <tr>
        <td id="L5535" class="blob-num js-line-number" data-line-number="5535"></td>
        <td id="LC5535" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_dmn_nm) lon_dmn_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lon_dmn_nm);</td>
      </tr>
      <tr>
        <td id="L5536" class="blob-num js-line-number" data-line-number="5536"></td>
        <td id="LC5536" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(bnd_dmn_nm) bnd_dmn_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(bnd_dmn_nm);</td>
      </tr>
      <tr>
        <td id="L5537" class="blob-num js-line-number" data-line-number="5537"></td>
        <td id="LC5537" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_nm_in) lat_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lat_nm_in);</td>
      </tr>
      <tr>
        <td id="L5538" class="blob-num js-line-number" data-line-number="5538"></td>
        <td id="LC5538" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_nm_in) lon_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lon_nm_in);</td>
      </tr>
      <tr>
        <td id="L5539" class="blob-num js-line-number" data-line-number="5539"></td>
        <td id="LC5539" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lat_bnd_nm) lat_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lat_bnd_nm);</td>
      </tr>
      <tr>
        <td id="L5540" class="blob-num js-line-number" data-line-number="5540"></td>
        <td id="LC5540" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(lon_bnd_nm) lon_bnd_nm=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(lon_bnd_nm);</td>
      </tr>
      <tr>
        <td id="L5541" class="blob-num js-line-number" data-line-number="5541"></td>
        <td id="LC5541" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(area_nm_in) area_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(area_nm_in);</td>
      </tr>
      <tr>
        <td id="L5542" class="blob-num js-line-number" data-line-number="5542"></td>
        <td id="LC5542" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span>(msk_nm_in) msk_nm_in=(<span class="pl-k">char</span> *)<span class="pl-c1">nco_free</span>(msk_nm_in);</td>
      </tr>
      <tr>
        <td id="L5543" class="blob-num js-line-number" data-line-number="5543"></td>
        <td id="LC5543" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="L5544" class="blob-num js-line-number" data-line-number="5544"></td>
        <td id="LC5544" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">return</span> rcd;</td>
      </tr>
      <tr>
        <td id="L5545" class="blob-num js-line-number" data-line-number="5545"></td>
        <td id="LC5545" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="L5546" class="blob-num js-line-number" data-line-number="5546"></td>
        <td id="LC5546" class="blob-code blob-code-inner js-file-line">} <span class="pl-c">/* !nco_grd_nfr() */</span></td>
      </tr>
</table>

  </div>

</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
    <button type="submit" class="btn">Go</button>
</form></div>

  </div>
  <div class="modal-backdrop"></div>
</div>

    </div>
  </div>

    </div>

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>
        <li><a href="https://github.com/pricing" data-ga-click="Footer, go to pricing, text:pricing">Pricing</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.33049s from github-fe131-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



    
    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
        <span class="octicon octicon-x"></span>
      </button>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" integrity="sha256-l2+92s2tzzK6vbHiyKRvr+c1chcJSka10K/YmAXWu/c=" src="https://assets-cdn.github.com/assets/frameworks-976fbddacdadcf32babdb1e2c8a46fafe7357217094a46b5d0afd89805d6bbf7.js"></script>
      <script async="async" crossorigin="anonymous" integrity="sha256-N72+QTuNY+tARklDiRZxG/c1B+GXowOYCXvHFursd4Q=" src="https://assets-cdn.github.com/assets/github-37bdbe413b8d63eb404649438916711bf73507e197a30398097bc716eaec7784.js"></script>
      
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner hidden">
      <span class="octicon octicon-alert"></span>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
    </div>
  </body>
</html>

